/*! For license information please see main.1a220547.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(a[c]=s[c]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if("function"===typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},171:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new u(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function l(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})}function g(e){return r(indexedDB,"deleteDatabase",[e])}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},I=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),A(o,t,n,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+S(a=e[c],c);l+=A(a,t,n,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,n,u=r+S(a,c++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var x={current:null};function O(){var e=x.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)I.call(t,u)&&!E.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},234:(e,t)=>{"use strict";var n,r,i,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(h,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,I=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?I.postMessage(null):(m=!1,g=null)}catch(n){throw I.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,I.postMessage(null))},r=function(e,n){y=d(function(){e(t.unstable_now())},n)},i=function(){f(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],A=[],N=1,C=null,x=3,O=!1,P=!1,D=!1;function R(e){for(var t=_(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,E(S,t)}t=_(A)}}function L(e){if(D=!1,R(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(A);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),O=!0;var s=x;try{for(R(n),C=_(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,x=C.priorityLevel;var a=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?C.callback=a:C===_(S)&&k(S),R(n)}else k(S);C=_(S)}if(null!==C)var l=!0;else{var c=_(A);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{C=null,x=s,O=!1}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,E(A,e),null===_(S)&&e===_(A)&&(D?i():D=!0,r(L,o-a))):(e.sortIndex=l,E(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},248:e=>{var t="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),s=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,_=60106,k=60107,T=60108,S=60114,A=60109,N=60110,C=60112,x=60113,O=60120,P=60115,D=60116,R=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),_=j("react.portal"),k=j("react.fragment"),T=j("react.strict_mode"),S=j("react.profiler"),A=j("react.provider"),N=j("react.context"),C=j("react.forward_ref"),x=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),D=j("react.lazy"),R=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case S:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Q(e.type);case R:return Q(e._render);case D:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ye=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ge(e,t)})}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function Ie(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ie(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach(function(e){be.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]})});var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ne=null,Ce=null;function xe(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=si(t),Ae(e.stateNode,e.type,t))}}function Oe(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function Pe(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Fe=!1,Ue=!1;function je(){null===Ne&&null===Ce||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){Be=!1}function qe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var He=!1,Ke=null,We=!1,Qe=null,Ge={onError:function(e){He=!0,Ke=e}};function Ye(e,t,n,r,i,s,o,a,l){He=!1,Ke=null,qe.apply(Ge,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ze(i),e;if(s===r)return Ze(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,st=!1,ot=[],at=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=pt(t,n,r,i,s),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,function(){s.unstable_runWithPriority(e.priority,function(){rt(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(st=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),null!==ct&&vt(ct)&&(ct=null),ut.forEach(wt),ht.forEach(wt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bt)))}function Et(e){function t(t){return It(t,e)}if(0<ot.length){It(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&It(at,e),null!==lt&&It(lt,e),null!==ct&&It(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)yt(n),null===n.blockedOn&&dt.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Tt={},St={};function At(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Nt=At("animationend"),Ct=At("animationiteration"),xt=At("animationstart"),Ot=At("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,s.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Mt=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=Ft(l),i=Mt):0!==(a&=s)&&(r=Ft(a),i=Mt)}else 0!==(s=n&~o)?(r=Ft(s),i=Mt):0!==a&&(r=Ft(a),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Qt=s.unstable_UserBlockingPriority,Gt=s.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Fe||Le();var i=Zt,s=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=s)||je()}}function Xt(e,t,n,r){Gt(Qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var s=$t(e,t,n,r);if(null===s)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(s,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,gt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ht.set(s,gt(ht.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;mt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var s=Je(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Xe(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,un,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),mn=ln(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),yn=ln(gn),vn=ln(i({},gn,{dataTransfer:0})),wn=ln(i({},pn,{relatedTarget:0})),bn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=ln(In),_n=ln(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Nn(){return An}var Cn=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=ln(Cn),On=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Dn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=ln(Rn),Mn=[9,13,27,32],Fn=h&&"CompositionEvent"in window,Un=null;h&&"documentMode"in document&&(Un=document.documentMode);var jn=h&&"TextEvent"in window&&!Un,Vn=h&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Xn(e){Cr(e,0)}function Zn(e){if(X(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",sr),Jn=Yn=null)}function sr(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Gn(t,Jn,e,Se(e)),e=Xn,Fe)e(t);else{Fe=!0;try{De(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function lr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,Ir=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==wr||wr!==Z(r)||("selectionStart"in(r=wr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ir&&dr(Ir,r)||(Ir=r,0<(r=Fr(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<kr.length;Tr++)Dt.set(kr[Tr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var u=Ke;He=!1,Ke=null,We||(We=!0,Qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,a,c),s=l}}}if(We)throw e=Qe,We=!1,Qe=null,e}function xr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,a.forEach(function(t){Ar.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)}))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=oi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Rr(s,e,i,t),o.add(a))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ni(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Me(e,t,n)}finally{Ue=!1,je()}}(function(){var r=s,i=Se(n),o=[];e:{var a=Pt.get(e);if(void 0!==a){var l=fn,c=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=wn;break;case"focusout":c="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Nt:case Ct:case xt:l=bn;break;case Ot:l=Dn;break;case"scroll":l=mn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&u.push(Mr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=yn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ii(l),f=null==c?a:ii(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ni(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ur(f))p++;for(f=0,m=d;m;m=Ur(m))f++;for(;0<p-f;)u=Ur(u),p--;for(;0<f-p;)d=Ur(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ur(u),d=Ur(d)}u=null}else u=null;null!==l&&jr(o,a,l,u,!1),null!==c&&null!==h&&jr(o,h,c,u,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Qn(a))if(er)g=cr;else{g=ar;var y=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=lr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ii(r):window,e){case"focusin":(Qn(y)||"true"===y.contentEditable)&&(wr=y,br=r,Ir=null);break;case"focusout":Ir=br=wr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Kn?qn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Kn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Hn(n))&&(w.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Cr(o,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Mr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Mr(e,s,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ve(n,s))&&o.unshift(Mr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Mr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function si(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ci(e){return{current:e}}function ui(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function hi(e,t){li++,ai[li]=e.current,e.current=t}var di={},fi=ci(di),pi=ci(!1),mi=di;function gi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(pi),ui(fi)}function wi(e,t,n){if(fi.current!==di)throw Error(o(168));hi(fi,t),hi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,Q(t)||"Unknown",s));return i({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=fi.current,hi(fi,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(fi),hi(fi,e)):ui(pi),hi(pi,n)}var _i=null,ki=null,Ti=s.unstable_runWithPriority,Si=s.unstable_scheduleCallback,Ai=s.unstable_cancelCallback,Ni=s.unstable_shouldYield,Ci=s.unstable_requestPaint,xi=s.unstable_now,Oi=s.unstable_getCurrentPriorityLevel,Pi=s.unstable_ImmediatePriority,Di=s.unstable_UserBlockingPriority,Ri=s.unstable_NormalPriority,Li=s.unstable_LowPriority,Mi=s.unstable_IdlePriority,Fi={},Ui=void 0!==Ci?Ci:function(){},ji=null,Vi=null,Bi=!1,zi=xi(),qi=1e4>zi?xi:function(){return xi()-zi};function Hi(){switch(Oi()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ti(e,t)}function Qi(e,t,n){return e=Ki(e),Si(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ai(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Wi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Pi,Gi),n}finally{Bi=!1}}}var Ji=I.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,es=null,ts=null;function ns(){ts=es=$i=null}function rs(e){var t=Zi.current;ui(Zi),e.type._context._currentValue=t}function is(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ss(e,t){$i=e,ts=es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function os(e,t){if(ts!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ts=e,t=1073741823),t={context:e,observedBits:t,next:null},null===es){if(null===$i)throw Error(o(308));es=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else es=es.next=t;return e._currentValue}var as=!1;function ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function cs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ds(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var s=e.updateQueue;as=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==o){for(d=s.baseState,a=0,h=u=c=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:as=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(u=h=f,c=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,za|=a,e.lanes=a,e.memoizedState=d}}function ps(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ms=(new r.Component).refs;function gs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),s=us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),hs(e,s),ml(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),s=us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),hs(e,s),ml(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fl(),r=pl(e),i=us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),hs(e,i),ml(e,r,n)}};function vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,s))}function ws(e,t,n){var r=!1,i=di,s=t.contextType;return"object"===typeof s&&null!==s?s=os(s):(i=yi(t)?mi:fi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):di),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function Is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ms,ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=os(s):(s=yi(t)?mi:fi.current,i.context=gi(e,s)),fs(e,n,i,r),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(gs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ys.enqueueReplaceState(i,i.state,null),fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Es=Array.isArray;function _s(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ms&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ks(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ts(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ql(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_s(e,t,n),r.return=e,r):((r=Gl(n.type,n.key,n.props,null,e.mode,r)).ref=_s(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gl(t.type,t.key,t.props,null,e.mode,n)).ref=_s(e,null,t),n.return=e,n;case _:return(t=Zl(t,e.mode,n)).return=e,t}if(Es(t)||z(t))return(t=Yl(t,e.mode,n,null)).return=e,t;ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null}if(Es(n)||z(n))return null!==i?null:h(e,t,n,r,null);ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Es(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);ks(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),c}function g(i,a,l,c){var u=z(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),u}return function(e,r,s,l){var c="object"===typeof s&&null!==s&&s.type===k&&null===s.key;c&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case E:e:{for(u=s.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(s.type===k){n(e,c.sibling),(r=i(c,s.props.children)).return=e,e=r;break e}}else if(c.elementType===s.type){n(e,c.sibling),(r=i(c,s.props)).ref=_s(e,c,s),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}s.type===k?((r=Yl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Gl(s.type,s.key,s.props,null,e.mode,l)).ref=_s(e,r,s),l.return=e,e=l)}return a(e);case _:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Xl(s,e.mode,l)).return=e,e=r),a(e);if(Es(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(u&&ks(e,s),"undefined"===typeof s&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(e.type)||"Component"))}return n(e,r)}}var Ss=Ts(!0),As=Ts(!1),Ns={},Cs=ci(Ns),xs=ci(Ns),Os=ci(Ns);function Ps(e){if(e===Ns)throw Error(o(174));return e}function Ds(e,t){switch(hi(Os,t),hi(xs,e),hi(Cs,Ns),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Cs),hi(Cs,t)}function Rs(){ui(Cs),ui(xs),ui(Os)}function Ls(e){Ps(Os.current);var t=Ps(Cs.current),n=pe(t,e.type);t!==n&&(hi(xs,e),hi(Cs,n))}function Ms(e){xs.current===e&&(ui(Cs),ui(xs))}var Fs=ci(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=null,Vs=null,Bs=!1;function zs(e,t){var n=Kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Hs(e){if(Bs){var t=Vs;if(t){var n=t;if(!qs(e,t)){if(!(t=Gr(n.nextSibling))||!qs(e,t))return e.flags=-1025&e.flags|2,Bs=!1,void(js=e);zs(js,n)}js=e,Vs=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Bs=!1,js=e}}function Ks(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;js=e}function Ws(e){if(e!==js)return!1;if(!Bs)return Ks(e),Bs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Vs;t;)zs(e,t),t=Gr(t.nextSibling);if(Ks(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=js?Gr(e.stateNode.nextSibling):null;return!0}function Qs(){Vs=js=null,Bs=!1}var Gs=[];function Ys(){for(var e=0;e<Gs.length;e++)Gs[e]._workInProgressVersionPrimary=null;Gs.length=0}var Js=I.ReactCurrentDispatcher,Xs=I.ReactCurrentBatchConfig,Zs=0,$s=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function so(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,s){if(Zs=s,$s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){s=0;do{if(ro=!1,!(25>s))throw Error(o(301));s+=1,to=eo=null,t.updateQueue=null,Js.current=Lo,e=n(r,i)}while(ro)}if(Js.current=Po,t=null!==eo&&null!==eo.next,Zs=0,to=eo=$s=null,no=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$s.memoizedState=to=e:to=to.next=e,to}function lo(){if(null===eo){var e=$s.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$s.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$s.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var u=c.lane;if((Zs&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,$s.lanes|=u,za|=u}c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=a,ur(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Fo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zs&e)===e)&&(t._workInProgressVersionPrimary=r,Gs.push(t))),e)return n(t._source);throw Gs.push(t),Error(o(350))}function po(e,t,n,r){var i=Ra;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Js.current,c=l.useState(function(){return fo(i,t,n)}),u=c[1],h=c[0];c=to;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=$s;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect(function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(u(e),e=pl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Ht(o),c=1<<l;r[l]|=e,o&=~c}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=pl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(s){n(function(){throw s})}})},[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:h}).dispatch=u=Oo.bind(null,$s,e),c.queue=e,c.baseQueue=null,h=fo(i,t,n),c.memoizedState=c.baseState=h),h}function mo(e,t,n){return po(lo(),e,t,n)}function go(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,$s,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$s.updateQueue)?(t={lastEffect:null},$s.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},ao().memoizedState=e}function wo(){return lo().memoizedState}function bo(e,t,n,r){var i=ao();$s.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=void 0;if(null!==eo){var o=eo.memoizedState;if(s=o.destroy,null!==r&&so(r,o.deps))return void yo(t,n,s,r)}$s.flags|=e,i.memoizedState=yo(1|t,n,s,r)}function Eo(e,t){return bo(516,4,e,t)}function _o(e,t){return Io(516,4,e,t)}function ko(e,t){return Io(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,2,To.bind(null,t,e),n)}function Ao(){}function No(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xo(e,t){var n=Hi();Wi(98>n?98:n,function(){e(!0)}),Wi(97<n?97:n,function(){var n=Xs.transition;Xs.transition=1;try{e(!1),t()}finally{Xs.transition=n}})}function Oo(e,t,n){var r=fl(),i=pl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===$s||null!==o&&o===$s)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(c){}ml(e,i,r)}}var Po={readContext:os,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:os,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:os,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,$s,e),[r.memoizedState,e]},useRef:vo,useState:go,useDebugValue:Ao,useDeferredValue:function(e){var t=go(e),n=t[0],r=t[1];return Eo(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=go(!1),t=e[0];return vo(e=xo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Bs){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))}),n=go(t)[1];return 0===(2&$s.mode)&&($s.flags|=516,yo(5,function(){n("r:"+(Jr++).toString(36))},void 0,null)),t}return go(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:os,useCallback:No,useContext:os,useEffect:_o,useImperativeHandle:So,useLayoutEffect:ko,useMemo:Co,useReducer:uo,useRef:wo,useState:function(){return uo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=uo(co),n=t[0],r=t[1];return _o(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=uo(co)[0];return[wo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return uo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:os,useCallback:No,useContext:os,useEffect:_o,useImperativeHandle:So,useLayoutEffect:ko,useMemo:Co,useReducer:ho,useRef:wo,useState:function(){return ho(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=ho(co),n=t[0],r=t[1];return _o(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=ho(co)[0];return[wo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Mo=I.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?As(t,null,n,r):Ss(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=oo(e,t,n,r,s,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!==typeof o||Wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,s))}return o=e.child,0===(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?oa(e,t,s):(t.flags|=1,(e=Ql(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,s){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(s&i))return t.lanes=e.lanes,oa(e,t,s);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,s)}function zo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_l(t,n);else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_l(t,e),null;t.memoizedState={baseLanes:0},_l(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_l(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var s=yi(n)?mi:fi.current;return s=gi(t,s),ss(t,i),n=oo(e,t,n,r,s,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var s=!0;Ii(t)}else s=!1;if(ss(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ws(t,n,r),Is(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=os(c):c=gi(t,c=yi(n)?mi:fi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&bs(t,o,r,c),as=!1;var d=t.memoizedState;o.state=d,fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||pi.current||as?("function"===typeof u&&(gs(t,n,u,r),l=t.memoizedState),(a=as||vs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,cs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Xi(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=os(l):l=gi(t,l=yi(n)?mi:fi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&bs(t,o,r,l),as=!1,d=t.memoizedState,o.state=d,fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||pi.current||as?("function"===typeof f&&(gs(t,n,f,r),p=t.memoizedState),(c=as||vs(t,n,c,r,d,p,l))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,s,i)}function Wo(e,t,n,r,i,s){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),oa(e,t,s);r=t.stateNode,Mo.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,a,s)):Uo(e,t,a,s),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Qo(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ds(e,t.containerInfo)}var Go,Yo,Jo,Xo,Zo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,s=Fs.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),hi(Fs,1&s),null===e?(void 0!==i.fallback&&Hs(t),e=i.children,s=i.fallback,o?(e=ea(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,e):"number"===typeof i.unstable_expectedLoadTime?(e=ea(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,t.lanes=33554432,e):((n=Jl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=na(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Zo,i):(n=ta(e,t,i.children,n),t.memoizedState=null,n))}function ea(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Jl(t,i,0,null),n=Yl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ta(e,t,n,r){var i=e.child;return e=i.sibling,n=Ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function na(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0===(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ql(o,a),null!==e?r=Ql(e,r):(r=Yl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ra(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),is(e.return,t)}function ia(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function sa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fs.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ra(e,n);else if(19===e.tag)ra(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Fs,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ia(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ia(t,!0,n,null,s,t.lastEffect);break;case"together":ia(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),za|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function aa(e,t){if(!Bs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function la(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&vi(),null;case 3:return Rs(),ui(pi),ui(fi),Ys(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ws(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Yo(t),null;case 5:Ms(t);var s=Ps(Os.current);if(n=t.type,null!==e&&null!=t.stateNode)Jo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ps(Cs.current),Ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[$r]=a,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)xr(Sr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,a),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},xr("invalid",r);break;case"textarea":le(r,a),xr("invalid",r)}for(var c in ke(n,a),e=null,a)a.hasOwnProperty(c)&&(s=a[c],"children"===c?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&xr("scroll",r));switch(n){case"input":J(r),re(r,a,!0);break;case"textarea":J(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===s.nodeType?s:s.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Go(e,t,!1,!1),t.stateNode=e,c=Te(n,r),n){case"dialog":xr("cancel",e),xr("close",e),s=r;break;case"iframe":case"object":case"embed":xr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sr.length;s++)xr(Sr[s],e);s=r;break;case"source":xr("error",e),s=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),s=r;break;case"details":xr("toggle",e),s=r;break;case"input":ee(e,r),s=$(e,r),xr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),xr("invalid",e);break;default:s=r}ke(n,s);var u=s;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&xr("scroll",e):null!=h&&b(e,a,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ps(Os.current),Ps(Cs.current),Ws(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return ui(Fs),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ws(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fs.current)?0===ja&&(ja=3):(0!==ja&&3!==ja||(ja=4),null===Ra||0===(134217727&za)&&0===(134217727&qa)||wl(Ra,Ma))),(r||n)&&(t.flags|=4),null);case 4:return Rs(),Yo(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return rs(t),null;case 19:if(ui(Fs),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)aa(r,!1);else{if(0!==ja||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Us(e))){for(t.flags|=64,aa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Fs,1&Fs.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Qa&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Us(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Qa&&1073741824!==n&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fs.current,hi(Fs,a?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ca(e){switch(e.tag){case 1:yi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Rs(),ui(pi),ui(fi),Ys(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ms(e),null;case 13:return ui(Fs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Fs),null;case 4:return Rs(),null;case 10:return rs(e),null;case 23:case 24:return kl(),null;default:return null}}function ua(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(){},Jo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ps(Cs.current);var o,a=null;switch(n){case"input":s=$(e,s),r=$(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(h in ke(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&xr("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===L?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xa||(Xa=!0,Za=r),ha(0,t)},n}function pa(e,t,n){(n=us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ha(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$a?$a=new Set([this]):$a.add(this),ha(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ma="function"===typeof WeakSet?WeakSet:Set;function ga(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bl(e,n)}else t.current=null}function ya(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(o(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ul(n,e),Fl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ps(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ps(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function wa(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ie("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(_i,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ul(t,n);else{r=t;try{i()}catch(s){Bl(r,s)}}n=n.next}while(n!==e)}break;case 1:if(ga(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Bl(t,s)}break;case 5:ga(t);break;case 4:Sa(e,t)}}function Ia(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function _a(e){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ka(e,n,t):Ta(e,n,t)}function ka(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function Ta(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ta(e,t,n),e=e.sibling;null!==e;)Ta(e,t,n),e=e.sibling}function Sa(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(ba(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Aa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ye(n,l):"children"===a?ve(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=qi(),wa(t.child,!0)),void Na(t);case 19:return void Na(t);case 23:case 24:return void wa(t,null!==t.memoizedState)}throw Error(o(163))}function Na(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ma),t.forEach(function(t){var r=ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ca(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xa=Math.ceil,Oa=I.ReactCurrentDispatcher,Pa=I.ReactCurrentOwner,Da=0,Ra=null,La=null,Ma=0,Fa=0,Ua=ci(0),ja=0,Va=null,Ba=0,za=0,qa=0,Ha=0,Ka=null,Wa=0,Qa=1/0;function Ga(){Qa=qi()+500}var Ya,Ja=null,Xa=!1,Za=null,$a=null,el=!1,tl=null,nl=90,rl=[],il=[],sl=null,ol=0,al=null,ll=-1,cl=0,ul=0,hl=null,dl=!1;function fl(){return 0!==(48&Da)?qi():-1!==ll?ll:ll=qi()}function pl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===cl&&(cl=Ba),0!==Ji.transition){0!==ul&&(ul=null!==Ka?Ka.pendingLanes:0),e=cl;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Da)&&98===e?e=Vt(12,cl):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cl),e}function ml(e,t,n){if(50<ol)throw ol=0,al=null,Error(o(185));if(null===(e=gl(e,t)))return null;qt(e,t,n),e===Ra&&(qa|=t,4===ja&&wl(e,Ma));var r=Hi();1===t?0!==(8&Da)&&0===(48&Da)?bl(e):(yl(e,n),0===Da&&(Ga(),Gi())):(0===(4&Da)||98!==r&&99!==r||(null===sl?sl=new Set([e]):sl.add(e)),yl(e,n)),Ka=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ht(a),c=1<<l,u=s[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Ft(c);var h=Mt;s[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ut(e,e===Ra?Ma:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ai(n)}15===t?(n=bl.bind(null,e),null===ji?(ji=[n],Vi=Si(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Qi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Qi(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(ll=-1,ul=cl=0,0!==(48&Da))throw Error(o(327));var t=e.callbackNode;if(Ml()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ra?Ma:0);if(0===n)return null;var r=n,i=Da;Da|=16;var s=Al();for(Ra===e&&Ma===r||(Ga(),Tl(e,r));;)try{xl();break}catch(l){Sl(e,l)}if(ns(),Oa.current=s,Da=i,null!==La?r=0:(Ra=null,Ma=0,r=ja),0!==(Ba&qa))Tl(e,0);else if(0!==r){if(2===r&&(Da|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=jt(e))&&(r=Nl(e,n))),1===r)throw t=Va,Tl(e,0),wl(e,n),yl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Dl(e);break;case 3:if(wl(e,n),(62914560&n)===n&&10<(r=Wa+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Dl.bind(null,e),r);break}Dl(e);break;case 4:if(wl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Ht(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xa(n/1960))-n)){e.timeoutHandle=Kr(Dl.bind(null,e),n);break}Dl(e);break;default:throw Error(o(329))}}return yl(e,qi()),e.callbackNode===t?vl.bind(null,e):null}function wl(e,t){for(t&=~Ha,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Da))throw Error(o(327));if(Ml(),e===Ra&&0!==(e.expiredLanes&Ma)){var t=Ma,n=Nl(e,t);0!==(Ba&qa)&&(n=Nl(e,t=Ut(e,t)))}else n=Nl(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Da|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=jt(e))&&(n=Nl(e,t))),1===n)throw n=Va,Tl(e,0),wl(e,t),yl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e),yl(e,qi()),null}function Il(e,t){var n=Da;Da|=1;try{return e(t)}finally{0===(Da=n)&&(Ga(),Gi())}}function El(e,t){var n=Da;Da&=-2,Da|=8;try{return e(t)}finally{0===(Da=n)&&(Ga(),Gi())}}function _l(e,t){hi(Ua,Fa),Fa|=t,Ba|=t}function kl(){Fa=Ua.current,ui(Ua)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==La)for(n=La.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Rs(),ui(pi),ui(fi),Ys();break;case 5:Ms(r);break;case 4:Rs();break;case 13:case 19:ui(Fs);break;case 10:rs(r);break;case 23:case 24:kl()}n=n.return}Ra=e,La=Ql(e.current,null),Ma=Fa=Ba=t,ja=0,Va=null,Ha=qa=za=0}function Sl(e,t){for(;;){var n=La;try{if(ns(),Js.current=Po,no){for(var r=$s.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Zs=0,to=eo=$s=null,ro=!1,Pa.current=null,null===n||null===n.return){ja=1,Va=t,La=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ma,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Fs.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(c),d.updateQueue=y}else g.add(c);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=us(-1,1);v.tag=2,hs(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new da,l=new Set,w.set(c,l)):void 0===(l=w.get(c))&&(l=new Set,w.set(c,l)),!l.has(a)){l.add(a);var b=zl.bind(null,s,c,a);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((Q(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ja&&(ja=2),l=ua(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,ds(d,fa(0,s,t));break e;case 1:s=l;var I=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof I.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===$a||!$a.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,ds(d,pa(d,s,t));break e}}d=d.return}while(null!==d)}Pl(n)}catch(_){t=_,La===n&&null!==n&&(La=n=n.return);continue}break}}function Al(){var e=Oa.current;return Oa.current=Po,null===e?Po:e}function Nl(e,t){var n=Da;Da|=16;var r=Al();for(Ra===e&&Ma===t||Tl(e,t);;)try{Cl();break}catch(i){Sl(e,i)}if(ns(),Da=n,Oa.current=r,null!==La)throw Error(o(261));return Ra=null,Ma=0,ja}function Cl(){for(;null!==La;)Ol(La)}function xl(){for(;null!==La&&!Ni();)Ol(La)}function Ol(e){var t=Ya(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,null===t?Pl(e):La=t,Pa.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=la(n,t,Fa)))return void(La=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fa)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ca(t)))return n.flags&=2047,void(La=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(La=t);La=t=e}while(null!==t);0===ja&&(ja=5)}function Dl(e){var t=Hi();return Wi(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Ml()}while(null!==tl);if(0!==(48&Da))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Ht(s),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~u}if(null!==sl&&0===(24&r)&&sl.has(e)&&sl.delete(e),e===Ra&&(La=Ra=null,Ma=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Da,Da|=32,Pa.current=null,Br=Yt,yr(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(S){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==c||0!==u&&3!==g.nodeType||(f=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===l&&++p===s&&(d=h),y===c&&++m===u&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:a,selectionRange:l},Yt=!1,hl=null,dl=!1,Ja=r;do{try{Ll()}catch(S){if(null===Ja)throw Error(o(330));Bl(Ja,S),Ja=Ja.nextEffect}}while(null!==Ja);hl=null,Ja=r;do{try{for(a=e;null!==Ja;){var w=Ja.flags;if(16&w&&ve(Ja.stateNode,""),128&w){var b=Ja.alternate;if(null!==b){var I=b.ref;null!==I&&("function"===typeof I?I(null):I.current=null)}}switch(1038&w){case 2:_a(Ja),Ja.flags&=-3;break;case 6:_a(Ja),Ja.flags&=-3,Aa(Ja.alternate,Ja);break;case 1024:Ja.flags&=-1025;break;case 1028:Ja.flags&=-1025,Aa(Ja.alternate,Ja);break;case 4:Aa(Ja.alternate,Ja);break;case 8:Sa(a,l=Ja);var E=l.alternate;Ia(l),null!==E&&Ia(E)}Ja=Ja.nextEffect}}catch(S){if(null===Ja)throw Error(o(330));Bl(Ja,S),Ja=Ja.nextEffect}}while(null!==Ja);if(I=zr,b=gr(),w=I.focusedElem,a=I.selectionRange,b!==w&&w&&w.ownerDocument&&mr(w.ownerDocument.documentElement,w)){null!==a&&yr(w)&&(b=a.start,void 0===(I=a.end)&&(I=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(I,w.value.length)):(I=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(I=I.getSelection(),l=w.textContent.length,E=Math.min(a.start,l),a=void 0===a.end?E:Math.min(a.end,l),!I.extend&&E>a&&(l=a,a=E,E=l),l=pr(w,E),s=pr(w,a),l&&s&&(1!==I.rangeCount||I.anchorNode!==l.node||I.anchorOffset!==l.offset||I.focusNode!==s.node||I.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),I.removeAllRanges(),E>a?(I.addRange(b),I.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),I.addRange(b))))),b=[];for(I=w;I=I.parentNode;)1===I.nodeType&&b.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<b.length;w++)(I=b[w]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Yt=!!Br,zr=Br=null,e.current=n,Ja=r;do{try{for(w=e;null!==Ja;){var _=Ja.flags;if(36&_&&va(w,Ja.alternate,Ja),128&_){b=void 0;var k=Ja.ref;if(null!==k){var T=Ja.stateNode;Ja.tag,b=T,"function"===typeof k?k(b):k.current=b}}Ja=Ja.nextEffect}}catch(S){if(null===Ja)throw Error(o(330));Bl(Ja,S),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Ui(),Da=i}else e.current=n;if(el)el=!1,tl=e,nl=t;else for(Ja=r;null!==Ja;)t=Ja.nextEffect,Ja.nextEffect=null,8&Ja.flags&&((_=Ja).sibling=null,_.stateNode=null),Ja=t;if(0===(r=e.pendingLanes)&&($a=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(yl(e,qi()),Xa)throw Xa=!1,e=Za,Za=null,e;return 0!==(8&Da)||Gi(),null}function Ll(){for(;null!==Ja;){var e=Ja.alternate;dl||null===hl||(0!==(8&Ja.flags)?et(Ja,hl)&&(dl=!0):13===Ja.tag&&Ca(e,Ja)&&et(Ja,hl)&&(dl=!0));var t=Ja.flags;0!==(256&t)&&ya(e,Ja),0===(512&t)||el||(el=!0,Qi(97,function(){return Ml(),null})),Ja=Ja.nextEffect}}function Ml(){if(90!==nl){var e=97<nl?97:nl;return nl=90,Wi(e,jl)}return!1}function Fl(e,t){rl.push(t,e),el||(el=!0,Qi(97,function(){return Ml(),null}))}function Ul(e,t){il.push(t,e),el||(el=!0,Qi(97,function(){return Ml(),null}))}function jl(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&Da))throw Error(o(331));var t=Da;Da|=32;var n=il;il=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===s)throw Error(o(330));Bl(s,c)}}for(n=rl,rl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===s)throw Error(o(330));Bl(s,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Da=t,Gi(),!0}function Vl(e,t,n){hs(e,t=fa(0,t=ua(n,t),1)),t=fl(),null!==(e=gl(e,1))&&(qt(e,1,t),yl(e,t))}function Bl(e,t){if(3===e.tag)Vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$a||!$a.has(r))){var i=pa(n,e=ua(t,e),1);if(hs(n,i),i=fl(),null!==(n=gl(n,1)))qt(n,1,i),yl(n,i);else if("function"===typeof r.componentDidCatch&&(null===$a||!$a.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function zl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&n,Ra===e&&(Ma&n)===n&&(4===ja||3===ja&&(62914560&Ma)===Ma&&500>qi()-Wa?Tl(e,0):Ha|=n),yl(e,t)}function ql(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===cl&&(cl=Ba),0===(t=Bt(62914560&~cl))&&(t=4194304))),n=fl(),null!==(e=gl(e,t))&&(qt(e,t,n),yl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(e,t,n,r){return new Hl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ql(e,t){var n=e.alternate;return null===n?((n=Kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Wl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Yl(n.children,i,s,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case S:return(e=Kl(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=s,e;case x:return(e=Kl(13,n,t,i)).type=x,e.elementType=x,e.lanes=s,e;case O:return(e=Kl(19,n,t,i)).elementType=O,e.lanes=s,e;case F:return Jl(n,i,s,t);case U:return(e=Kl(24,n,t,i)).elementType=U,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case N:a=9;break e;case C:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e;case R:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Kl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Yl(e,t,n,r){return(e=Kl(7,e,r,t)).lanes=n,e}function Jl(e,t,n,r){return(e=Kl(23,e,r,t)).elementType=F,e.lanes=n,e}function Xl(e,t,n){return(e=Kl(6,e,null,t)).lanes=n,e}function Zl(e,t,n){return(t=Kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n,r){var i=t.current,s=fl(),a=pl(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),hs(i,t),ml(i,a,s),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $l(e,t,null!=n&&!0===n.hydrate),t=Kl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ls(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=tc(o);a.call(e)}}ec(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tc(o);l.call(e)}}El(function(){ec(t,o,e,i)})}return tc(o)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ya=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Qo(t),Qs();break;case 5:Ls(t);break;case 1:yi(t.type)&&Ii(t);break;case 4:Ds(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(hi(Fs,1&Fs.current),null!==(t=oa(e,t,n))?t.sibling:null);hi(Fs,1&Fs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return sa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Fs,Fs.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return oa(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,fi.current),ss(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var s=!0;Ii(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ls(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&gs(t,r,a,e),i.updater=ys,t.stateNode=i,i._reactInternals=t,Is(t,r,e,n),t=Wo(null,t,r,!0,s,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),s){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,cs(e,t),fs(t,r,null,n),(r=t.memoizedState.element)===i)Qs(),t=oa(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Gr(t.stateNode.containerInfo.firstChild),js=t,s=Bs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Gs.push(s);for(n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Qs();t=t.child}return t;case 5:return Ls(t),null===e&&Hs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Hr(r,i)?a=null:null!==s&&Hr(r,s)&&(t.flags|=16),qo(e,t),Uo(e,t,a,n),t.child;case 6:return null===e&&Hs(t),null;case 13:return $o(e,t,n);case 4:return Ds(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ss(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(hi(Zi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=ur(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!pi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&s)){1===l.tag&&((u=us(-1,n&-n)).tag=2,hs(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),is(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,ss(t,n),r=r(i=os(i,s.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return s=Xi(i=t.type,t.pendingProps),Vo(e,t,i,s=Xi(i.type,s),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,Ii(t)):e=!1,ss(t,n),ws(t,r,i),Is(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return sa(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,function(){t[ei]=null})},tt=function(e){13===e.tag&&(ml(e,4,fl()),rc(e,4))},nt=function(e){13===e.tag&&(ml(e,67108864,fl()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fl(),n=pl(e);ml(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=si(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=Il,Re=function(e,t,n,r,i){var s=Da;Da|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Da=s)&&(Ga(),Gi())}},Le=function(){0===(49&Da)&&(function(){if(null!==sl){var e=sl;sl=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,yl(e,qi())})}Gi()}(),Ml())},Me=function(e,t){var n=Da;Da|=2;try{return e(t)}finally{0===(Da=n)&&(Ga(),Gi())}};var lc={Events:[ri,ii,si,Oe,Pe,Ml,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{_i=hc.inject(uc),ki=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Da;if(0!==(48&n))return e(t);Da|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Da=n,Gi()}},t.hydrate=function(e,t,n){if(!sc(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!sc(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sc(e))throw Error(o(40));return!!e._reactRootContainer&&(El(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0)},t.unstable_batchedUpdates=Il,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".4e439fbb.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="facebook-clone-react:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/facebook-clone-react/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfacebook_clone_react=self.webpackChunkfacebook_clone_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Yt,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>$n,_addOrOverwriteComponent:()=>er,_apps:()=>Xn,_clearComponents:()=>ir,_components:()=>Zn,_getProvider:()=>nr,_registerComponent:()=>tr,_removeServiceInstance:()=>rr,deleteApp:()=>hr,getApp:()=>cr,getApps:()=>ur,initializeApp:()=>lr,onLog:()=>fr,registerVersion:()=>dr,setLogLevel:()=>pr});var t=n(43),r=n(950);const i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var o,a=o||(o={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";var l=function(e){return e};function c(e){e.preventDefault(),e.returnValue=""}function u(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function f(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,t){if(!e)throw new Error(t)}const m=(0,t.createContext)(null);const g=(0,t.createContext)(null);const y=(0,t.createContext)({outlet:null,matches:[]});function v(e){return(0,t.useContext)(y).outlet}function w(e){p(!1)}function b(e){let{basename:n="/",children:r=null,location:i,navigationType:s=o.Pop,navigator:a,static:l=!1}=e;_()&&p(!1);let c=q(n),u=(0,t.useMemo)(()=>({basename:c,navigator:a,static:l}),[c,a,l]);"string"===typeof i&&(i=f(i));let{pathname:h="/",search:d="",hash:y="",state:v=null,key:w="default"}=i,b=(0,t.useMemo)(()=>{let e=B(h,c);return null==e?null:{pathname:e,search:d,hash:y,state:v,key:w}},[c,h,d,y,v,w]);return null==b?null:(0,t.createElement)(m.Provider,{value:u},(0,t.createElement)(g.Provider,{children:r,value:{location:b,navigationType:s}}))}function I(e){let{children:n,location:r}=e;return function(e,n){_()||p(!1);let{matches:r}=(0,t.useContext)(y),i=r[r.length-1],s=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;let a,l=k();if(n){var c;let e="string"===typeof n?f(n):n;"/"===o||(null==(c=e.pathname)?void 0:c.startsWith(o))||p(!1),a=e}else a=l;let u=a.pathname||"/",h="/"===o?u:u.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");let r="string"===typeof t?f(t):t,i=B(r.pathname||"/",n);if(null==i)return null;let s=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a)o=F(s[a],e,i);return o}(e,{pathname:h});0;return U(d&&d.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:z([o,e.pathnameBase])})),r)}(A(n),r)}function E(e){_()||p(!1);let{basename:n,navigator:r}=(0,t.useContext)(m),{hash:i,pathname:s,search:o}=S(e),a=s;if("/"!==n){let t=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?f(e).pathname:e.pathname}(e),r=null!=t&&t.endsWith("/");a="/"===s?n+(r?"/":""):z([n,s])}return r.createHref({pathname:a,search:o,hash:i})}function _(){return null!=(0,t.useContext)(g)}function k(){return _()||p(!1),(0,t.useContext)(g).location}function T(){_()||p(!1);let{basename:e,navigator:n}=(0,t.useContext)(m),{matches:r}=(0,t.useContext)(y),{pathname:i}=k(),s=JSON.stringify(r.map(e=>e.pathnameBase)),o=(0,t.useRef)(!1);(0,t.useEffect)(()=>{o.current=!0});let a=(0,t.useCallback)(function(t,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof t)return void n.go(t);let a=V(t,JSON.parse(s),i);"/"!==e&&(a.pathname=z([e,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)},[e,n,s,i]);return a}function S(e){let{matches:n}=(0,t.useContext)(y),{pathname:r}=k(),i=JSON.stringify(n.map(e=>e.pathnameBase));return(0,t.useMemo)(()=>V(e,JSON.parse(i),r),[e,i,r])}function A(e){let n=[];return t.Children.forEach(e,e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,A(e.props.children));e.type!==w&&p(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=A(e.props.children)),n.push(r)}),n}function N(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||p(!1),s.relativePath=s.relativePath.slice(r.length));let o=z([r,s.relativePath]),a=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&p(!1),N(e.children,t,a,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:a})}),t}const C=/^:\w+$/,x=3,O=2,P=1,D=10,R=-2,L=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=R),t&&(r+=O),n.filter(e=>!L(e)).reduce((e,t)=>e+(C.test(t)?x:""===t?P:D),r)}function F(e,t,n){let r=t,{routesMeta:i}=e,s={},o="/",a=[];for(let l=0;l<i.length;++l){let e=i[l],t=l===i.length-1,c="/"===o?n:n.slice(o.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:t},c);if(!u)return null;Object.assign(s,u.params);let h=r[e.childrenIndex];a.push({params:s,pathname:z([o,u.pathname]),pathnameBase:z([o,u.pathnameBase]),route:h}),"/"!==u.pathnameBase&&(o=z([o,u.pathnameBase])),r=h.children}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((r,i,s)=>(0,t.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(v,null),value:{outlet:r,matches:n.concat(e.slice(0,s+1))}}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(e,t)=>(r.push(t),"([^\\/]+)"));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|$)";let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e){try{return decodeURIComponent(e)}catch(t){return e}}(a[n]||""),e},{}),pathname:s,pathnameBase:o,pattern:e}}function V(e,t,n){let r,i="string"===typeof e?f(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:H(r),hash:K(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const z=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const G=["onClick","reloadDocument","replace","state","target","to"];function Y(e){let{basename:n,children:r,window:i}=e,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=p.location,t=m.state||{};return[t.idx,l({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:d(e)}function r(e,t){return void 0===t&&(t=null),l(s({pathname:w.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:h()}))}function i(e){y=e,e=t(),v=e[0],w=e[1],b.call({action:y,location:w})}function a(e){m.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,m=p.history,g=null;p.addEventListener("popstate",function(){if(g)I.call(g),g=null;else{var e=o.Pop,n=t(),r=n[0];if(n=n[1],I.length){if(null!=r){var s=v-r;s&&(g={action:e,location:n,retry:function(){a(-1*s)}},a(s))}}else i(e)}});var y=o.Pop,v=(e=t())[0],w=e[1],b=u(),I=u();return null==v&&(v=0,m.replaceState(s({},m.state,{idx:v}),"")),{get action(){return y},get location(){return w},createHref:n,push:function e(t,s){var a=o.Push,l=r(t,s);if(!I.length||(I.call({action:a,location:l,retry:function(){e(t,s)}}),0)){var c=[{usr:l.state,key:l.key,idx:v+1},n(l)];l=c[0],c=c[1];try{m.pushState(l,"",c)}catch(Ja){p.location.assign(c)}i(a)}},replace:function e(t,s){var a=o.Replace,l=r(t,s);I.length&&(I.call({action:a,location:l,retry:function(){e(t,s)}}),1)||(l=[{usr:l.state,key:l.key,idx:v},n(l)],m.replaceState(l[0],"",l[1]),i(a))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=I.push(e);return 1===I.length&&p.addEventListener("beforeunload",c),function(){t(),I.length||p.removeEventListener("beforeunload",c)}}}}({window:i}));let p=a.current,[m,g]=(0,t.useState)({action:p.action,location:p.location});return(0,t.useLayoutEffect)(()=>p.listen(g),[p]),(0,t.createElement)(b,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:p})}const J=(0,t.forwardRef)(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,c=Q(e,G),u=E(l),h=function(e,n){let{target:r,replace:i,state:s}=void 0===n?{}:n,o=T(),a=k(),l=S(e);return(0,t.useCallback)(t=>{if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();let n=!!i||d(a)===d(l);o(e,{replace:n,state:s})}},[a,o,l,i,s,r,e])}(l,{replace:s,state:o,target:a});return(0,t.createElement)("a",W({},c,{href:u,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:a}))});var X,Z,$;const ee=["title","titleId"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(null,arguments)}function ne(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ee);return t.createElement("svg",te({viewBox:"0 0 36 36",fill:"url(#jsc_s_2)",height:40,width:40,ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,X||(X=t.createElement("defs",null,t.createElement("linearGradient",{x1:"50%",x2:"50%",y1:"97.0782153%",y2:"0%",id:"jsc_s_2"},t.createElement("stop",{offset:"0%",stopColor:"#0062E0"}),t.createElement("stop",{offset:"100%",stopColor:"#19AFFF"})))),Z||(Z=t.createElement("path",{d:"M15 35.8C6.5 34.3 0 26.9 0 18 0 8.1 8.1 0 18 0s18 8.1 18 18c0 8.9-6.5 16.3-15 17.8l-1-.8h-4l-1 .8z"})),$||($=t.createElement("path",{fill:"white",d:"M25 23l.8-5H21v-3.5c0-1.4.5-2.5 2.7-2.5H26V7.4c-1.3-.2-2.7-.4-4-.4-4.1 0-7 2.5-7 7v4h-4.5v5H15v12.7c1 .2 2 .3 3 .3s2-.1 3-.3V23h4z"})))}const re=t.forwardRef(ne);n.p;var ie;const se=["title","titleId"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(null,arguments)}function ae(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,se);return t.createElement("svg",oe({viewBox:"0 0 28 28",height:28,width:28,ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ie||(ie=t.createElement("path",{d:"M23.5 9.5H10.25a.75.75 0 00-.75.75v7c0 .414.336.75.75.75H17v5.5H4.5v-19h19v5zm0 14h-5v-6.25a.75.75 0 00-.75-.75H11V11h12.5v12.5zm1.5.25V4.25C25 3.561 24.439 3 23.75 3H4.25C3.561 3 3 3.561 3 4.25v19.5c0 .689.561 1.25 1.25 1.25h19.5c.689 0 1.25-.561 1.25-1.25z"})))}const le=t.forwardRef(ae);n.p;var ce;const ue=["title","titleId"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(null,arguments)}function de(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ue);return t.createElement("svg",he({viewBox:"0 0 28 28",height:28,width:28,ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ce||(ce=t.createElement("path",{d:"M17.5 23.979 21.25 23.979C21.386 23.979 21.5 23.864 21.5 23.729L21.5 13.979C21.5 13.427 21.949 12.979 22.5 12.979L24.33 12.979 14.017 4.046 3.672 12.979 5.5 12.979C6.052 12.979 6.5 13.427 6.5 13.979L6.5 23.729C6.5 23.864 6.615 23.979 6.75 23.979L10.5 23.979 10.5 17.729C10.5 17.04 11.061 16.479 11.75 16.479L16.25 16.479C16.939 16.479 17.5 17.04 17.5 17.729L17.5 23.979ZM21.25 25.479 17 25.479C16.448 25.479 16 25.031 16 24.479L16 18.327C16 18.135 15.844 17.979 15.652 17.979L12.348 17.979C12.156 17.979 12 18.135 12 18.327L12 24.479C12 25.031 11.552 25.479 11 25.479L6.75 25.479C5.784 25.479 5 24.695 5 23.729L5 14.479 3.069 14.479C2.567 14.479 2.079 14.215 1.868 13.759 1.63 13.245 1.757 12.658 2.175 12.29L13.001 2.912C13.248 2.675 13.608 2.527 13.989 2.521 14.392 2.527 14.753 2.675 15.027 2.937L25.821 12.286C25.823 12.288 25.824 12.289 25.825 12.29 26.244 12.658 26.371 13.245 26.133 13.759 25.921 14.215 25.434 14.479 24.931 14.479L23 14.479 23 23.729C23 24.695 22.217 25.479 21.25 25.479Z"})))}const fe=t.forwardRef(de);n.p;var pe;const me=["title","titleId"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(null,arguments)}function ye(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,me);return t.createElement("svg",ge({viewBox:"0 0 28 28",height:28,width:28,ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,pe||(pe=t.createElement("path",{d:"M8.75 25.25C8.336 25.25 8 24.914 8 24.5 8 24.086 8.336 23.75 8.75 23.75L19.25 23.75C19.664 23.75 20 24.086 20 24.5 20 24.914 19.664 25.25 19.25 25.25L8.75 25.25ZM17.163 12.846 12.055 15.923C11.591 16.202 11 15.869 11 15.327L11 9.172C11 8.631 11.591 8.297 12.055 8.576L17.163 11.654C17.612 11.924 17.612 12.575 17.163 12.846ZM21.75 20.25C22.992 20.25 24 19.242 24 18L24 6.5C24 5.258 22.992 4.25 21.75 4.25L6.25 4.25C5.008 4.25 4 5.258 4 6.5L4 18C4 19.242 5.008 20.25 6.25 20.25L21.75 20.25ZM21.75 21.75 6.25 21.75C4.179 21.75 2.5 20.071 2.5 18L2.5 6.5C2.5 4.429 4.179 2.75 6.25 2.75L21.75 2.75C23.821 2.75 25.5 4.429 25.5 6.5L25.5 18C25.5 20.071 23.821 21.75 21.75 21.75Z"})))}const ve=t.forwardRef(ye);n.p;var we;const be=["title","titleId"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(null,arguments)}function Ee(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,be);return t.createElement("svg",Ie({viewBox:"0 0 28 28",height:28,width:28,ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,we||(we=t.createElement("path",{d:"M17.5 23.75 21.75 23.75C22.164 23.75 22.5 23.414 22.5 23L22.5 14 22.531 14C22.364 13.917 22.206 13.815 22.061 13.694L21.66 13.359C21.567 13.283 21.433 13.283 21.34 13.36L21.176 13.497C20.591 13.983 19.855 14.25 19.095 14.25L18.869 14.25C18.114 14.25 17.382 13.987 16.8 13.506L16.616 13.354C16.523 13.278 16.39 13.278 16.298 13.354L16.113 13.507C15.53 13.987 14.798 14.25 14.044 14.25L13.907 14.25C13.162 14.25 12.439 13.994 11.861 13.525L11.645 13.35C11.552 13.275 11.419 13.276 11.328 13.352L11.155 13.497C10.57 13.984 9.834 14.25 9.074 14.25L8.896 14.25C8.143 14.25 7.414 13.989 6.832 13.511L6.638 13.351C6.545 13.275 6.413 13.275 6.32 13.351L5.849 13.739C5.726 13.84 5.592 13.928 5.452 14L5.5 14 5.5 23C5.5 23.414 5.836 23.75 6.25 23.75L10.5 23.75 10.5 17.5C10.5 16.81 11.06 16.25 11.75 16.25L16.25 16.25C16.94 16.25 17.5 16.81 17.5 17.5L17.5 23.75ZM3.673 8.75 24.327 8.75C24.3 8.66 24.271 8.571 24.238 8.483L23.087 5.355C22.823 4.688 22.178 4.25 21.461 4.25L6.54 4.25C5.822 4.25 5.177 4.688 4.919 5.338L3.762 8.483C3.729 8.571 3.7 8.66 3.673 8.75ZM24.5 10.25 3.5 10.25 3.5 12C3.5 12.414 3.836 12.75 4.25 12.75L4.421 12.75C4.595 12.75 4.763 12.69 4.897 12.58L5.368 12.193C6.013 11.662 6.945 11.662 7.59 12.193L7.784 12.352C8.097 12.609 8.49 12.75 8.896 12.75L9.074 12.75C9.483 12.75 9.88 12.607 10.194 12.345L10.368 12.2C11.01 11.665 11.941 11.659 12.589 12.185L12.805 12.359C13.117 12.612 13.506 12.75 13.907 12.75L14.044 12.75C14.45 12.75 14.844 12.608 15.158 12.35L15.343 12.197C15.989 11.663 16.924 11.663 17.571 12.197L17.755 12.35C18.068 12.608 18.462 12.75 18.869 12.75L19.095 12.75C19.504 12.75 19.901 12.606 20.216 12.344L20.38 12.208C21.028 11.666 21.972 11.666 22.62 12.207L23.022 12.542C23.183 12.676 23.387 12.75 23.598 12.75 24.097 12.75 24.5 12.347 24.5 11.85L24.5 10.25ZM24 14.217 24 23C24 24.243 22.993 25.25 21.75 25.25L6.25 25.25C5.007 25.25 4 24.243 4 23L4 14.236C2.875 14.112 2 13.158 2 12L2 9.951C2 9.272 2.12 8.6 2.354 7.964L3.518 4.802C4.01 3.563 5.207 2.75 6.54 2.75L21.461 2.75C22.793 2.75 23.99 3.563 24.488 4.819L25.646 7.964C25.88 8.6 26 9.272 26 9.951L26 11.85C26 13.039 25.135 14.026 24 14.217ZM16 23.75 16 17.75 12 17.75 12 23.75 16 23.75Z"})))}const _e=t.forwardRef(Ee);n.p;var ke,Te,Se,Ae,Ne,Ce,xe,Oe,Pe;const De=["title","titleId"];function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(null,arguments)}function Le(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,De);return t.createElement("svg",Re({viewBox:"0 0 44 44",width:"20px",height:"20px",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ke||(ke=t.createElement("circle",{cx:7,cy:7,r:6})),Te||(Te=t.createElement("circle",{cx:22,cy:7,r:6})),Se||(Se=t.createElement("circle",{cx:37,cy:7,r:6})),Ae||(Ae=t.createElement("circle",{cx:7,cy:22,r:6})),Ne||(Ne=t.createElement("circle",{cx:22,cy:22,r:6})),Ce||(Ce=t.createElement("circle",{cx:37,cy:22,r:6})),xe||(xe=t.createElement("circle",{cx:7,cy:37,r:6})),Oe||(Oe=t.createElement("circle",{cx:22,cy:37,r:6})),Pe||(Pe=t.createElement("circle",{cx:37,cy:37,r:6})))}const Me=t.forwardRef(Le);n.p;var Fe;const Ue=["title","titleId"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(null,arguments)}function Ve(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ue);return t.createElement("svg",je({viewBox:"0 0 28 28",alt:"",height:"20px",width:"20px",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,Fe||(Fe=t.createElement("path",{d:"M14 2.042c6.76 0 12 4.952 12 11.64S20.76 25.322 14 25.322a13.091 13.091 0 0 1-3.474-.461.956 .956 0 0 0-.641.047L7.5 25.959a.961.961 0 0 1-1.348-.849l-.065-2.134a.957.957 0 0 0-.322-.684A11.389 11.389 0 0 1 2 13.682C2 6.994 7.24 2.042 14 2.042ZM6.794 17.086a.57.57 0 0 0 .827.758l3.786-2.874a.722.722 0 0 1 .868 0l2.8 2.1a1.8 1.8 0 0 0 2.6-.481l3.525-5.592a.57.57 0 0 0-.827-.758l-3.786 2.874a.722.722 0 0 1-.868 0l-2.8-2.1a1.8 1.8 0 0 0-2.6.481Z"})))}const Be=t.forwardRef(Ve);n.p;var ze;const qe=["title","titleId"];function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(null,arguments)}function Ke(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qe);return t.createElement("svg",He({viewBox:"0 0 28 28",alt:"",height:"20px",width:"20px",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ze||(ze=t.createElement("path",{d:"M7.847 23.488C9.207 23.488 11.443 23.363 14.467 22.806 13.944 24.228 12.581 25.247 10.98 25.247 9.649 25.247 8.483 24.542 7.825 23.488L7.847 23.488ZM24.923 15.73C25.17 17.002 24.278 18.127 22.27 19.076 21.17 19.595 18.724 20.583 14.684 21.369 11.568 21.974 9.285 22.113 7.848 22.113 7.421 22.113 7.068 22.101 6.79 22.085 4.574 21.958 3.324 21.248 3.077 19.976 2.702 18.049 3.295 17.305 4.278 16.073L4.537 15.748C5.2 14.907 5.459 14.081 5.035 11.902 4.086 7.022 6.284 3.687 11.064 2.753 15.846 1.83 19.134 4.096 20.083 8.977 20.506 11.156 21.056 11.824 21.986 12.355L21.986 12.356 22.348 12.561C23.72 13.335 24.548 13.802 24.923 15.73Z"})))}const We=t.forwardRef(Ke);n.p;var Qe;const Ge=["title","titleId"];function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(null,arguments)}function Je(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ge);return t.createElement("svg",Ye({viewBox:"0 0 20 20",width:"20px",height:"20px",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,Qe||(Qe=t.createElement("path",{d:"M10 14a1 1 0 0 1-.755-.349L5.329 9.182a1.367 1.367 0 0 1-.205-1.46A1.184 1.184 0 0 1 6.2 7h7.6a1.18 1.18 0 0 1 1.074.721 1.357 1.357 0 0 1-.2 1.457l-3.918 4.473A1 1 0 0 1 10 14z"})))}const Xe=t.forwardRef(Je);n.p;var Ze=n(579);const $e=()=>(0,Ze.jsxs)("div",{className:"searchbar",children:[(0,Ze.jsx)("div",{children:(0,Ze.jsx)("svg",{viewBox:"0 0 16 16",width:"15px",height:"15px",className:"searchSvg",children:(0,Ze.jsx)("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:(0,Ze.jsxs)("g",{fillRule:"nonzero",children:[(0,Ze.jsx)("path",{d:"M10.743 2.257a6 6 0 1 1-8.485 8.486 6 6 0 0 1 8.485-8.486zm-1.06 1.06a4.5 4.5 0 1 0-6.365 6.364 4.5 4.5 0 0 0 6.364-6.363z",transform:"translate(448 544)"}),(0,Ze.jsx)("path",{d:"M10.39 8.75a2.94 2.94 0 0 0-.199.432c-.155.417-.23.849-.172 1.284.055.415.232.794.54 1.103a.75.75 0 0 0 1.112-1.004l-.051-.057a.39.39 0 0 1-.114-.24c-.021-.155.014-.356.09-.563.031-.081.06-.145.08-.182l.012-.022a.75.75 0 1 0-1.299-.752z",transform:"translate(448 544)"}),(0,Ze.jsx)("path",{d:"M9.557 11.659c.038-.018.09-.04.15-.064.207-.077.408-.112.562-.092.08.01.143.034.198.077l.041.036a.75.75 0 0 0 1.06-1.06 1.881 1.881 0 0 0-1.103-.54c-.435-.058-.867.018-1.284.175-.189.07-.336.143-.433.2a.75.75 0 0 0 .624 1.356l.066-.027.12-.061z",transform:"translate(448 544)"}),(0,Ze.jsx)("path",{d:"m13.463 15.142-.04-.044-3.574-4.192c-.599-.703.355-1.656 1.058-1.057l4.191 3.574.044.04c.058.059.122.137.182.24.249.425.249.96-.154 1.41l-.057.057c-.45.403-.986.403-1.411.154a1.182 1.182 0 0 1-.24-.182zm.617-.616.444-.444a.31.31 0 0 0-.063-.052c-.093-.055-.263-.055-.35.024l.208.232.207-.206.006.007-.22.257-.026-.024.033-.034.025.027-.257.22-.007-.007zm-.027-.415c-.078.088-.078.257-.023.35a.31.31 0 0 0 .051.063l.205-.204-.233-.209z",transform:"translate(448 544)"})]})})})}),(0,Ze.jsx)("input",{type:"search",dir:"ltr","aria-expanded":"false","aria-label":"Search Facebook",role:"combobox","aria-controls":"",placeholder:"Search Facebook",autoComplete:"off",spellCheck:"false","aria-invalid":"false",defaultValue:"",className:"searchInput"})]}),et=n.p+"static/media/default-profile.cb69260fa72af937b4a5.png",tt=e=>{const{username:t,active:n}=e;return(0,Ze.jsxs)("div",{className:"navbarContainer",children:[(0,Ze.jsxs)("div",{className:"navbarLeftContainer",children:[(0,Ze.jsx)(J,{to:"/facebook-clone-react",className:"logo",children:(0,Ze.jsx)(re,{})}),(0,Ze.jsx)($e,{})]}),(0,Ze.jsxs)("div",{className:"navbarCenterContainer",id:"navbarCenterContainer",children:[(0,Ze.jsx)(J,{to:"/facebook-clone-react",className:"navbarCenterIcons ".concat(n?"active-nav":""),id:"home",children:(0,Ze.jsx)(fe,{})}),(0,Ze.jsx)("div",{className:"navbarCenterIcons",id:"watch",children:(0,Ze.jsx)(ve,{})}),(0,Ze.jsx)("div",{className:"navbarCenterIcons",id:"store",children:(0,Ze.jsx)(_e,{})}),(0,Ze.jsx)("div",{className:"navbarCenterIcons",id:"gaming",children:(0,Ze.jsx)(le,{})})]}),(0,Ze.jsxs)("div",{className:"navbarRightContainer",children:[(0,Ze.jsxs)(J,{to:"/facebook-clone-react/ProfilePage",className:"navbarProfileLink",id:"navbarProfileLink",children:[(0,Ze.jsx)("img",{src:et,alt:"profile pic",className:"ProfileImage"}),(0,Ze.jsx)("div",{className:"profileName",children:t})]}),(0,Ze.jsx)(J,{to:"/facebook-clone-react/ProfilePage",className:"navbarRightLinks",id:"navbarMenu",children:(0,Ze.jsx)(Me,{})}),(0,Ze.jsx)(J,{to:"/facebook-clone-react/ProfilePage",className:"navbarRightLinks",id:"navbarMessenger",children:(0,Ze.jsx)(Be,{})}),(0,Ze.jsx)(J,{to:"/facebook-clone-react/ProfilePage",className:"navbarRightLinks",id:"navbarNotifications",children:(0,Ze.jsx)(We,{})}),(0,Ze.jsx)(J,{to:"/facebook-clone-react/ProfilePage",className:"navbarRightLinks",id:"navbarExpand",children:(0,Ze.jsx)(Xe,{className:"arrow-svg"})})]})]})};const nt=function(e){const{username:t}=e;return(0,Ze.jsx)("div",{className:"leftHomeContainer",children:(0,Ze.jsxs)("ul",{className:"leftHomeList",children:[(0,Ze.jsxs)(J,{to:"/facebook-clone-react/ProfilePage",className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:et,alt:"profile pic",className:"ProfileImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:t})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAFRklEQVR4Ae2WA9AkOxDHk5lZn+1n27Zt27Zt28bZtm3btr/DcmbSL6n5V2pe6vbDoXhd1ZWOOr90enuW7aLslb3Cd8caCO1pIG7YFpSHAASUdhcYL2scEM5BbdbdzlLV7ua2c4QaJN+bybIlTeffXKe17HoAK6/QTgEBJnJQp/SvLJq4hxEmOZcmBW7dbNP516ceVRagsJ/ZqoUS1C8rmlYxGLTWvn/Mv4TZEsYPjiNBjHxiqk+yr+bUmhCAde6550a/nDPplR+Xzpr048q5G3+QreqrcZxZNCC8jOhED2yzvYuMzsWsNClk+y24tdL1ylJgn8+b/Es0Hr9XeSJSEQ3curncPy8ddOxjiCbtKEpOsSeDRpgVOUhFhvRzwQsWqHHizkHwJZ7q0PRQKxG/2yPCUYCSHR6P3fNs53bff3vdzTPMH0NZQDoPSNj1lEcinTuw4Y2U7dTDkznJ+g1OdYVvBQ6C9WgVgpVoUPsUOTUH0cQ5jMoGglChsJQ50UODXQLHKJsCQAXrFZbgiW0eset7BAjkuLIYoJhtNzCSHVI+IBK5bZN5osaheoQTE4iQIAq85jJT4Jxt21yyJFa7Fo4ngDG8EJfzmxQ8N6HKC+TnRrT9NnHBY9dKO0FBMugnwN2z2eEtv8OJYlqPvmPOemb/bdxildU8QHA7f9uMPgNGV7AOgRw1SGqq4QcT74o1POpTwVg0dCW1oJBfOf3VlW+d0IJJMAzHHhrQ+eEa++37MTNk0+Ilr/9x4XW/STNtFFMqq3pbSNKY1CpS69Z7+N8rmny/ts++v6XXKFV2vYebX6HmpFZVEVTKsP72jv8+/PSMUZOenz9+69PTRk1SfaytLDVqFM7y1SEDLA5HEcy7+KXk0Ipw/QJcDPt9qXlEUbW+UbWL/sp4kWhxOPDQwomysQZirC8wiLFWGAmtbV4Exlba6OOFV1iJGrcyO3oq53YdYizGUX3Vfs6sPJG3jvmFsf7WVe1OOXbChpr7H/AEjzinMm7VUdEM1pPicBmJdb6bH7Nt1frv211yw9gdfJSJwwi3dsPnh+9nNTqmKbcjp/6fVxdFtLgYpFr1NB11zHIei+V1jdLCUb+IpGkJL5NpOrtd+5fGffJTSRiKmzB1nx58SHTfkwfJbm1AmNEFjTFHwaHRmMuOP3UeSyRdPa+jaiSDl8m1aXX8effrHDSA7BqnXJZMXd92DFnOYVy7g+DGxjgwwQfYZOUsO/7suWDGKlCh1R7yGzY+3PHsq5ri+YiHoJwGby1+1ErV+U52QycSLq+B4BTjsJWEDzvg2KWsTuON4WF9mfBzkudN6HDMuefi1yqc0HNFuFP1JiYYqrAZIkQnZIdFJzoP9q9fVp3VbLwBG5A7uCgJoW1uW4eFa5ITjpDsHk4+eriphjO+3MgOyQ/n2EOw05vjzBUCNIgKCdNmlmUlQkAsHCGLhFUDJQIHiFBSIjacNK+0kc/YowS26zvMZxSOHvbBNX4IIpudbH5cuYYSfomErUZEOkmVjYQO/x8Csx5HIEiPOTGPubLViSxCeSaEavMinZu4vu/gF5DQOjI2qmeq3nNLv+XJGvewogKScojYtrrV2u8Pfh+boFoENC81B3WR1HqhV9LlvneqXvGLx5N1rmKWXYcZvwhcEH2IuUb46yi9pmdJ57s+k73tuL0JRADyoPiuIXegCi4OjaJvsYqJgOMCbu9izITRUIaSE6L34QihxEeyYqJ9hZRKATKVOQati5YbWqaYNzdaKnNPkW+ZqWyngKDGWHmEuHlgxUHKvnVFoHg5x3YFrELyH4+psE5bV4QBAAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Friends"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAFjklEQVRYCe1XS2icVRQ+/0xmpirRJqRJER0wuCrWWh8VjY+VkSq6yUqsm27UbmzFgiAuRBQCbhRBVBCCFbc2LprqppIiLoVsGtpOSCqoKaSThE7m8T8837n3/HPnzj+TseDOQ+9/zj3P7577yJTof+rfgaC/mXaz7xLe05z0svgF3XkvuVeuQfQukEy5V1Hoczzydqif8kGKuz5aHDyyI2aueviKrAWUwyBAzr18/L6pifJHe/L5p4KAJmDwKeEUbBNyZfXzdTz/uxFHFy/+tfbe0flvVtgP4ABMKVEgLh/6cfqVyefunvyVvUbUUzjWAM+uSlYvTn0+7fgbP/+58uRLP31fYe+QByygZMhw+aIUxtDjd+77ON6pj6gXrILDcszVluqt4OvhC0r9zHQENVg8xgNdAkmoCwhKxBVKzXAqgp9mUW/rgEhsFRoFUjfwdOLJPtBSkEyxS4FHk4eaKQtQPqk3xiN16ajGG/7+mzT8xGGDRg5QwhgCyWhcEcgSo93+7XfKffiFKSdondIBjfMMl0YtLPL2yNd8YJAR1ertDrAGSj02zUaLGg0syhoQy0YDA8AAEOaAmo0GFXY4l3FJc0p34WPrWS4tcAGJBz5xvZ7Kdr3pPP/uJ1TjmRRNtW3B9cfycUB8X9enHWmkTEARr0rJrJhTyjJV63NbIsNnsPh2Ph8QUgYAJMfD+sWoB1Jcdi6t92TVDRJvMnY2EABA4HgQAXB4c7t2nTkfDXMeZP1OJdFzhJwrOLINOiNqyt3j7xq+Yx/HbPPAWyQvt98h5Ewp4ELAEXAtKWdrQYc15HgJFgflACqNNMJu8Z67TNGVLkJBFDCFjdkkZxCszAU5azPztbU1+vbMd6yzCxg4vqu0bFOXFonlvEgBLpLjwV7yhQAZNiPSwvkFWlpaospKxS5ksHgb3sGyO2RKy1cLCxdgDAT1AIjnlUqFlpcvUxiFtHDuvCQHVIAVboGrv9GZ+A4kdpINCAVxQMxCRVYQomNb7WaNrlau0g9n5ykMWxS2Qrq0fIkWFxdp/fo6KvaNB+AsUj04wMktq+005JYhAAdVnTD/8quv6cqVy7S5hcvBJFfN8bAB+Xye9u+foJmZGXrgwAHja7/6Nt1+W6nrlmV2SOK4hl1kukXQP/LwYapubnFHuCthyFsVtWXoeOvQrQa/9ntKJbp/crIjXjuNLcyizGsv+239EZdebT4zR448RsVSkT797HNqNfE3jUmdUk704MGDdPLkW1QsFDrixd9/H0RpPpkdMuDbK8gxEAxDAT106BCdeON10yF0SYftWrl8L7196pSAQYwfj/x4PrKod4f45PgLwfuj+18oFmR7jJM9OKjB7Uz4zZXOeBnceD+3gvMBwS+R/eXE8vrqoRWOA26u9B/XrsnZwXYZHBYUg1hdXUWavvF2H6WeggHvsWVcxLZUHkUU5S0zZ8u0Gq8ztgqzF184SqdPv0Pl8j2si2hra5Oq1arUSeO8eM0vTs7H75CYojhaH8rnx6Xjsnys11x/4QwQ1/756Wl67dirNDY2JnHPPvM0XbjwC53hPyM3Nqs0OjqaBvnxcRLzY9WbUBbdwm/cvRsbG2ejKE74SieRjJi5P2CDjnlseepjbP3iUQO1bE3Ultb7W4aFhHNzcx9wT6pyE7Bd2D78kxATqi1vc05l7dDBt1c8H/uqqdHxXyBO3CakAjj86izx2Ds7O/sor2K+1Wqtx/xjJ4ti7oySK/s69UIu5ERu1LC1UDPtkLNmVps1woizBWAYRR4KmMVbJvkBxtF4TRt2pD/MbNau/7lCr2iBXIcP3MYPzHAUQOD43a8DcwBVSgFBoUVVxtwdqgf/t+QCguwOzSU+LggY3HkvWRPcCldgiM2U3aJaIEuntv+Cu8DoH1/xoyOX4y3rAAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Events"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAF50lEQVR4Ae1YA5BkWRBc22yNcb4wzrZt275b2/YO1rZt21bPrD3+btRV3u+e1/tGy+BNREbVq6rMrH3tLff/303+K389uNWLVGBUYlRmVGFUk4AaepUwK3FvySLVEkYcvD95Rn635HnWmuT5/mPJC4LKbQuDCnLU0EtIO3g/Zm/mYkIgtEji+LMfJc3xH02aF6Tk+USIQPK8cA5E1Of6j4IjFrvepQSpIqNKdJ91dyXOtLYmzQlSaUicXVwtQOBCA1rQFPrXsUx8yuHnk2YEshJnBihpFhuIeGXOkXOOXJNy9KEBrWtaSnq+VIkZcOCFxOlBK3E6G84IEqINnK+MCaJXbA5+EmtBE9rS86rMZSp72i28N2GKPztxKotO9RMinxFxLsSj8wPUanuAWjMe4ZxrYoZjET5rQhsepS4lPYFrJozXtiVMYlFgskDk+b3lftJ8QQoSUTAYRE7vrRD9kvjQhof0RC/5oYodcOzT+Al+ip/gI8SEiSJHDJ+3XQpSIBBgcOSFELdzDb2y+PCQH7qSbqdW/Gj9WPw4Jo/zAXQbizTb6KdmmwLIUSP0840A+QMMvw3kqIX7t4O3yU//MJCjFoceMNo4Bi/5luTbqeppveGRuDE+ihttARTP+ZwMP/nY0Ofz01wvi4X63hy77kfPb+feXD+F+DbPhzp4oh7mwwuekbckv8xrxAw61ytuFBNG8kKjGBxzNR9ZEGYgRw3ossWuW5Ydgc6buQ8+eDo4dh+50LQBL3jKbwORHwu1Y4fmr48dblLccIvC8cBFH5mWjf2cox7L9fgRFvXaatGJXB/AOd9eBA+z4FiFPAv1Qn4Me8FT+ngRL3VGvdgU1RubbpKARW/ONsmbZTF89MZsK1wHRJ5mx0iu4EHD7sVgLsxJ0bzwhHdJCzWISTGU2FQmpphkR8AQMVWqc44YWbsGvgJPaSHxMYFmzGBDiRlqUvQQJjPihhr08RyTuqw36cfFJmoA/b7MpHXHTcpSTNJ0ALmFGvcE/4fFBrjQoLiUMB8wEQvgKT5Oii7UMLq/khE9iAmMO1IMWpdpkqrb+GeZQejNPmSQqhlYAvVi89kHeXagQc2XG4X8tZmsmQpt9HSCFzxLW6hBdK/sDdEDDIrqr1PKFoMU1TbPuKRTPAs1W8o1DUAdfd0+SznQjP8B8WycecnuYX4oa4b14VXWDdV1t/f2i+qrE3D4gk4Fqo3p++zaukwdSzJED2fAzkVcz7PR/cAVc4fOQ8euwwueRRcST+o6Tb6a9kxUbyb11ujkZY0KFJ3yGb3XaoT6pTwNZwaibRQ+F0gRs55eGnP1wtqpy9CxteAFz9JeZTUZTT3d8rxRPTX6YY5GZ7I1yivQqP0yFuea9wIWCaEAvYioiDPgvQgOuKizVhZrztYI2p6ueV54wbOkhSoxqjLqN/lx7feebip5umvkRuymIUekjyardPicRrn5KgAjROmMGZU+mqJKfMA+O35Z/z284FnkjVF6HtViON3ts3a6uzCZUVyUgbqY0US9mAhteMALnkU+OqSHrRqjQf2Xuj3o7pCX4+6kkLuTWghXR3EWPUXuibPEhya04QGvkr6oybdUk9Gk0Ycz33N3UC13B4Vc7QUKzxxFTUUsBmIeWtCENjxK/n5dzG+v0MvR0eiD6e+72uTmuNqyaDuFnG0LCLkMuY7ZyJ67TV4OtKAJ7eJ/s5X8awPXWD1EdNZ7qsMjzn8u7HK2LiBnK0YoAi5RA6QcfUazi7ugAS1oQhsexd9O8bdkP3RiKVxxbONPl//kbJ6V4WzJZi0YHO08nxAdiKE6ImbBARcaYhn7oZJv51qWqh36zHFCvN5LKa80+Xbv4Ka/n93s+PtypqNZrvofkP9+bjN6mMEsOOBC41qXKX4p8cqrwagTEncwPIwYRrwE1NBzYBYccMUrqvhlrnWpSowqEYvVZtRj1IepBNTQqy0WARca17eMvJR8WxCviuuHYQg1AXFGDzOYFbdys/8HRL6xymJBAVEv9kbKXOZfXvhu9C4yJrcAAAAASUVORK5CYII=",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Groups"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEqUlEQVR4AWIYamAUMOIUpw8AtFoNMLMkQbiqR+t9thGdbTs423Zwtq3wfDEuuuhsRGfbtu/3vzNdN52/atKvMjuPnXzp3erCN1/VgFalsG8LchjGuliWkfUjhVVkjn3ikS3qs+Y/kZLp9ixCmqOXQb4bt/N/B3fGEJv42RX8/+398v0+Axds93o/UqaiZVFzxsxLwWCXnD8JwO2AgEUaRJ2ZJowI7FfU68KkWZe63FqMMkLo7eFBD9y93MTRPkVxBC6CE5ykqFt8XhAHLIgTreiHcW2f5vkPLnc1VE1FSKkzc4P1z0bAYIKAKMPqcAGSK2flELDIjShEfYUcQRvQ4o3P7qeSKSFjdjzzzClxu32EFENAJuGq+jb3V6VlpUjsrBh6TlTrHFHf79wpXB/LCKGvzgZHHngCALUmrhSLApK6UEeEK7rCnEUV+S2TJf8RWr0djztRqYRlM2QWbbxxXJ/cPQWEiLSCVSHyJpkJF/XZLEREK8nlbBJvOlNOhkUbx1olo1u41y1X7w4mmFdIohf6VUEKSPvkvxeOpY8cC2YenHTX7pqDVihI2o1NEbmADK93G+vbXhaRn4Z5c8AESWR4Atdam7qa/kEo54I33l+88/e/TGYiwkGcxLZ6K2AkKsNwOHWnPwFu8OpTqFsWd8ZsPR3UFFaJEAHPWUmvy/Kl6XhPt0wTonr9748a03A7qF5rpqDyGPx94BUAsFWE7Ks3XXHtprfddsRwj1rcbEp69F8amXZK1khKQ5jBGA7ZOrWRCMHZESgdMP+ZBrSNyQzwSm1gRwdxqN3J2qLiwFD4238X73ZH6cuVZUMmWJu/67bTNrns4qsHhqYf/cenIfz2SQhRg2D2ZinEkyyM/BHAz69HYFOC7hIL7aUpgDXwz+cBDH6HECQEkzYiiCZbGP8b4Z/3QrCjBPUlBLV5BDb85a7vTz74ppGRkQEAGHOcWSlCj5hhRDnqOdozT33nawQsbY+26L/yzHG7Pv71/o0WA4AjM5Kjx2SsHmpiZDnGHUwSlbx51+zrD5mS2yU/1yL/OssIWXZMMQkrR3bsm5fO+vOhU5/znaYefP9uyaId79L+iCu8YlKuYcsJaVIMR4gTiPxuLwjmZJ52jxNO7lbgbPMu/1L7y0OSdyCFYoV6IHyYJCxvGTvU6/WxfDBH+YolXwBxCIZ9jOfPtn6EqKRlakSSALDiMYiIKQ9l5uXouQtxYVhklN+866Vb1m8VQy3SqALGmEzmzQvLePbW5MVTTQiToPJFAc0mwOCglaoypKam0xYD7fa1IRQBYsmU6aWtcaj18L6T1owQ8ZX2VZw/3kvpuTh3bDxFdDhjNQnF+DNBMLvvQ6/V0upYvjtLBUUHyn5ebUK80rHv37uotnSTW8GEs3QBGh16YfCLL3olyTOyY89jrbmrflqTTX8Z++q9i9RNULlQvc+m5piXY3GOpTmW5ViSY0GO6U4j9g0YEdums88SjlnKOeZxzjr7GsW5smVZDnnoBaK4nLFdK0RsA94ljlRc1q9lQcX7EPx3myKh30XQJy7VkLjy2GqFrPqtzhXUYPOOZXGKTKUi2oYVyoFOuiZxOsf/M0lUAMSGy5UAAAAASUVORK5CYII=",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Marketplace"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEFElEQVR4AexXA8x1RxA9u/e92rZt27bbOGnMNqptI6oV1jai2rZtt5/f3TkfZnOn82fzcmv9k0xm3+7cnbNnZvHwb5PpElqM/VlCFKTTB0Qw+6cDYX8ABrYCEL3P7wYhABKAGn6MJRAha3fjm6/ccOYlFzspdDrrAJjNpg4QCcCESgoAIzjVBigREP3NPE5OaPaTFAZYp+eGPvvkuDcO3uNJAD0FYqBKgLob3XDZxrOusNwDAC2lRAYSIQINPKWAAdPglNiAJiOYdBEKbApsPfLeW9u/ceTej8NAAS4gEHJ6urMsvcRJsDENlIOrzYGZ+40B9UkGhKJgGubUdroLLXsSgF1y+kRBlYu6E7rdtUvpoU5sfRJ8cOq490UDmmIpZJhpbY3v69Ix1LBEzGarMlCU/Dv5dPia8aCUOZ/iPPdsAKLFdQw5CZL0Y58WgE39VLh8vZXRE+KcVz/Bmz+OqK8DqECs6A0c1K+wa8uAwFQ1LIhYALVK+Uqzzwwg4KpNV8SN732LC1/7EgM9KPAmhbYQ2jyNT+uDMfX0Q/h0+dohQAggwH5Lzo2tF54D57/4Fe75YMCYtV2X2TFwmFBLV3+GAlPlVuS3tk4sZKaTQAiYpxtx0noLYY8lR3D6k9/g/R+SzVE4syBlhoq9UocJjapT7QpIVfObk1ZkSkloO+Nbd74Zcc3Oi2LVuWfO3wZoTVbNvKwrSGqVMhVJFSxdRjWYVypRU0YiZMIJQWAASd1pCRDHtO2+PE97QEz5w7yrbBvbdhcSAcqOJjqAFDz95RhOf+wnvPddAhhLm6NZZHuGan8NkNbWfoAizSUUEPDtcI3zn/4Zd787ln2NHb9DbaOgPSA7kWHsuABC3R6JwA1vDuDCZwcxOBbM151JxRO9NSBKXbltisJKX/1mDD0hzn5yAG9+K5BkfuIX4lJH82kFiLmG/CFWuCgPvPt728q2eneRenAw1hl+GY9tinpAUpzN3e7Zwr9zSre/T5NnFyYcaJsySUOjL7KaZVPS0mB15OvA3jneR62xRcIJeyMvApB+gJi1/vn1Z0+dbeWtbqeEjgW0IArQvQasneDrhoVaCaEe+/SxUwHUFrf8dI0Z5MxLHnT5JjMut+lRIc68pjDOamD8xel3lAdd2C6DrEdeHPv4odO+v+GAxwAMZ1CioMpP2CqDmhHATLkdtb/xi2gnYuznl6ECGAEwmtvJPWGLkxiVPQPTaMdAtQKjQU3Ft9v/D4vTpnLhQ7+5mXGG7dFeEGTsgc/Pnm+faVPj2VNbKuqQra3Q+iJ+gwhBYwXiAfT/o1juM5a0rlSrsq8PkEGMqrodZdLiYDQHz1htNoPsL8yaCmDUtmCjb405bQ/I1ITjI8NBlA9A4EsvZDmIZqMfQwkAAAEa8pWBwQjvAAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Watch"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAADAFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYd/IhldYAAAAYbdQYbNEkrvgYaswbg+AlpPQbfNUchN0afNkio/IORG4WXaoWaqsVXpgZePMXbNgUX74VYcUYZdASU6AXZMYXZs8io+wjqvMVXLAXaNAXYb4bgcIYa6IWY7Alr/skrvgYb9QlrvognO0YbtUSU4cTWo8Ze/MkrfQej98UVZIAAAAgnOogltwbdaofleQjqPMgmOsYcMMgmewYY5cdi9IdhMUipPAflOUZdcIcgcAbgcogl+gUUpQXZbsad9UZdNMbeNoactUbedobd9gfj+QSSYQejucej+Udi94chdodjOP6+vsYd/L4+fr29/n6+/z3+Pr09ff8/P3+/v73+Pn5+fv19vjy9Pf09fj7/P37/Pz09vjz9Pf9/f719/n6+vwYbNTp6+0XZ9Ikrvkls/0YcNYZctchoPIbft4bguAfl+wcheEgmu4djOYej+jp6uwjrPgYatMjqvchnvEipvUhovMgnO/u9fojqPby9PYaetwafN0flOodiuUekulfYmVmaGtpa23n6etucHLX2NpxdHgYdvHH3voXZdDu9/zY7voYb9Uksfv0+P3c6fkksPskr/oYbdTw9vwchuKx0/Ibgd8flevS5vWw1/Pn8PYch+Mgm+7Y5/cipfQciOMyht4ZddkaeNvP4vcZdtoZdNjl7vbp8vljZmlbXmEzmelYWl5DRUdjZWc+jfQjffIiffIXadcqddrO3vUeatKFr+az3/huouMmctR1zvwvpfG1z/Eqhd9wvvK24/u00fEzuP0afd3s8viEyPTd7faGzffJ5fcoqfVyxvgxrvdvrenI5PY4rfU4q/SFuetvp+YgetpusetuuO8ofNuGtuohf93j7/kskOUtm+uDve6CwPAllOjd6vXH4PQkjuXH4PP3+fpUVll6fH6urrGsrrDl5uhMT1FRU1ZJS059PmVWAAAAY3RSTlMABAoMBgUIAQIDDhMiBxEgFxkbJRbzOifcw9uI9f3J4N/uRlJyYNVCS3vtK1nKiMI92jdpSmrzwfTz3fNTUvyGyUsdzl8wyNv1lPU2k0/M4JdRlt8yYs7N+tvu7t84++/R0e+XEIaRAAADXUlEQVR4Xo3UTWhcVRjG8f/5uPdcZxINIRU/qsUOTfOlNKHWKKFSoSoGFxZEd4oRRbDgQnQt7gRFxF2hLlwUdWG7UHFRtGrbYGxNzShJpkZp1DQmTWPSmdyPc88xlwwO3fnwbh748Sxf/k8ErWCuA8n1yPzXEu0l4IQ1vsUEGBACBzIeXHS+kv8u5LYplW2xFtohakrb3cHTcHUwnUVQs5/ZLGwqDSD3n+i+dJd8nFbGkPmneeBM0lwSyRgnusRrszzpddUj9nTonywfji+kgSNpIvssPNA33S/mJgBolO49YKvug4mlhvYkKNDSDMB81MfHtRCgTlj7ujMXg8u9s1aic0kznHE/16kXKRjH97mZ4STME0CBFnIA4MeDZkXl0T23LkQWom+7H57a8ceqU2gJkMwCcLS7To4Qpp7neb3+RSIOLhmfgMIgbjrU9qL+0+kLNie72V8CgI2lhz7ZEy+HDgki7oXkB3TYUSIMd3dbQhuG6LkbIZJ1gQaIewgIoUEI05QoLoSJuzk6dCo2EtDzSp2LiWOIobcXiCl6BPJcWaMBtguuAFGsiCNJ27XCQFRbw+YSJAivpqYgM5kB5e/bt/M2854q+mNSYvBCoYWzg9yx6KRzhE6enR+b0R85s9m7LjO57nIlAba1t/enOnXO4dIr/shznUMUPe7p8SiQAB7Z2VECOtIIquLIC25v0UcMQ8qCBC8uS8SjRO1RHkVRO9XnT/f3KaLRUJeXFcJLgOWT4fE71wPIZE5OcHi46t9YDx489ttLNReDBGw5x8pXGw2Z0cjIGqXDavht82YAQezKFoFBZn50P0/F71CuA5Spb95b57/j4ufpmgicQoOXt3/5zOL2keU1satro7JGZaHy+vnT/Hpq3TkEAoopNzr5Cu+enK/C3E5gYK94n+mzC9GKDNwWEkmgH5l8eY1D6qKXOHF/eIzVmTMreWoz4xGAQVqhD8QjbaB2XcAx8Bfy+2/+DhLrtSPRAHid2a9Kq+YJRTPj41dt1LAu8K1fIEQm8yis3JK2bzjzT+fSL1amsdo0ngQBTWWFjUQg8xxQymU+1l4XBhQAuQaVKp+mGgcIdy0DG26Z5lLztVh/Q2IB0GZDFDOFaSEMBYs1HhDYqCAktFCLFQceWgT+BQ3ljA2RQTTvAAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Memories"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADM0lEQVR4AWIYbICRJLWUAUDtVQFiRwxEM9lzpVgdLVJ3F6SO+xU7vO7urnhdkbrg1mLFpe4tUnd3/bZpBobu28vns+ylC4+ZTOYnb0eyPyaJU1lSAjAmT0RMckIuEW0RiNRgT0IkFBREmjRpICQzq8vEmhmVE9ZXUuUkIt02tGZjERJLLbuIbGkj9fZnmDm179eZ1ccfnPuFpEAmJqQtym9327GtNqiebZgI8WYkr01AROYM2xT4sZ3Uj/D3jjE3m5fYqZyQQkLJakhQXhHUNOUpABIRMUMSLRNtHsq8EX9GeVl9kx2utMhbUNoaIvYpUHnbfxurSKJutEUxUhJNY3Rb2Y/Sd5mAo4OR4epkXZGOpc7oOEmpIyEYX7NVXZajAGoF3hpsDgFDLEHXbs2mJKTyVAZvjh3GwDQxJHKkorFmwi6XtDVEORVEmxqCjlJCBMdaIkVO5CBdrYuQTVmUCqJoQ60Vy4JRUEPFI2eAR+sJqQDbWHTY0EmZHAOxGvJFSGpINgQioOuo2xSmieKHpj9CuqxFfYiU4sb6MUgGiXtOmXSVctMFemyMHaeUb0Ja3hhqwkmfbIw+8brzSIisG5zQRpOQ0VFtYUpZUvzEVl5riILYZ0NJzYQYAQ11BFGC1HrtMugc2JCKnN5iK4iP+HuuIfi4Qidh8eLp7fz9kFT6Pxil1WFD6CyDX3an4/7bwRiPCuo6qhlFTvfJ4zVlEAFIH6bOaB35ucv4JaSUtD28dewLn+Ai4jVlxf8FUloOHk5qJYcd54KSs/BNyDDyBG7kuHz/mnl+hLXGys7N1qG+9Hqly0unv6ibn98yr/acfbRwxP6LQ7YyWGcbz6VdVye8m/+A4a8fmZf7zz9aNmzfxQEb7rw4+cIavzNYZxvPsQ/7wjo/Skcn2X2+3KJhzrB7BxaPevlhxtDr+wd1nNLb2tpatLGos6i2qGSIXidzbdl3+tBr+xaNevFxzvB7h3gtWVNj8pNepZFUFdRbTlCwCAX4aEFgUS5QcmP9A1dpI0hc1IYBC2iwF1gC8DHiXxBkwJ53fpM8QnEJuknQMehPrj/KBITcOdCLkzCuX+nfoo7PXwWnLg9eMYw8AAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Saved"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADw0lEQVR4AWIYBYBq7BpWmrCM4vjvvHMFd6fCtaavvgpv8IoGpw/uLTS4V7SUuPQF7tri/snOvAebbpObvTgneXKS1f88NvL/ppz4GkD/00ABBGOPYkMBgdOh9fpAxzDLYz75p7eNy7u+dN66+Z7vP/NurzsRBoqJDb0u1JljwUWWu756Hvo3xzt+86onf+LiLDeELGSQkb/7gpAlxujtP6195z3e8PXXY0UR9PpABAPLXOdFErO9wF2XujHXyhKgtJWSRkYpc8nlXYdX4C2YKIq4uozlGAiCYaMpwEVXLEG1pIxGCxAKdbt+jLtiYEVPKGvQ4wzt0YkWYOmE0tDSmCVFq4OxREt/1yf/8kVP+vm4iHHG7pYLxnnknLnk05ev/erTsKJc3UPpWgktGN3orCyM0h0KFGWqMeJwswotUJIoqoY4H27gAttJQCZVBDK3GiOqZiNoa4hm9zJHbTcrAwkBiiHA/joWBEFhOFag69S1uhViY27VLbrVXDGZa3Vmd7Y7NbcCRUtCaSvQAgzklLFnAhTMrdLQakkpBEqA9U8VCBRBJZEA0BaCPfRKoK4lQUE3FAjamiVLQEPUdptCgQSlrQooRgI5dTHqJKqAuZFWSoYdJNoaS0gR251KAoiWhP01QgAIAgADcKy9Z2xAN8zoRmfs/cVkbnsfHegKAAWxg6EtADg9Q1tBTdDJ7JRlz8ruWSJFmYcq2iIkqL1EiiEI7fWBAoCuZbBDKAxAaWveqSAJ0AKiJQWqCIATS1bdywFzL1UnNuZac7WvgO6vUVAAEpSQBATiekDd6Fo2oFv/Hqt952DSDZNtBwtaAAIFqqpAXa9kJkoVdLOPOS0DbaWR0kMBJADREnsIIOi1MrRP0WQD2+8PvtR9M9tLaaMb2XQeSKKlBSj211GV3SWu39ShLaxP+vJ3XoQzDMTu73rCw5/y7Iff6+M5o6NGIgEkhLaGACHA9YBs1QTggNsogmDB2ZPvfvnItpIAKEBLI4kdSouEgqInb2qdCGw47F4EwfnPD9vXHyW/H3VPyfFZHUUEBG398U4/i+30kq21HxlsWHcvYKDP/epPv4Qn4BwL4mpNrLi5e9GrgaC0veqSc+5RHHCOnABUrHscTi4ZAKD2wAQERbFhRQA58Xfm1Rk6HQyKoJjIiUBQ9NSmLpz0+jHcqSqgpzZ1k9xpe/FXR1E4BlBA/XPqVUDbvPmL9+Yu93vxvPnLD2H7bz14GDjH3XF/PGj3u++vD8S/UcOxigP+hD/ufkD9+2UBQADgeDR3/zfrz24tkd67M+X2AAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"Pages"})]}),(0,Ze.jsxs)("li",{className:"leftHomeListItem",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEsElEQVR4AeyYA6xsTRaFv12n3f2MsW3bRjD2TDC2bdu2GY1t4wZj289snlO1ppO7k5xXT30xv1eysncdfqm9Lro5u+k82bpct3YJl60QpgCCey1K7phD2YIw9tB3vKNzvds84EWtTue+YOdntVLaNRmNPvaRlzzmBd96//uP5lC2wHgCULz7T0df3u72n8A6aXT44BsfdvktzwCmQMKBGqeACZd+6Re26iJXuRZWXMTavQezjuoONtwbeAFQAXKTAdVgPnHoPtbd+G6T2kK0grGeslDsBJo+AQNEFk6r1cKag1copjZ59Fy//UvFGz865FlvOcK8Ml+zCjVwIDeNDCa420Q2CSEDA3KY93zqCGBg8I9dcb6e8aA7D7j8JZosLofJCA2HuuAjf3LB1L3EK7HGtatJ6oV2gCTEsfrKD4YgAQkEEpjZ/PhoDrSJxYXVTJ6hoM7FXk7RuDcCjSM0DABJ1LVrXwnCJQwgwa69ibUoH5mJtJGUwIw4SYSeAMh4ON/mwN93lRiA+Q4B59vaWvNfilDvVU7+KCVIEWYJRSC5a7rNjfoYieVrE95z2xv2WKtCnVTl4d8bQkqkSQVJpEooirqucKk2D7rrVi56vgbNBlx4Z4MH320rl58fX6+RAcgO7/kD3fNhBioTRAABRq75y+fewXorUFP5zy/8zseAZiUpChIoijNGGdD+77z2sKVyFwhmEZJQJUjijFLDq9yROP2DsPMpAfHEA3vua/7CeBzJMQ1QreI9vu53C17wpEssniFAqqZ/ILRubBhpFqEIAEhgBgCmhFLCDCThDcLAoH6D6r1s8VC7lMrx74vmAJHQNGKdgCRGURgQzHjmEy5FMACoV4P1H5lND/5O3W0AaBah2cCAUQUGGAkHA8S8MjeGwI+bObwfN7McePEdqvb+8vfNTZfAAM1KrNMGg2EpzAHe8abfMpkkH0WeIrIECcMQotspeOZTrrgMbHYSoCy3+7/8xH+e7+F3PCqzAVWFkhAwKoUZ+C9OUASABJ6hkyZcXpExrHyHzclPHWp3Kv+ENa6mWYklQMsj8xFx94deAXOO4NWyHAU7dqxmYBKjEr9eJwXKFSnHv6M1uJomE1QJMxh6NSVCMBDzCkYNxgzDAcB7AJGfV4oHFwESoDTZ/6Wi2bunYkLjMd0tveUMmb84+osi2csd0FSDBMPDbQ5Lohwe/TkQ3TrVyOJ46SWf69/09T8jNK+WDu9j59X6DCstj4HaGBAhAPI1CTPzXg5XB7S5hZKO/OWbn38lUJHJTvYv7OD6j79I/4r3euMFrnuJW22/3BbzXQDwB3NsPvA8OUyenwAApNn497t+/OXnfuup9/wecASYABFIgCyD8+dSAG2gd8G7v/iS225+i+s3Np3vakVn+/UaTesVraJdNItuCNaaO5goQMFBk0E0xaGq8oBiuZ9y9t/y0L7fHvnTz5aWnnf/JYcYA1OgdCDlQPkuFT7SttcmEGrO782zSP6x2V0BMwepcBjcDXKBgJQ9sHCbwwAYi0lAwqu7qvVyA2Any1Q2Qsud35cBkK8B5XA5DKBTPTgHI4fJ71sUKlsv9O3HqUDtfyN//AfBxsUHAE2vQUpqsmyUAAAAAElFTkSuQmCC",alt:"profile pic",className:"leftHomeImage"}),(0,Ze.jsx)("div",{className:"leftHomeText",children:"News"})]})]})})};var rt;const it=["title","titleId"];function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(null,arguments)}function ot(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,it);return t.createElement("svg",st({viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"rgb(243, 66, 95)",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,rt||(rt=t.createElement("g",{fillRule:"evenodd",transform:"translate(-444 -156)"},t.createElement("g",null,t.createElement("path",{d:"M113.029 2.514c-.363-.088-.746.014-1.048.234l-2.57 1.88a.999.999 0 0 0-.411.807v8.13a1 1 0 0 0 .41.808l2.602 1.901c.219.16.477.242.737.242.253 0 .508-.077.732-.235.34-.239.519-.65.519-1.065V3.735a1.25 1.25 0 0 0-.971-1.22m-20.15 6.563c.1-.146 2.475-3.578 5.87-3.578 3.396 0 5.771 3.432 5.87 3.578a.749.749 0 0 1 0 .844c-.099.146-2.474 3.578-5.87 3.578-3.395 0-5.77-3.432-5.87-3.578a.749.749 0 0 1 0-.844zM103.75 19a3.754 3.754 0 0 0 3.75-3.75V3.75A3.754 3.754 0 0 0 103.75 0h-10A3.754 3.754 0 0 0 90 3.75v11.5A3.754 3.754 0 0 0 93.75 19h10z",transform:"translate(354 158.5)"}),t.createElement("path",{d:"M98.75 12c1.379 0 2.5-1.121 2.5-2.5S100.129 7 98.75 7a2.503 2.503 0 0 0-2.5 2.5c0 1.379 1.121 2.5 2.5 2.5",transform:"translate(354 158.5)"})))))}const at=t.forwardRef(ot);n.p;var lt;const ct=["title","titleId"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(null,arguments)}function ht(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ct);return t.createElement("svg",ut({viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"rgb(69, 189, 98)",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,lt||(lt=t.createElement("g",{fillRule:"evenodd",transform:"translate(-444 -156)"},t.createElement("g",null,t.createElement("path",{d:"m96.968 22.425-.648.057a2.692 2.692 0 0 1-1.978-.625 2.69 2.69 0 0 1-.96-1.84L92.01 4.32a2.702 2.702 0 0 1 .79-2.156c.47-.472 1.111-.731 1.774-.79l2.58-.225a.498.498 0 0 1 .507.675 4.189 4.189 0 0 0-.251 1.11L96.017 18.85a4.206 4.206 0 0 0 .977 3.091s.459.364-.026.485m8.524-16.327a1.75 1.75 0 1 1-3.485.305 1.75 1.75 0 0 1 3.485-.305m5.85 3.011a.797.797 0 0 0-1.129-.093l-3.733 3.195a.545.545 0 0 0-.062.765l.837.993a.75.75 0 1 1-1.147.966l-2.502-2.981a.797.797 0 0 0-1.096-.12L99 14.5l-.5 4.25c-.06.674.326 2.19 1 2.25l11.916 1.166c.325.026 1-.039 1.25-.25.252-.21.89-.842.917-1.166l.833-8.084-3.073-3.557z",transform:"translate(352 156.5)"}),t.createElement("path",{fillRule:"nonzero",d:"m111.61 22.963-11.604-1.015a2.77 2.77 0 0 1-2.512-2.995L98.88 3.09A2.77 2.77 0 0 1 101.876.58l11.603 1.015a2.77 2.77 0 0 1 2.513 2.994l-1.388 15.862a2.77 2.77 0 0 1-2.994 2.513zm.13-1.494.082.004a1.27 1.27 0 0 0 1.287-1.154l1.388-15.862a1.27 1.27 0 0 0-1.148-1.37l-11.604-1.014a1.27 1.27 0 0 0-1.37 1.15l-1.387 15.86a1.27 1.27 0 0 0 1.149 1.37l11.603 1.016z",transform:"translate(352 156.5)"})))))}const dt=t.forwardRef(ht);n.p;var ft;const pt=["title","titleId"];function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(null,arguments)}function gt(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pt);return t.createElement("svg",mt({viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"rgb(247, 185, 40)",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,ft||(ft=t.createElement("g",{fillRule:"evenodd",transform:"translate(-444 -156)"},t.createElement("g",null,t.createElement("path",{d:"M107.285 13c.49 0 .841.476.712.957-.623 2.324-2.837 4.043-5.473 4.043-2.636 0-4.85-1.719-5.473-4.043-.13-.48.222-.957.712-.957h9.522z",transform:"translate(353.5 156.5)"}),t.createElement("path",{fillRule:"nonzero",d:"M114.024 11.5c0 6.351-5.149 11.5-11.5 11.5s-11.5-5.149-11.5-11.5S96.173 0 102.524 0s11.5 5.149 11.5 11.5zm-2 0a9.5 9.5 0 1 0-19 0 9.5 9.5 0 0 0 19 0z",transform:"translate(353.5 156.5)"}),t.createElement("path",{d:"M99.524 8.5c0 .829-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.671 1.25 1.5m8.5 0c0 .829-.56 1.5-1.25 1.5s-1.25-.671-1.25-1.5.56-1.5 1.25-1.5 1.25.671 1.25 1.5m-.739 4.5h-9.522c-.49 0-.841.476-.712.957.623 2.324 2.837 4.043 5.473 4.043 2.636 0 4.85-1.719 5.473-4.043.13-.48-.222-.957-.712-.957m-2.165 2c-.667.624-1.592 1-2.596 1a3.799 3.799 0 0 1-2.596-1h5.192",transform:"translate(353.5 156.5)"})))))}const yt=t.forwardRef(gt);n.p;var vt=n(248),wt=n.n(vt);const bt=function(e){const{username:t,posts:n,newPost:r,like:i,newComment:s,checkLike:o}=e,a="What's on your mind, ".concat(t,"?"),l=e=>{document.getElementById(e.target.parentNode.parentNode.childNodes[4].childNodes[0].childNodes[0].id).focus(),document.getElementById(e.target.parentNode.parentNode.childNodes[4].childNodes[0].childNodes[0].id).select()},c=e=>{s(e)},u=()=>{document.querySelector(".overlay").classList.toggle("activeOverlay"),document.querySelector(".formContainer").classList.toggle("hide"),document.getElementById("postInput").focus(),document.getElementById("postInput").select()};return(0,Ze.jsxs)("div",{className:"centerHomeContainer",id:"centerHomeContainer",children:[(0,Ze.jsx)("div",{className:"overlay",onClick:u}),(0,Ze.jsx)("div",{className:"formContainer hide",children:(0,Ze.jsxs)("form",{name:"newPost",onSubmit:e=>{r(e),document.querySelector(".overlay").classList.toggle("activeOverlay"),document.querySelector(".formContainer").classList.toggle("hide")},children:[(0,Ze.jsx)("textarea",{autoComplete:"off",type:"text",id:"postInput",name:"postInput",defaultValue:"",placeholder:a,required:!0}),(0,Ze.jsx)("br",{}),(0,Ze.jsx)("input",{type:"submit",value:"Post",id:"postSubmit"})]})}),(0,Ze.jsxs)("div",{className:"newPostContainer",children:[(0,Ze.jsxs)("div",{className:"newPostMainContainer",children:[(0,Ze.jsx)(J,{to:"/facebook-clone-react/ProfilePage",children:(0,Ze.jsx)("img",{src:et,alt:"profile pic",className:"ProfileImage"})}),(0,Ze.jsx)("div",{className:"mainNewPostButton",onClick:u,children:a})]}),(0,Ze.jsxs)("div",{className:"postOptionsButtons",children:[(0,Ze.jsxs)("div",{className:"postOptionButton",onClick:u,children:[(0,Ze.jsx)(at,{}),(0,Ze.jsx)("div",{className:"postOptionsText",children:"Live Video"})]}),(0,Ze.jsxs)("div",{className:"postOptionButton",onClick:u,children:[(0,Ze.jsx)(dt,{}),(0,Ze.jsx)("div",{className:"postOptionsText",children:"Photo/video"})]}),(0,Ze.jsxs)("div",{className:"postOptionButton",id:"feeling",onClick:u,children:[(0,Ze.jsx)(yt,{}),(0,Ze.jsx)("div",{className:"postOptionsText",children:"Feeling/activity"})]})]})]}),(h=n,void 0===h?[]:n).slice(0).reverse().map(e=>(0,Ze.jsxs)("div",{className:"postContainer",id:e.id,children:[(0,Ze.jsx)("div",{className:"posterName",children:e.poster}),(0,Ze.jsx)("div",{className:"postText",children:e.post}),(0,Ze.jsxs)("div",{className:"likeInfoContainer",children:[(0,Ze.jsxs)("div",{className:"likeTotalContainer",children:[(0,Ze.jsx)("img",{height:"18",src:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e",width:"18",alt:"like pic"}),(0,Ze.jsx)("div",{className:"likeTotal",children:e.likes.length})]}),(0,Ze.jsxs)("div",{className:"commentsTotal",children:[e.comments.length," Comments"]})]}),(0,Ze.jsxs)("div",{className:"interactionsContainer",children:[(0,Ze.jsx)("div",{className:"interactionButton",onClick:i,id:"liked"+o(e),children:"Like"}),(0,Ze.jsx)("div",{className:"interactionButton",onClick:l,children:"Comment"}),(0,Ze.jsx)("div",{className:"interactionButton",children:"Share"})]}),(0,Ze.jsxs)("div",{className:"commentSectionContainer",children:[(0,Ze.jsx)("form",{onSubmit:c,children:(0,Ze.jsx)("input",{id:"comment"+e.id,autoComplete:"off",className:"newCommentContainer",placeholder:"Write a comment...",required:!0})}),(0,Ze.jsx)("div",{className:"commentsContainer",children:e.comments.map(e=>(0,Ze.jsxs)("div",{className:"singleComment",children:[(0,Ze.jsx)("div",{className:"commenter",children:e.commenter}),(0,Ze.jsx)("div",{className:"comment",children:e.comment})]},wt()()))})]})]},e.id))]});var h};const It=function(){return(0,Ze.jsxs)("div",{className:"rightHomeContainer",children:[(0,Ze.jsx)("div",{className:"sponsoredContainer",children:"Sponsored"}),(0,Ze.jsxs)("div",{className:"contactsContainer",children:[(0,Ze.jsx)("div",{className:"contactsHeader",children:"Contacts"}),(0,Ze.jsxs)("ul",{className:"contactsList",children:[(0,Ze.jsxs)("div",{className:"contactRight",children:[(0,Ze.jsx)("img",{src:et,alt:"profile pic",className:"ProfileImage"}),(0,Ze.jsx)("div",{className:"contactName",children:"John Smith"})]}),(0,Ze.jsxs)("div",{className:"contactRight",children:[(0,Ze.jsx)("img",{src:et,alt:"profile pic",className:"ProfileImage"}),(0,Ze.jsx)("div",{className:"contactName",children:"John Smith"})]})]})]}),(0,Ze.jsxs)("div",{className:"groupConvosContainer",children:[(0,Ze.jsx)("div",{className:"groupConvosHeader",children:"Group Conversations"}),(0,Ze.jsx)("div",{className:"newGroupText",children:"Create New Group"})]})]})};var Et,_t,kt,Tt,St;const At=["title","titleId"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(null,arguments)}function Ct(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,At);return t.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:50,height:50,viewBox:"0 0 172 172",style:{fill:"#000000"},ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,t.createElement("g",{transform:""},t.createElement("g",{fill:"none",fillRule:"nonzero",stroke:"none",strokeWidth:1,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,strokeDasharray:"",strokeDashoffset:0,fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:{mixBlendMode:"normal"}},Et||(Et=t.createElement("path",{d:"M0,172v-172h172v172z",fill:"none"})),_t||(_t=t.createElement("path",{d:"",fill:"none"})),kt||(kt=t.createElement("path",{d:"",fill:"none"})),Tt||(Tt=t.createElement("path",{d:"",fill:"none"})),St||(St=t.createElement("g",{fill:"#ffffff"},t.createElement("path",{d:"M86,21.5c-26.23278,-0.00199 -49.85354,15.88395 -59.74447,40.18062c-9.89093,24.29667 -4.08142,52.16337 14.6941,70.48381c18.77553,18.32044 46.77636,23.44457 70.82307,12.96057h36.03979c1.08687,-0.00016 2.06664,-0.65495 2.48254,-1.65909c0.4159,-1.00414 0.18605,-2.15994 -0.5824,-2.92855l-13.75769,-13.75769c15.75934,-19.29123 18.99805,-45.93413 8.31947,-68.43916c-10.67858,-22.50503 -33.36442,-36.84679 -58.27443,-36.84051zM88.1626,26.79626c22.85981,0.86116 43.17727,14.81701 52.18465,35.84508c9.00738,21.02806 5.0922,45.36397 -10.05599,62.50587c-0.9409,1.06311 -0.89262,2.67468 0.11023,3.67957l10.92322,10.92322h-30.1189c-0.37814,0.00146 -0.75181,0.08191 -1.09705,0.23621c-22.28527,9.96686 -48.40347,5.23058 -65.77004,-11.92676c-17.36657,-17.15733 -22.41907,-43.21621 -12.72305,-65.62065c9.69601,-22.40444 32.15159,-36.55859 56.54692,-35.64254zM86.5564,40.323c-3.65742,-0.15157 -7.21837,1.19551 -9.85972,3.72986c-2.64135,2.53435 -4.13446,6.03658 -4.13418,9.69714c0.00889,7.41764 6.01986,13.42861 13.4375,13.4375c7.32298,0.01416 13.30897,-5.8378 13.46061,-13.15923c0.15164,-7.32143 -5.58692,-13.41622 -12.90421,-13.70527zM86,45.6875c4.4528,0 8.0625,3.6097 8.0625,8.0625c0,4.4528 -3.6097,8.0625 -8.0625,8.0625c-4.4528,0 -8.0625,-3.6097 -8.0625,-8.0625c0,-4.4528 3.6097,-8.0625 8.0625,-8.0625zM84.36755,72.56775c-1.21339,0.02479 -2.41635,0.23 -3.56934,0.60889l-11.75781,3.82129c-1.1037,0.362 -1.84992,1.3921 -1.84992,2.55365c0,1.16155 0.74623,2.19165 1.84992,2.55365c3.67366,1.15451 6.18253,4.54774 6.2096,8.39844v29.23706c0.00845,4.022 2.05334,7.76603 5.43274,9.9469c3.1122,2.04015 6.98467,2.55029 10.51904,1.38574l11.75781,-3.83179c1.1037,-0.362 1.84993,-1.3921 1.84993,-2.55365c0,-1.16155 -0.74623,-2.19165 -1.84993,-2.55365v0.00525c-3.67182,-1.15391 -6.18026,-4.54443 -6.2096,-8.39319v-29.23706c-0.00845,-4.022 -2.05334,-7.76603 -5.43274,-9.9469c-2.06269,-1.3499 -4.48508,-2.04515 -6.94971,-1.99463zM84.48828,77.93225c1.37989,-0.02464 2.73523,0.36678 3.88953,1.12329c1.85815,1.19306 2.98614,3.24557 2.99719,5.45373v29.23706c0.0022,3.85542 1.58438,7.54147 4.37768,10.19885l-6.21484,2.03137c-1.98844,0.65008 -4.16447,0.36239 -5.91565,-0.78211c-1.85815,-1.19306 -2.98614,-3.24557 -2.99719,-5.45373v-29.23706c-0.0022,-3.85542 -1.58438,-7.54147 -4.37768,-10.19885l6.21484,-2.03137c0.65446,-0.21462 1.33747,-0.32964 2.02612,-0.34119z"}))))))}const xt=t.forwardRef(Ct);n.p;function Ot(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1);return(0,Ze.jsx)("div",{className:"fixed bottom-5 right-5 z-50",children:(0,Ze.jsxs)("div",{className:"relative",children:[(0,Ze.jsxs)("div",{className:"absolute bottom-14 right-0 w-72 p-5 bg-white bg-opacity-80 backdrop-blur-sm border border-[#1877f2] text-gray-800 text-sm rounded-2xl shadow-2xl transition-all duration-200 ease-out transform origin-bottom-right ".concat(e?"opacity-100 scale-100":"opacity-0 scale-90 pointer-events-none"),children:[(0,Ze.jsx)("h4",{className:"font-semibold mb-2 text-[#1877f2]",children:"Quick Tips"}),(0,Ze.jsxs)("p",{className:"leading-relaxed",children:["Thank you for visiting! On this web app you can:",(0,Ze.jsxs)("ul",{className:"list-disc list-inside ml-4 mt-1",children:[(0,Ze.jsx)("li",{children:"Create a post"}),(0,Ze.jsx)("li",{children:"Like and comment on posts"}),(0,Ze.jsx)("li",{children:"Update your username on your profile page"})]})]})]}),(0,Ze.jsxs)("button",{onClick:()=>{n(e=>!e),r||i(!0)},"aria-label":"Info",className:"relative flex items-center justify-center p-2 rounded-full bg-[#1877f2] shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-blue-300 transform hover:scale-105 transition",children:[(0,Ze.jsx)(xt,{className:"w-8 h-8 fill-current text-white"}),!r&&(0,Ze.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 bg-red-500 rounded-full animate-ping"})]})]})})}const Pt=function(e){const{username:t,posts:n,newPost:r,like:i,newComment:s,checkLike:o}=e;return(0,Ze.jsxs)("div",{className:"App",children:[(0,Ze.jsx)(tt,{username:t,active:!0}),(0,Ze.jsxs)("div",{className:"homeMainContainer",children:[(0,Ze.jsx)(nt,{username:t}),(0,Ze.jsx)(bt,{username:t,posts:n,newPost:r,like:i,newComment:s,checkLike:o}),(0,Ze.jsx)(It,{})]}),(0,Ze.jsx)(Ot,{})]})},Dt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Lt=function(e){return function(e){const t=Dt(e);return Rt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Mt=function(e){try{return Rt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ft(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ut(n)&&(e[n]=Ft(e[n],t[n]));return e}function Ut(e){return"__proto__"!==e}class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function zt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function qt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ht(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Kt(){const e=Vt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wt(){return"object"===typeof indexedDB}function Qt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function Gt(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Yt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Xt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Yt(n,s,t)}}const Xt=/\{\$([^}]+)}/g;function Zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $t(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(en(n)&&en(s)){if(!$t(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function en(e){return null!==e&&"object"===typeof e}function tn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function rn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function sn(e,t){const n=new on(e,t);return n.subscribe.bind(n)}class on{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function ln(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function cn(e){return e&&e._delegate?e._delegate:e}class un{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hn="[DEFAULT]";class dn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new jt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Gm){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===hn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Gm){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pn=[];var mn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mn||(mn={}));const gn={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},yn=mn.INFO,vn={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=vn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class bn{constructor(e){this.name=e,this._logLevel=yn,this._logHandler=wn,this._userLogHandler=null,pn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...t),this._logHandler(this,mn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...t),this._logHandler(this,mn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.INFO,...t),this._logHandler(this,mn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.WARN,...t),this._logHandler(this,mn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...t),this._logHandler(this,mn.ERROR,...t)}}class In{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const En="@firebase/app",_n="0.7.8",kn=new bn("@firebase/app"),Tn="@firebase/app-compat",Sn="@firebase/analytics-compat",An="@firebase/analytics",Nn="@firebase/app-check-compat",Cn="@firebase/app-check",xn="@firebase/auth",On="@firebase/auth-compat",Pn="@firebase/database",Dn="@firebase/database-compat",Rn="@firebase/functions",Ln="@firebase/functions-compat",Mn="@firebase/installations",Fn="@firebase/installations-compat",Un="@firebase/messaging",jn="@firebase/messaging-compat",Vn="@firebase/performance",Bn="@firebase/performance-compat",zn="@firebase/remote-config",qn="@firebase/remote-config-compat",Hn="@firebase/storage",Kn="@firebase/storage-compat",Wn="@firebase/firestore",Qn="@firebase/firestore-compat",Gn="firebase",Yn="[DEFAULT]",Jn={[En]:"fire-core",[Tn]:"fire-core-compat",[An]:"fire-analytics",[Sn]:"fire-analytics-compat",[Cn]:"fire-app-check",[Nn]:"fire-app-check-compat",[xn]:"fire-auth",[On]:"fire-auth-compat",[Pn]:"fire-rtdb",[Dn]:"fire-rtdb-compat",[Rn]:"fire-fn",[Ln]:"fire-fn-compat",[Mn]:"fire-iid",[Fn]:"fire-iid-compat",[Un]:"fire-fcm",[jn]:"fire-fcm-compat",[Vn]:"fire-perf",[Bn]:"fire-perf-compat",[zn]:"fire-rc",[qn]:"fire-rc-compat",[Hn]:"fire-gcs",[Kn]:"fire-gcs-compat",[Wn]:"fire-fst",[Qn]:"fire-fst-compat","fire-js":"fire-js",[Gn]:"fire-js-all"},Xn=new Map,Zn=new Map;function $n(e,t){try{e.container.addComponent(t)}catch(n){kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function er(e,t){e.container.addOrOverwriteComponent(t)}function tr(e){const t=e.name;if(Zn.has(t))return kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zn.set(t,e);for(const n of Xn.values())$n(n,e);return!0}function nr(e,t){return e.container.getProvider(t)}function rr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn;nr(e,t).clearInstance(n)}function ir(){Zn.clear()}const sr=new Jt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class or{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const ar="9.4.1";function lr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}const n=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw sr.create("bad-app-name",{appName:String(r)});const i=Xn.get(r);if(i){if($t(e,i.options)&&$t(n,i.config))return i;throw sr.create("duplicate-app",{appName:r})}const s=new fn(r);for(const a of Zn.values())s.addComponent(a);const o=new or(e,n,s);return Xn.set(r,o),o}function cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn;const t=Xn.get(e);if(!t)throw sr.create("no-app",{appName:e});return t}function ur(){return Array.from(Xn.values())}async function hr(e){const t=e.name;Xn.has(t)&&(Xn.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function dr(e,t,n){var r;let i=null!==(r=Jn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kn.warn(e.join(" "))}tr(new un("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}function fr(e,t){if(null!==e&&"function"!==typeof e)throw sr.create("invalid-log-argument");!function(e,t){for(const n of pn){let r=null;t&&t.level&&(r=gn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:mn[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function pr(e){var t;t=e,pn.forEach(e=>{e.setLogLevel(t)})}var mr;mr="",tr(new un("platform-logger",e=>new In(e),"PRIVATE")),dr(En,_n,mr),dr(En,_n,"esm2017"),dr("fire-js","");class gr{constructor(e,t){this._delegate=e,this.firebase=t,$n(e,new un("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hr(this._delegate)))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$n(this._delegate,e)}_addOrOverwriteComponent(e){er(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const yr=new Jt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const vr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=lr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zt(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:dr,setLogLevel:pr,onLog:fr,apps:null,SDK_VERSION:ar,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(tr(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw yr.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ft(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zt(n,e=e||Yn))throw yr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map(e=>n[e])}}),i.App=t,r}(gr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ft(n,e)},createSubscribe:sn,ErrorFactory:Jt,deepExtend:Ft}),n}(),wr=new bn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&wr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const br=vr;!function(e){dr("@firebase/app-compat","0.1.9",e)}();br.registerVersion("firebase","9.4.1","app-compat");var Ir,Er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_r={},kr=kr||{},Tr=Er||self;function Sr(){}function Ar(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Nr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cr="closure_uid_"+(1e9*Math.random()>>>0),xr=0;function Or(e,t,n){return e.call.apply(e.bind,arguments)}function Pr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dr(e,t,n){return(Dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Or:Pr).apply(null,arguments)}function Rr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Mr(){this.s=this.s,this.o=this.o}var Fr={};Mr.prototype.s=!1,Mr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cr)&&e[Cr]||(e[Cr]=++xr)}(this);delete Fr[e]}},Mr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ur=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},jr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Vr(e){return Array.prototype.concat.apply([],arguments)}function Br(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zr(e){return/^[\s\xa0]*$/.test(e)}var qr,Hr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kr(e,t){return-1!=e.indexOf(t)}function Wr(e,t){return e<t?-1:e>t?1:0}e:{var Qr=Tr.navigator;if(Qr){var Gr=Qr.userAgent;if(Gr){qr=Gr;break e}}qr=""}function Yr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Jr(e){const t={};for(const n in e)t[n]=e[n];return t}var Xr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Xr.length;t++)n=Xr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $r(e){return $r[" "](e),e}$r[" "]=Sr;var ei,ti=Kr(qr,"Opera"),ni=Kr(qr,"Trident")||Kr(qr,"MSIE"),ri=Kr(qr,"Edge"),ii=ri||ni,si=Kr(qr,"Gecko")&&!(Kr(qr.toLowerCase(),"webkit")&&!Kr(qr,"Edge"))&&!(Kr(qr,"Trident")||Kr(qr,"MSIE"))&&!Kr(qr,"Edge"),oi=Kr(qr.toLowerCase(),"webkit")&&!Kr(qr,"Edge");function ai(){var e=Tr.document;return e?e.documentMode:void 0}e:{var li="",ci=function(){var e=qr;return si?/rv:([^\);]+)(\)|;)/.exec(e):ri?/Edge\/([\d\.]+)/.exec(e):ni?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):oi?/WebKit\/(\S+)/.exec(e):ti?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ci&&(li=ci?ci[1]:""),ni){var ui=ai();if(null!=ui&&ui>parseFloat(li)){ei=String(ui);break e}}ei=li}var hi,di={};function fi(){return function(e){var t=di;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){let e=0;const t=Hr(String(ei)).split("."),n=Hr("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Wr(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Wr(0==i[2].length,0==s[2].length)||Wr(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e})}if(Tr.document&&ni){var pi=ai();hi=pi||(parseInt(ei,10)||void 0)}else hi=void 0;var mi=hi,gi=function(){if(!Tr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Tr.addEventListener("test",Sr,t),Tr.removeEventListener("test",Sr,t)}catch(n){}return e}();function yi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vi(e,t){if(yi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(si){e:{try{$r(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vi.Z.h.call(this)}}yi.prototype.h=function(){this.defaultPrevented=!0},Lr(vi,yi);var wi={2:"touch",3:"pen",4:"mouse"};vi.prototype.h=function(){vi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bi="closure_listenable_"+(1e6*Math.random()|0),Ii=0;function Ei(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ii,this.ca=this.fa=!1}function _i(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ki(e){this.src=e,this.g={},this.h=0}function Ti(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ur(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_i(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Si(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ki.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Si(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ei(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Ai="closure_lm_"+(1e6*Math.random()|0),Ni={};function Ci(e,t,n,r,i){if(r&&r.once)return Oi(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ci(e,t[s],n,r,i);return null}return n=Ui(n),e&&e[bi]?e.N(t,n,Nr(r)?!!r.capture:!!r,i):xi(e,t,n,!1,r,i)}function xi(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Nr(i)?!!i.capture:!!i,a=Mi(e);if(a||(e[Ai]=a=new ki(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Li;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ri(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oi(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Oi(e,t[s],n,r,i);return null}return n=Ui(n),e&&e[bi]?e.O(t,n,Nr(r)?!!r.capture:!!r,i):xi(e,t,n,!0,r,i)}function Pi(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Pi(e,t[s],n,r,i);else r=Nr(r)?!!r.capture:!!r,n=Ui(n),e&&e[bi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Si(s=e.g[t],n,r,i))&&(_i(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Mi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Si(t,n,r,i)),(n=-1<e?t[e]:null)&&Di(n))}function Di(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[bi])Ti(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ri(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mi(t))?(Ti(n,e),0==n.h&&(n.src=null,t[Ai]=null)):_i(e)}}}function Ri(e){return e in Ni?Ni[e]:Ni[e]="on"+e}function Li(e,t){if(e.ca)e=!0;else{t=new vi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Di(e),e=n.call(r,t)}return e}function Mi(e){return(e=e[Ai])instanceof ki?e:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(e){return"function"===typeof e?e:(e[Fi]||(e[Fi]=function(t){return e.handleEvent(t)}),e[Fi])}function ji(){Mr.call(this),this.i=new ki(this),this.P=this,this.I=null}function Vi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yi(t,e);else if(t instanceof yi)t.target=t.target||e;else{var i=t;Zr(t=new yi(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Bi(o,r,!0,t)&&i}if(i=Bi(o=t.g=e,r,!0,t)&&i,i=Bi(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Bi(o=t.g=n[s],r,!1,t)&&i}function Bi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Ti(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lr(ji,Mr),ji.prototype[bi]=!0,ji.prototype.removeEventListener=function(e,t,n,r){Pi(this,e,t,n,r)},ji.prototype.M=function(){if(ji.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_i(n[r]);delete t.g[e],t.h--}}this.I=null},ji.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ji.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zi=Tr.JSON.stringify;function qi(){var e=Ji;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Hi,Ki=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Wi,e=>e.reset());class Wi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qi(e){Tr.setTimeout(()=>{throw e},0)}function Gi(e,t){Hi||function(){var e=Tr.Promise.resolve(void 0);Hi=function(){e.then(Xi)}}(),Yi||(Hi(),Yi=!0),Ji.add(e,t)}var Yi=!1,Ji=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ki.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Xi(){for(var e;e=qi();){try{e.h.call(e.g)}catch(n){Qi(n)}var t=Ki;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yi=!1}function Zi(e,t){ji.call(this),this.h=e||1,this.g=t||Tr,this.j=Dr(this.kb,this),this.l=Date.now()}function $i(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function es(e,t,n){if("function"===typeof e)n&&(e=Dr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Tr.setTimeout(e,t||0)}function ts(e){e.g=es(()=>{e.g=null,e.i&&(e.i=!1,ts(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lr(Zi,ji),(Ir=Zi.prototype).da=!1,Ir.S=null,Ir.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vi(this,"tick"),this.da&&($i(this),this.start()))}},Ir.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ir.M=function(){Zi.Z.M.call(this),$i(this),delete this.g};class ns extends Mr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ts(this)}M(){super.M(),this.g&&(Tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(e){Mr.call(this),this.h=e,this.g={}}Lr(rs,Mr);var is=[];function ss(e,t,n,r){Array.isArray(n)||(n&&(is[0]=n.toString()),n=is);for(var i=0;i<n.length;i++){var s=Ci(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function os(e){Yr(e.g,function(e,t){this.g.hasOwnProperty(t)&&Di(e)},e),e.g={}}function as(){this.g=!0}function ls(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return zi(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}rs.prototype.M=function(){rs.Z.M.call(this),os(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},as.prototype.Aa=function(){this.g=!1},as.prototype.info=function(){};var cs={},us=null;function hs(){return us=us||new ji}function ds(e){yi.call(this,cs.Ma,e)}function fs(e){const t=hs();Vi(t,new ds(t,e))}function ps(e,t){yi.call(this,cs.STAT_EVENT,e),this.stat=t}function ms(e){const t=hs();Vi(t,new ps(t,e))}function gs(e,t){yi.call(this,cs.Na,e),this.size=t}function ys(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Tr.setTimeout(function(){e()},t)}cs.Ma="serverreachability",Lr(ds,yi),cs.STAT_EVENT="statevent",Lr(ps,yi),cs.Na="timingevent",Lr(gs,yi);var vs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ws={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bs(){}function Is(e){return e.h||(e.h=e.i())}function Es(){}bs.prototype.h=null;var _s,ks={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ts(){yi.call(this,"d")}function Ss(){yi.call(this,"c")}function As(){}function Ns(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rs(this),this.P=xs,e=ii?125:void 0,this.W=new Zi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}Lr(Ts,yi),Lr(Ss,yi),Lr(As,bs),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},_s=new As;var xs=45e3,Os={},Ps={};function Ds(e,t,n){e.K=1,e.v=no(Js(t)),e.s=n,e.U=!0,Rs(e,null)}function Rs(e,t){e.F=Date.now(),Us(e),e.A=Js(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),go(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Cs,e.g=va(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ns(Dr(e.Ia,e,e.g),e.O)),ss(e.V,e.g,"readystatechange",e.gb),t=e.H?Jr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fs(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ls(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ms(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Fs(e,n),r==Ps){4==t&&(e.o=4,ms(14),i=!1),ls(e.j,e.m,null,"[Incomplete Response]");break}if(r==Os){e.o=4,ms(15),ls(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ls(e.j,e.m,r,null),qs(e,r)}Ls(e)&&r!=Ps&&r!=Os&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ms(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ua(t),t.L=!0,ms(11))):(ls(e.j,e.m,n,"[Invalid Chunked Response]"),zs(e),Bs(e))}function Fs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ps:(n=Number(t.substring(n,r)),isNaN(n)?Os:(r+=1)+n>t.length?Ps:(t=t.substr(r,n),e.C=r+n,t))}function Us(e){e.Y=Date.now()+e.P,js(e,e.P)}function js(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ys(Dr(e.eb,e),t)}function Vs(e){e.B&&(Tr.clearTimeout(e.B),e.B=null)}function Bs(e){0==e.l.G||e.I||fa(e.l,e)}function zs(e){Vs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$i(e.W),os(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ko(n.i,e)))if(n.I=e.N,!e.J&&ko(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;da(n),ta(n)}ca(n),ms(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ys(Dr(n.ab,n),6e3));if(1>=_o(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else ma(n,11)}else if((e.J||n.g==e)&&da(n),!zr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Kr(e,"spdy")||Kr(e,"quic")||Kr(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(To(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,to(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=ya(r,r.H?r.la:null,r.W),o.J){So(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Vs(a),Us(a)),r.g=o}else la(r);0<n.l.length&&ia(n)}else"stop"!=c[0]&&"close"!=c[0]||ma(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ma(n,7):ea(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}fs(4)}catch(c){}}function Hs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ar(e)||"string"===typeof e)jr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ar(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ar(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ks(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ks)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ws(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Qs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Qs(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ir=Ns.prototype).setTimeout=function(e){this.P=e},Ir.gb=function(e){e=e.target;const t=this.L;t&&3==Yo(e)?t.l():this.Ia(e)},Ir.Ia=function(e){try{if(e==this.g)e:{const o=Yo(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>o)&&(3!=o||ii||this.g&&(this.h.h||this.g.ga()||Jo(this.g)))){this.I||4!=o||7==t||fs(8==t||0>=h?3:2),Vs(this);var n=this.g.ba();this.N=n;t:if(Ls(this)){var r=Jo(this.g);e="";var i=r.length,s=4==Yo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zs(this),Bs(this);var a="";break t}this.h.i=new Tr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,o,n),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zr(l)){var u=l;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,ms(12),zs(this),Bs(this);break e}ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qs(this,n)}this.U?(Ms(this,o,a),ii&&this.i&&3==o&&(ss(this.V,this.W,"tick",this.fb),this.W.start())):(ls(this.j,this.m,a,null),qs(this,a)),4==o&&zs(this),this.i&&!this.I&&(4==o?fa(this.l,this):(this.i=!1,Us(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,ms(12)):(this.o=0,ms(13)),zs(this),Bs(this)}}}catch(o){}},Ir.fb=function(){if(this.g){var e=Yo(this.g),t=this.g.ga();this.C<t.length&&(Vs(this),Ms(this,e,t),this.i&&4!=e&&Us(this))}},Ir.cancel=function(){this.I=!0,zs(this)},Ir.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(fs(3),ms(17)),zs(this),this.o=2,Bs(this)):js(this,this.Y-e)},(Ir=Ks.prototype).R=function(){Ws(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ir.T=function(){return Ws(this),this.g.concat()},Ir.get=function(e,t){return Qs(this.h,e)?this.h[e]:t},Ir.set=function(e,t){Qs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ir.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Gs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ys(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ys){this.g=void 0!==t?t:e.g,Xs(this,e.j),this.s=e.s,Zs(this,e.i),$s(this,e.m),this.l=e.l,t=e.h;var n=new ho;n.i=t.i,t.g&&(n.g=new Ks(t.g),n.h=t.h),eo(this,n),this.o=e.o}else e&&(n=String(e).match(Gs))?(this.g=!!t,Xs(this,n[1]||"",!0),this.s=ro(n[2]||""),Zs(this,n[3]||"",!0),$s(this,n[4]),this.l=ro(n[5]||"",!0),eo(this,n[6]||"",!0),this.o=ro(n[7]||"")):(this.g=!!t,this.h=new ho(null,this.g))}function Js(e){return new Ys(e)}function Xs(e,t,n){e.j=n?ro(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zs(e,t,n){e.i=n?ro(t,!0):t}function $s(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function eo(e,t,n){t instanceof ho?(e.h=t,function(e,t){t&&!e.j&&(fo(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(po(this,t),go(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=io(t,co)),e.h=new ho(t,e.g))}function to(e,t,n){e.h.set(t,n)}function no(e){return to(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ro(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function io(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,so),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function so(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ys.prototype.toString=function(){var e=[],t=this.j;t&&e.push(io(t,oo,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(io(t,oo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(io(n,"/"==n.charAt(0)?lo:ao,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",io(n,uo)),e.join("")};var oo=/[#\/\?@]/g,ao=/[#\?:]/g,lo=/[#\?]/g,co=/[#\?@]/g,uo=/#/g;function ho(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fo(e){e.g||(e.g=new Ks,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function po(e,t){fo(e),t=yo(e,t),Qs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Qs((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ws(e)))}function mo(e,t){return fo(e),t=yo(e,t),Qs(e.g.h,t)}function go(e,t,n){po(e,t),0<n.length&&(e.i=null,e.g.set(yo(e,t),Br(n)),e.h+=n.length)}function yo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ir=ho.prototype).add=function(e,t){fo(this),this.i=null,e=yo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ir.forEach=function(e,t){fo(this),this.g.forEach(function(n,r){jr(n,function(n){e.call(t,n,r,this)},this)},this)},Ir.T=function(){fo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ir.R=function(e){fo(this);var t=[];if("string"===typeof e)mo(this,e)&&(t=Vr(t,this.g.get(yo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vr(t,e[n])}return t},Ir.set=function(e,t){return fo(this),this.i=null,mo(this,e=yo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ir.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ir.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var vo=class{constructor(e,t){this.h=e,this.g=t}};function wo(e){this.l=e||Io,Tr.PerformanceNavigationTiming?e=0<(e=Tr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Tr.g&&Tr.g.Ea&&Tr.g.Ea()&&Tr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bo,Io=10;function Eo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _o(e){return e.h?1:e.g?e.g.size:0}function ko(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function To(e,t){e.g?e.g.add(t):e.h=t}function So(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ao(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Br(e.i)}function No(){}function Co(){this.g=new No}function xo(e,t,n){const r=n||"";try{Hs(e,function(e,n){let i=e;Nr(e)&&(i=zi(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Oo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Po(e){this.l=e.$b||null,this.j=e.ib||!1}function Do(e,t){ji.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},No.prototype.stringify=function(e){return Tr.JSON.stringify(e,void 0)},No.prototype.parse=function(e){return Tr.JSON.parse(e,void 0)},Lr(Po,bs),Po.prototype.g=function(){return new Do(this.l,this.j)},Po.prototype.i=(bo={},function(){return bo}),Lr(Do,ji);var Ro=0;function Lo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Mo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fo(e)}function Fo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ir=Do.prototype).open=function(e,t){if(this.readyState!=Ro)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fo(this)},Ir.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Tr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ir.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mo(this)),this.readyState=Ro},Ir.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Tr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ir.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mo(this):Fo(this),3==this.readyState&&Lo(this)}},Ir.Ua=function(e){this.g&&(this.response=this.responseText=e,Mo(this))},Ir.Ta=function(e){this.g&&(this.response=e,Mo(this))},Ir.ha=function(){this.g&&Mo(this)},Ir.setRequestHeader=function(e,t){this.v.append(e,t)},Ir.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ir.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Uo=Tr.JSON.parse;function jo(e){ji.call(this),this.headers=new Ks,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vo,this.K=this.L=!1}Lr(jo,ji);var Vo="",Bo=/^https?$/i,zo=["POST","PUT"];function qo(e){return"content-type"==e.toLowerCase()}function Ho(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ko(e),Qo(e)}function Ko(e){e.D||(e.D=!0,Vi(e,"complete"),Vi(e,"error"))}function Wo(e){if(e.h&&"undefined"!=typeof kr&&(!e.C[1]||4!=Yo(e)||2!=e.ba()))if(e.v&&4==Yo(e))es(e.Fa,0,e);else if(Vi(e,"readystatechange"),4==Yo(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Gs)[1]||null;if(!i&&Tr.self&&Tr.self.location){var s=Tr.self.location.protocol;i=s.substr(0,s.length-1)}r=!Bo.test(i?i.toLowerCase():"")}n=r}if(n)Vi(e,"complete"),Vi(e,"success");else{e.m=6;try{var o=2<Yo(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Ko(e)}}finally{Qo(e)}}}function Qo(e,t){if(e.g){Go(e);const r=e.g,i=e.C[0]?Sr:null;e.g=null,e.C=null,t||Vi(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Go(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Tr.clearTimeout(e.A),e.A=null)}function Yo(e){return e.g?e.g.readyState:0}function Jo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Yr(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):to(e,t,n))}function Zo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $o(e){this.za=0,this.l=[],this.h=new as,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zo("baseRetryDelayMs",5e3,e),this.$a=Zo("retryDelaySeedMs",1e4,e),this.Ya=Zo("forwardChannelMaxRetries",2,e),this.ra=Zo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wo(e&&e.concurrentRequestLimit),this.Ca=new Co,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ea(e){if(na(e),3==e.G){var t=e.V++,n=Js(e.F);to(n,"SID",e.J),to(n,"RID",t),to(n,"TYPE","terminate"),oa(e,n),(t=new Ns(e,e.h,t,void 0)).K=2,t.v=no(Js(n)),n=!1,Tr.navigator&&Tr.navigator.sendBeacon&&(n=Tr.navigator.sendBeacon(t.v.toString(),"")),!n&&Tr.Image&&((new Image).src=t.v,n=!0),n||(t.g=va(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Us(t)}ga(e)}function ta(e){e.g&&(ua(e),e.g.cancel(),e.g=null)}function na(e){ta(e),e.u&&(Tr.clearTimeout(e.u),e.u=null),da(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Tr.clearTimeout(e.m),e.m=null)}function ra(e,t){e.l.push(new vo(e.Za++,t)),3==e.G&&ia(e)}function ia(e){Eo(e.i)||e.m||(e.m=!0,Gi(e.Ha,e),e.C=0)}function sa(e,t){var n;n=t?t.m:e.V++;const r=Js(e.F);to(r,"SID",e.J),to(r,"RID",n),to(r,"AID",e.U),oa(e,r),e.o&&e.s&&Xo(r,e.o,e.s),n=new Ns(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=aa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),To(e.i,n),Ds(n,r,t)}function oa(e,t){e.j&&Hs({},function(e,n){to(t,n,e)})}function aa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Dr(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{xo(a,e,"req"+n+"_")}catch(Ja){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function la(e){e.g||e.u||(e.Y=1,Gi(e.Ga,e),e.A=0)}function ca(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ys(Dr(e.Ga,e),pa(e,e.A)),e.A++,!0)}function ua(e){null!=e.B&&(Tr.clearTimeout(e.B),e.B=null)}function ha(e){e.g=new Ns(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Js(e.oa);to(t,"RID","rpc"),to(t,"SID",e.J),to(t,"CI",e.N?"0":"1"),to(t,"AID",e.U),oa(e,t),to(t,"TYPE","xmlhttp"),e.o&&e.s&&Xo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=no(Js(t)),n.s=null,n.U=!0,Rs(n,e)}function da(e){null!=e.v&&(Tr.clearTimeout(e.v),e.v=null)}function fa(e,t){var n=null;if(e.g==t){da(e),ua(e),e.g=null;var r=2}else{if(!ko(e.i,t))return;n=t.D,So(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vi(r=hs(),new gs(r,n,t,i)),ia(e)}else la(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(_o(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ys(Dr(e.Ha,e,t),pa(e,e.C)),e.C++,!0))}(e,t)||2==r&&ca(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ma(e,5);break;case 4:ma(e,10);break;case 3:ma(e,6);break;default:ma(e,2)}}function pa(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ma(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Dr(e.jb,e);n||(n=new Ys("//www.google.com/images/cleardot.gif"),Tr.location&&"http"==Tr.location.protocol||Xs(n,"https"),no(n)),function(e,t){const n=new as;if(Tr.Image){const r=new Image;r.onload=Rr(Oo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rr(Oo,n,r,"TestLoadImage: error",!1,t),r.onabort=Rr(Oo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rr(Oo,n,r,"TestLoadImage: timeout",!1,t),Tr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else ms(2);e.G=0,e.j&&e.j.va(t),ga(e),na(e)}function ga(e){e.G=0,e.I=-1,e.j&&(0==Ao(e.i).length&&0==e.l.length||(e.i.i.length=0,Br(e.l),e.l.length=0),e.j.ua())}function ya(e,t,n){let r=function(e){return e instanceof Ys?Js(e):new Ys(e,void 0)}(n);if(""!=r.i)t&&Zs(r,t+"."+r.i),$s(r,r.m);else{const e=Tr.location;r=function(e,t,n,r){var i=new Ys(null,void 0);return e&&Xs(i,e),t&&Zs(i,t),n&&$s(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Yr(e.aa,function(e,t){to(r,t,e)}),t=e.D,n=e.sa,t&&n&&to(r,t,n),to(r,"VER",e.ma),oa(e,r),r}function va(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new jo(new Po({ib:!0})):new jo(e.qa)).L=e.H,t}function wa(){}function ba(){if(ni&&!(10<=Number(mi)))throw Error("Environmental error: no available transport.")}function Ia(e,t){ji.call(this),this.g=new $o(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ka(this)}function Ea(e){Ts.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _a(){Ss.call(this),this.status=1}function ka(e){this.g=e}(Ir=jo.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_s.g(),this.C=this.u?Is(this.u):Is(_s),this.g.onreadystatechange=Dr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ho(this,s)}e=n||"";const i=new Ks(this.headers);r&&Hs(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=qo;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Tr.FormData&&e instanceof Tr.FormData,!(0<=Ur(zo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Go(this),0<this.B&&((this.K=function(e){return ni&&fi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dr(this.pa,this)):this.A=es(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ho(this,s)}},Ir.pa=function(){"undefined"!=typeof kr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},Ir.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vi(this,"complete"),Vi(this,"abort"),Qo(this))},Ir.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qo(this,!0)),jo.Z.M.call(this)},Ir.Fa=function(){this.s||(this.F||this.v||this.l?Wo(this):this.cb())},Ir.cb=function(){Wo(this)},Ir.ba=function(){try{return 2<Yo(this)?this.g.status:-1}catch(bo){return-1}},Ir.ga=function(){try{return this.g?this.g.responseText:""}catch(bo){return""}},Ir.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Uo(t)}},Ir.Da=function(){return this.m},Ir.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ir=$o.prototype).ma=8,Ir.G=1,Ir.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ir.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ns(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Jr(s),Zr(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=aa(this,i,t),to(n=Js(this.F),"RID",e),to(n,"CVER",22),this.D&&to(n,"X-HTTP-Session-Id",this.D),oa(this,n),this.o&&s&&Xo(n,this.o,s),To(this.i,i),this.Ra&&to(n,"TYPE","init"),this.ja?(to(n,"$req",t),to(n,"SID","null"),i.$=!0,Ds(i,n,null)):Ds(i,n,t),this.G=2}}else 3==this.G&&(e?sa(this,e):0==this.l.length||Eo(this.i)||sa(this))},Ir.Ga=function(){if(this.u=null,ha(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ys(Dr(this.bb,this),e)}},Ir.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ms(10),ta(this),ha(this))},Ir.ab=function(){null!=this.v&&(this.v=null,ta(this),ca(this),ms(19))},Ir.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ms(2)):(this.h.info("Failed to ping google.com"),ms(1))},(Ir=wa.prototype).xa=function(){},Ir.wa=function(){},Ir.va=function(){},Ir.ua=function(){},Ir.Oa=function(){},ba.prototype.g=function(e,t){return new Ia(e,t)},Lr(Ia,ji),Ia.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gi(Dr(e.hb,e,t))),ms(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ya(e,null,e.W),ia(e)},Ia.prototype.close=function(){ea(this.g)},Ia.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ra(this.g,t)}else this.v?((t={}).__data__=zi(e),ra(this.g,t)):ra(this.g,e)},Ia.prototype.M=function(){this.g.j=null,delete this.j,ea(this.g),delete this.g,Ia.Z.M.call(this)},Lr(Ea,Ts),Lr(_a,Ss),Lr(ka,wa),ka.prototype.xa=function(){Vi(this.g,"a")},ka.prototype.wa=function(e){Vi(this.g,new Ea(e))},ka.prototype.va=function(e){Vi(this.g,new _a(e))},ka.prototype.ua=function(){Vi(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,Ia.prototype.send=Ia.prototype.u,Ia.prototype.open=Ia.prototype.m,Ia.prototype.close=Ia.prototype.close,vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,ws.COMPLETE="complete",Es.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",ji.prototype.listen=ji.prototype.N,jo.prototype.listenOnce=jo.prototype.O,jo.prototype.getLastError=jo.prototype.La,jo.prototype.getLastErrorCode=jo.prototype.Da,jo.prototype.getStatus=jo.prototype.ba,jo.prototype.getResponseJson=jo.prototype.Qa,jo.prototype.getResponseText=jo.prototype.ga,jo.prototype.send=jo.prototype.ea;var Ta=_r.createWebChannelTransport=function(){return new ba},Sa=_r.getStatEventTarget=function(){return hs()},Aa=_r.ErrorCode=vs,Na=_r.EventType=ws,Ca=_r.Event=cs,xa=_r.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Oa=_r.FetchXmlHttpFactory=Po,Pa=_r.WebChannel=Es,Da=_r.XhrIo=jo;const Ra="@firebase/firestore";class La{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}La.UNAUTHENTICATED=new La(null),La.GOOGLE_CREDENTIALS=new La("google-credentials-uid"),La.FIRST_PARTY=new La("first-party-uid"),La.MOCK_USER=new La("mock-user");let Ma="9.4.0";const Fa=new bn("@firebase/firestore");function Ua(){return Fa.logLevel}function ja(e){if(Fa.logLevel<=mn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(za);Fa.debug("Firestore (".concat(Ma,"): ").concat(e),...i)}}function Va(e){if(Fa.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(za);Fa.error("Firestore (".concat(Ma,"): ").concat(e),...i)}}function Ba(e){if(Fa.logLevel<=mn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(za);Fa.warn("Firestore (".concat(Ma,"): ").concat(e),...i)}}function za(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ma,") INTERNAL ASSERTION FAILED: ")+e;throw Va(t),new Error(t)}function Ha(e,t){e||qa()}function Ka(e,t){return e}const Wa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qa extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ga{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ya{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(e)}}class Ja{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(La.UNAUTHENTICATED))}shutdown(){}}class Xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Za{constructor(e){this.t=e,this.currentUser=La.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ga,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ja("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ja("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ga)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ja("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ha("string"==typeof t.accessToken),new Ya(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ha(null===e||"string"==typeof e),new La(e)}}class $a{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=La.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class el{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new $a(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(La.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function nl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}tl.T=-1;class rl{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=nl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function il(e,t){return e<t?-1:e>t?1:0}function sl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ol(e){return e+"\0"}class al{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qa(Wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qa(Wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qa(Wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qa(Wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return al.fromMillis(Date.now())}static fromDate(e){return al.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new al(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?il(this.nanoseconds,e.nanoseconds):il(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ll{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ll(e)}static min(){return new ll(new al(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ul(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dl{constructor(e,t,n){void 0===t?t=0:t>e.length&&qa(),void 0===n?n=e.length-t:n>e.length-t&&qa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fl extends dl{construct(e,t,n){return new fl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new fl(e)}static emptyPath(){return new fl([])}}const pl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ml extends dl{construct(e,t,n){return new ml(e,t,n)}static isValidIdentifier(e){return pl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ml.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ml(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qa(Wa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qa(Wa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Qa(Wa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ml(t)}static emptyPath(){return new ml([])}}class gl{constructor(e){this.fields=e,e.sort(ml.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yl(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return il(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yl.EMPTY_BYTE_STRING=new yl("");const vl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(e){if(Ha(!!e),"string"==typeof e){let t=0;const n=vl.exec(e);if(Ha(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bl(e.seconds),nanos:bl(e.nanos)}}function bl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Il(e){return"string"==typeof e?yl.fromBase64String(e):yl.fromUint8Array(e)}function El(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _l(e){const t=e.mapValue.fields.__previous_value__;return El(t)?_l(t):t}function kl(e){const t=wl(e.mapValue.fields.__local_write_time__.timestampValue);return new al(t.seconds,t.nanos)}function Tl(e){return null==e}function Sl(e){return 0===e&&1/e==-1/0}function Al(e){return"number"==typeof e&&Number.isInteger(e)&&!Sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Nl{constructor(e){this.path=e}static fromPath(e){return new Nl(fl.fromString(e))}static fromName(e){return new Nl(fl.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===fl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nl(new fl(e.slice()))}}function Cl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?El(e)?4:10:qa()}function xl(e,t){const n=Cl(e);if(n!==Cl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kl(e).isEqual(kl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wl(e.timestampValue),r=wl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Il(e.bytesValue).isEqual(Il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bl(e.geoPointValue.latitude)===bl(t.geoPointValue.latitude)&&bl(e.geoPointValue.longitude)===bl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bl(e.integerValue)===bl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bl(e.doubleValue),r=bl(t.doubleValue);return n===r?Sl(n)===Sl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sl(e.arrayValue.values||[],t.arrayValue.values||[],xl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cl(n)!==cl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xl(n[i],r[i])))return!1;return!0}(e,t);default:return qa()}}function Ol(e,t){return void 0!==(e.values||[]).find(e=>xl(e,t))}function Pl(e,t){const n=Cl(e),r=Cl(t);if(n!==r)return il(n,r);switch(n){case 0:return 0;case 1:return il(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bl(e.integerValue||e.doubleValue),r=bl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dl(e.timestampValue,t.timestampValue);case 4:return Dl(kl(e),kl(t));case 5:return il(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Il(e),r=Il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=il(n[i],r[i]);if(0!==e)return e}return il(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=il(bl(e.latitude),bl(t.latitude));return 0!==n?n:il(bl(e.longitude),bl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Pl(n[i],r[i]);if(e)return e}return il(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=il(r[o],s[o]);if(0!==e)return e;const t=Pl(n[r[o]],i[s[o]]);if(0!==t)return t}return il(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qa()}}function Dl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return il(e,t);const n=wl(e),r=wl(t),i=il(n.seconds,r.seconds);return 0!==i?i:il(n.nanos,r.nanos)}function Rl(e){return Ll(e)}function Ll(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Il(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Nl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ll(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ll(e.fields[i]));return n+"}"}(e.mapValue):qa();var t,n}function Ml(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fl(e){return!!e&&"integerValue"in e}function Ul(e){return!!e&&"arrayValue"in e}function jl(e){return!!e&&"nullValue"in e}function Vl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bl(e){return!!e&&"mapValue"in e}function zl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ul(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=zl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(e.arrayValue.values[n]);return t}return Object.assign({},e)}class ql{constructor(e){this.value=e}static empty(){return new ql({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=ml.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zl(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ul(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ql(zl(this.value))}}function Hl(e){const t=[];return ul(e.fields,(e,n)=>{const r=new ml([e]);if(Bl(n)){const e=Hl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gl(t)}class Kl{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Kl(e,0,ll.min(),ql.empty(),0)}static newFoundDocument(e,t,n){return new Kl(e,1,t,n,0)}static newNoDocument(e,t){return new Kl(e,2,t,ql.empty(),0)}static newUnknownDocument(e,t){return new Kl(e,3,t,ql.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ql.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ql.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Kl(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Ql(e){return new Wl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Gl(e){const t=Ka(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Rl(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Tl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ac(t.startAt)),t.endAt&&(e+="|ub:",e+=ac(t.endAt)),t.A=e}return t.A}function Yl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!cc(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!xl(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hc(e.startAt,t.startAt)&&hc(e.endAt,t.endAt)}function Jl(e){return Nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xl extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Zl(e,t,n):"array-contains"===t?new nc(e,n):"in"===t?new rc(e,n):"not-in"===t?new ic(e,n):"array-contains-any"===t?new sc(e,n):new Xl(e,t,n)}static R(e,t,n){return"in"===t?new $l(e,n):new ec(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Pl(t,this.value)):null!==t&&Cl(this.value)===Cl(t)&&this.P(Pl(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qa()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Zl extends Xl{constructor(e,t,n){super(e,t,n),this.key=Nl.fromName(n.referenceValue)}matches(e){const t=Nl.comparator(e.key,this.key);return this.P(t)}}class $l extends Xl{constructor(e,t){super(e,"in",t),this.keys=tc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ec extends Xl{constructor(e,t){super(e,"not-in",t),this.keys=tc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Nl.fromName(e.referenceValue))}class nc extends Xl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ul(t)&&Ol(t.arrayValue,this.value)}}class rc extends Xl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ol(this.value.arrayValue,t)}}class ic extends Xl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ol(this.value.arrayValue,t)}}class sc extends Xl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ul(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ol(this.value.arrayValue,e))}}class oc{constructor(e,t){this.position=e,this.before=t}}function ac(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(e=>Rl(e)).join(","))}class lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function cc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Nl.comparator(Nl.fromName(o.referenceValue),n.key):Pl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function hc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xl(e.position[n],t.position[n]))return!1;return!0}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function fc(e,t,n,r,i,s,o,a){return new dc(e,t,n,r,i,s,o,a)}function pc(e){return new dc(e)}function mc(e){return!Tl(e.limit)&&"F"===e.limitType}function gc(e){return!Tl(e.limit)&&"L"===e.limitType}function yc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){for(const t of e.filters)if(t.v())return t.field;return null}function wc(e){return null!==e.collectionGroup}function bc(e){const t=Ka(e);if(null===t.V){t.V=[];const e=vc(t),n=yc(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new lc(e)),t.V.push(new lc(ml.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new lc(ml.keyField(),e))}}}return t.V}function Ic(e){const t=Ka(e);if(!t.S)if("F"===t.limitType)t.S=Ql(t.path,t.collectionGroup,bc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of bc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new lc(i.field,t))}const n=t.endAt?new oc(t.endAt.position,!t.endAt.before):null,r=t.startAt?new oc(t.startAt.position,!t.startAt.before):null;t.S=Ql(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Ec(e,t,n){return new dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _c(e,t){return Yl(Ic(e),Ic(t))&&e.limitType===t.limitType}function kc(e){return"".concat(Gl(Ic(e)),"|lt:").concat(e.limitType)}function Tc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>{return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Rl(t.value));var t}).join(", "),"]")),Tl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: "+ac(e.startAt)),e.endAt&&(t+=", endAt: "+ac(e.endAt)),"Target(".concat(t,")")}(Ic(e)),"; limitType=").concat(e.limitType,")")}function Sc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Nl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!uc(e.startAt,bc(e),t))&&(!e.endAt||!uc(e.endAt,bc(e),t))}(e,t)}function Ac(e){return(t,n)=>{let r=!1;for(const i of bc(e)){const e=Nc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Nc(e,t,n){const r=e.field.isKeyField()?Nl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Pl(r,i):qa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qa()}}function Cc(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(t)?"-0":t}}function xc(e){return{integerValue:""+e}}function Oc(e,t){return Al(t)?xc(t):Cc(e,t)}class Pc{constructor(){this._=void 0}}function Dc(e,t,n){return e instanceof Mc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Fc?Uc(e,t):e instanceof jc?Vc(e,t):function(e,t){const n=Lc(e,t),r=zc(n)+zc(e.C);return Fl(n)&&Fl(e.C)?xc(r):Cc(e.N,r)}(e,t)}function Rc(e,t,n){return e instanceof Fc?Uc(e,t):e instanceof jc?Vc(e,t):n}function Lc(e,t){return e instanceof Bc?Fl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Mc extends Pc{}class Fc extends Pc{constructor(e){super(),this.elements=e}}function Uc(e,t){const n=qc(t);for(const r of e.elements)n.some(e=>xl(e,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Pc{constructor(e){super(),this.elements=e}}function Vc(e,t){let n=qc(t);for(const r of e.elements)n=n.filter(e=>!xl(e,r));return{arrayValue:{values:n}}}class Bc extends Pc{constructor(e,t){super(),this.N=e,this.C=t}}function zc(e){return bl(e.integerValue||e.doubleValue)}function qc(e){return Ul(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Hc{constructor(e,t){this.field=e,this.transform=t}}class Kc{constructor(e,t){this.version=e,this.transformResults=t}}class Wc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wc}static exists(e){return new Wc(void 0,e)}static updateTime(e){return new Wc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gc{}function Yc(e,t,n){e instanceof eu?function(e,t,n){const r=e.value.clone(),i=ru(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tu?function(e,t,n){if(!Qc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ru(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(nu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jc(e,t,n){e instanceof eu?function(e,t,n){if(!Qc(e.precondition,t))return;const r=e.value.clone(),i=iu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($c(t),r).setHasLocalMutations()}(e,t,n):e instanceof tu?function(e,t,n){if(!Qc(e.precondition,t))return;const r=iu(e.fieldTransforms,n,t),i=t.data;i.setAll(nu(e)),i.setAll(r),t.convertToFoundDocument($c(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Qc(e.precondition,t)&&t.convertToNoDocument(ll.min())}(e,t)}function Xc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Lc(r.transform,e||null);null!=i&&(null==n&&(n=ql.empty()),n.set(r.field,i))}return n||null}function Zc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fc&&t instanceof Fc||e instanceof jc&&t instanceof jc?sl(e.elements,t.elements,xl):e instanceof Bc&&t instanceof Bc?xl(e.C,t.C):e instanceof Mc&&t instanceof Mc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $c(e){return e.isFoundDocument()?e.version:ll.min()}class eu extends Gc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class tu extends Gc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function nu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ru(e,t,n){const r=new Map;Ha(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Rc(o,a,n[i]))}return r}function iu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Dc(e,s,t))}return r}class su extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ou extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class au{constructor(e){this.count=e}}var lu,cu;function uu(e){switch(e){default:return qa();case Wa.CANCELLED:case Wa.UNKNOWN:case Wa.DEADLINE_EXCEEDED:case Wa.RESOURCE_EXHAUSTED:case Wa.INTERNAL:case Wa.UNAVAILABLE:case Wa.UNAUTHENTICATED:return!1;case Wa.INVALID_ARGUMENT:case Wa.NOT_FOUND:case Wa.ALREADY_EXISTS:case Wa.PERMISSION_DENIED:case Wa.FAILED_PRECONDITION:case Wa.ABORTED:case Wa.OUT_OF_RANGE:case Wa.UNIMPLEMENTED:case Wa.DATA_LOSS:return!0}}function hu(e){if(void 0===e)return Va("GRPC error has no .code"),Wa.UNKNOWN;switch(e){case lu.OK:return Wa.OK;case lu.CANCELLED:return Wa.CANCELLED;case lu.UNKNOWN:return Wa.UNKNOWN;case lu.DEADLINE_EXCEEDED:return Wa.DEADLINE_EXCEEDED;case lu.RESOURCE_EXHAUSTED:return Wa.RESOURCE_EXHAUSTED;case lu.INTERNAL:return Wa.INTERNAL;case lu.UNAVAILABLE:return Wa.UNAVAILABLE;case lu.UNAUTHENTICATED:return Wa.UNAUTHENTICATED;case lu.INVALID_ARGUMENT:return Wa.INVALID_ARGUMENT;case lu.NOT_FOUND:return Wa.NOT_FOUND;case lu.ALREADY_EXISTS:return Wa.ALREADY_EXISTS;case lu.PERMISSION_DENIED:return Wa.PERMISSION_DENIED;case lu.FAILED_PRECONDITION:return Wa.FAILED_PRECONDITION;case lu.ABORTED:return Wa.ABORTED;case lu.OUT_OF_RANGE:return Wa.OUT_OF_RANGE;case lu.UNIMPLEMENTED:return Wa.UNIMPLEMENTED;case lu.DATA_LOSS:return Wa.DATA_LOSS;default:return qa()}}(cu=lu||(lu={}))[cu.OK=0]="OK",cu[cu.CANCELLED=1]="CANCELLED",cu[cu.UNKNOWN=2]="UNKNOWN",cu[cu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cu[cu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cu[cu.NOT_FOUND=5]="NOT_FOUND",cu[cu.ALREADY_EXISTS=6]="ALREADY_EXISTS",cu[cu.PERMISSION_DENIED=7]="PERMISSION_DENIED",cu[cu.UNAUTHENTICATED=16]="UNAUTHENTICATED",cu[cu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cu[cu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cu[cu.ABORTED=10]="ABORTED",cu[cu.OUT_OF_RANGE=11]="OUT_OF_RANGE",cu[cu.UNIMPLEMENTED=12]="UNIMPLEMENTED",cu[cu.INTERNAL=13]="INTERNAL",cu[cu.UNAVAILABLE=14]="UNAVAILABLE",cu[cu.DATA_LOSS=15]="DATA_LOSS";class du{constructor(e,t){this.comparator=e,this.root=t||pu.EMPTY}insert(e,t){return new du(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pu.BLACK,null,null))}remove(e){return new du(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pu.RED,this.left=null!=r?r:pu.EMPTY,this.right=null!=i?i:pu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qa();if(this.right.isRed())throw qa();const e=this.left.check();if(e!==this.right.check())throw qa();return e+(this.isRed()?0:1)}}pu.EMPTY=null,pu.RED=!0,pu.BLACK=!1,pu.EMPTY=new class{constructor(){this.size=0}get key(){throw qa()}get value(){throw qa()}get color(){throw qa()}get left(){throw qa()}get right(){throw qa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new pu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mu{constructor(e){this.comparator=e,this.data=new du(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gu(this.data.getIterator())}getIteratorFrom(e){return new gu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof mu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mu(this.comparator);return t.data=e,t}}class gu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const yu=new du(Nl.comparator);function vu(){return yu}const wu=new du(Nl.comparator);function bu(){return wu}const Iu=new du(Nl.comparator);function Eu(){return Iu}const _u=new mu(Nl.comparator);function ku(){let e=_u;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Tu=new mu(il);function Su(){return Tu}class Au{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Au(ll.min(),n,Su(),vu(),ku())}}class Nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nu(yl.EMPTY_BYTE_STRING,t,ku(),ku(),ku())}}class Cu{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class xu{constructor(e,t){this.targetId=e,this.O=t}}class Ou{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pu{constructor(){this.F=0,this.M=Lu(),this.L=yl.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=ku(),t=ku(),n=ku();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qa()}}),new Nu(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Lu()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Du{constructor(e){this.tt=e,this.et=new Map,this.nt=vu(),this.st=Ru(),this.it=new mu(il)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:qa()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Jl(e))if(0===n){const n=new Nl(e.path);this.ct(t,n,Kl.newNoDocument(n,ll.min()))}else Ha(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Jl(i.target)){const t=new Nl(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.ct(r,t,Kl.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=ku();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Au(e,t,this.it,this.nt,n);return this.nt=vu(),this.st=Ru(),this.it=new mu(il),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Pu,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new mu(il),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||ja("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Pu),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Ru(){return new du(Nl.comparator)}function Lu(){return new du(Nl.comparator)}const Mu={asc:"ASCENDING",desc:"DESCENDING"},Fu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Uu{constructor(e,t){this.databaseId=e,this.D=t}}function ju(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vu(e,t){return e.D?t.toBase64():t.toUint8Array()}function Bu(e,t){return ju(e,t.toTimestamp())}function zu(e){return Ha(!!e),ll.fromTimestamp(function(e){const t=wl(e);return new al(t.seconds,t.nanos)}(e))}function qu(e,t){return function(e){return new fl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hu(e){const t=fl.fromString(e);return Ha(ph(t)),t}function Ku(e,t){return qu(e.databaseId,t.path)}function Wu(e,t){const n=Hu(t);if(n.get(1)!==e.databaseId.projectId)throw new Qa(Wa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qa(Wa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nl(Ju(n))}function Qu(e,t){return qu(e.databaseId,t)}function Gu(e){const t=Hu(e);return 4===t.length?fl.emptyPath():Ju(t)}function Yu(e){return new fl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ju(e){return Ha(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xu(e,t,n){return{name:Ku(e,t),fields:n.value.mapValue.fields}}function Zu(e,t,n){const r=Wu(e,t.name),i=zu(t.updateTime),s=new ql({mapValue:{fields:t.fields}}),o=Kl.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $u(e,t){let n;if(t instanceof eu)n={update:Xu(e,t.key,t.value)};else if(t instanceof su)n={delete:Ku(e,t.key)};else if(t instanceof tu)n={update:Xu(e,t.key,t.data),updateMask:fh(t.fieldMask)};else{if(!(t instanceof ou))return qa();n={verify:Ku(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bc)return{fieldPath:t.field.canonicalString(),increment:n.C};throw qa()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qa()}(e,t.precondition)),n}function eh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Wc.updateTime(zu(e.updateTime)):void 0!==e.exists?Wc.exists(e.exists):Wc.none()}(t.currentDocument):Wc.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)Ha("REQUEST_TIME"===t.setToServerValue),n=new Mc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Fc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new jc(e)}else"increment"in t?n=new Bc(e,t.increment):qa();const r=ml.fromServerFormat(t.fieldPath);return new Hc(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Wu(e,t.update.name),s=new ql({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new gl(t.map(e=>ml.fromServerFormat(e)))}(t.updateMask);return new tu(i,s,e,n,r)}return new eu(i,s,n,r)}if(t.delete){const r=Wu(e,t.delete);return new su(r,n)}if(t.verify){const r=Wu(e,t.verify);return new ou(r,n)}return qa()}function th(e,t){return{documents:[Qu(e,t.path)]}}function nh(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Vl(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NAN"}};if(jl(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vl(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NAN"}};if(jl(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(e.field),op:lh(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ch(e.field),direction:ah(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Tl(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=sh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=sh(t.endAt)),n}function rh(e){let t=Gu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ha(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=ih(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new lc(uh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=oh(n.startAt));let c=null;return n.endAt&&(c=oh(n.endAt)),fc(t,i,o,s,a,"F",l,c)}function ih(e){return e?void 0!==e.unaryFilter?[dh(e)]:void 0!==e.fieldFilter?[hh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ih(e)).reduce((e,t)=>e.concat(t)):qa():[]}function sh(e){return{before:e.before,values:e.position}}function oh(e){const t=!!e.before,n=e.values||[];return new oc(n,t)}function ah(e){return Mu[e]}function lh(e){return Fu[e]}function ch(e){return{fieldPath:e.canonicalString()}}function uh(e){return ml.fromServerFormat(e.fieldPath)}function hh(e){return Xl.create(uh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qa()}}(e.fieldFilter.op),e.fieldFilter.value)}function dh(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uh(e.unaryFilter.field);return Xl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=uh(e.unaryFilter.field);return Xl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uh(e.unaryFilter.field);return Xl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uh(e.unaryFilter.field);return Xl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qa()}}function fh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ph(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=yh(t)),t=gh(e.get(n),t);return yh(t)}function gh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function yh(e){return e+"\x01\x01"}function vh(e){const t=e.length;if(Ha(t>=2),2===t)return Ha("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fl.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&qa(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:qa()}s=t+2}return new fl(r)}class wh{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class bh{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}bh.store="owner",bh.key="owner";class Ih{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Ih.store="mutationQueues",Ih.keyPath="userId";class Eh{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Eh.store="mutations",Eh.keyPath="batchId",Eh.userMutationsIndex="userMutationsIndex",Eh.userMutationsKeyPath=["userId","batchId"];class _h{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,mh(t)]}static key(e,t,n){return[e,mh(t),n]}}_h.store="documentMutations",_h.PLACEHOLDER=new _h;class kh{constructor(e,t){this.path=e,this.readTime=t}}class Th{constructor(e,t){this.path=e,this.version=t}}class Sh{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Sh.store="remoteDocuments",Sh.readTimeIndex="readTimeIndex",Sh.readTimeIndexPath="readTime",Sh.collectionReadTimeIndex="collectionReadTimeIndex",Sh.collectionReadTimeIndexPath=["parentPath","readTime"];class Ah{constructor(e){this.byteSize=e}}Ah.store="remoteDocumentGlobal",Ah.key="remoteDocumentGlobalKey";class Nh{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Nh.store="targets",Nh.keyPath="targetId",Nh.queryTargetsIndexName="queryTargetsIndex",Nh.queryTargetsKeyPath=["canonicalId","targetId"];class Ch{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Ch.store="targetDocuments",Ch.keyPath=["targetId","path"],Ch.documentTargetsIndex="documentTargetsIndex",Ch.documentTargetsKeyPath=["path","targetId"];class xh{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}xh.key="targetGlobalKey",xh.store="targetGlobal";class Oh{constructor(e,t){this.collectionId=e,this.parent=t}}Oh.store="collectionParents",Oh.keyPath=["collectionId","parent"];class Ph{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Ph.store="clientMetadata",Ph.keyPath="clientId";class Dh{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Dh.store="bundles",Dh.keyPath="bundleId";class Rh{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Rh.store="namedQueries",Rh.keyPath="name";const Lh=[Ih.store,Eh.store,_h.store,Sh.store,Nh.store,bh.store,xh.store,Ch.store,Ph.store,Ah.store,Oh.store,Dh.store,Rh.store],Mh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Uh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Uh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Uh?t:Uh.resolve(t)}catch(e){return Uh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Uh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Uh.reject(t)}static resolve(e){return new Uh((t,n)=>{t(e)})}static reject(e){return new Uh((t,n)=>{n(e)})}static waitFor(e){return new Uh((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Uh.resolve(!1);for(const n of e)t=t.next(e=>e?Uh.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class jh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Ga,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new zh(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=Qh(t.target.error);this.Et.reject(new zh(e,n))}}static open(e,t,n,r){try{return new jh(t,e.transaction(r,n))}catch(e){throw new zh(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(ja("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Hh(t)}}class Vh{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Vh.Rt(Vt())&&Va("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ja("SimpleDb","Removing database:",e),Kh(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!Wt())return!1;if(Vh.Pt())return!0;const e=Vt(),t=Vh.Rt(e),n=0<t&&t<10,r=Vh.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/facebook-clone-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(ja("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Qa(Wa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Qa(Wa.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new zh(e,r))},r.onupgradeneeded=e=>{ja("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.At.Ct(t,r.transaction,e.oldVersion,this.version).next(()=>{ja("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=jh.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch(e=>(t.abort(e),Uh.reject(e))).toPromise();return s.catch(()=>{}),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(ja("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Bh{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Kh(this.kt.delete())}}class zh extends Qa{constructor(e,t){super(Wa.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function qh(e){return"IndexedDbTransactionError"===e.name}class Hh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ja("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ja("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kh(n)}add(e){return ja("SimpleDb","ADD",this.store.name,e,e),Kh(this.store.add(e))}get(e){return Kh(this.store.get(e)).next(t=>(void 0===t&&(t=null),ja("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ja("SimpleDb","DELETE",this.store.name,e),Kh(this.store.delete(e))}count(){return ja("SimpleDb","COUNT",this.store.name),Kh(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){ja("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Uh((n,r)=>{t.onerror=e=>{const t=Qh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Uh((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Bh(i),o=t(i.primaryKey,i.value,s);if(o instanceof Uh){const e=o.catch(e=>(s.done(),Uh.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Uh.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kh(e){return new Uh((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Qh(e.target.error);n(t)}})}let Wh=!1;function Qh(e){const t=Vh.Rt(Vt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Qa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Wh||(Wh=!0,setTimeout(()=>{throw e},0)),e}}return e}class Gh extends Fh{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Yh(e,t){const n=Ka(e);return Vh.St(n.Qt,t)}class Jh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yc(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ll.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ku())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(e,t)=>Zc(e,t))&&sl(this.baseMutations,e.baseMutations,(e,t)=>Zc(e,t))}}class Xh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ha(e.mutations.length===n.length);let r=Eu();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Xh(e,t,n,r)}}class Zh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ll.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ll.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yl.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Zh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $h{constructor(e){this.Wt=e}}function ed(e,t){if(t.document)return Zu(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Nl.fromSegments(t.noDocument.path),n=sd(t.noDocument.readTime),r=Kl.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Nl.fromSegments(t.unknownDocument.path),n=sd(t.unknownDocument.version);return Kl.newUnknownDocument(e,n)}return qa()}function td(e,t,n){const r=nd(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Ku(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ju(e,t.version.toTimestamp())}}(e.Wt,t),s=t.hasCommittedMutations;return new Sh(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=id(t.version),s=t.hasCommittedMutations;return new Sh(null,new kh(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=id(t.version);return new Sh(new Th(e,n),null,null,!0,r,i)}return qa()}function nd(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rd(e){const t=new al(e[0],e[1]);return ll.fromTimestamp(t)}function id(e){const t=e.toTimestamp();return new wh(t.seconds,t.nanoseconds)}function sd(e){const t=new al(e.seconds,e.nanoseconds);return ll.fromTimestamp(t)}function od(e,t){const n=(t.baseMutations||[]).map(t=>eh(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(t=>eh(e.Wt,t)),i=al.fromMillis(t.localWriteTimeMs);return new Jh(t.batchId,i,n,r)}function ad(e){const t=sd(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?sd(e.lastLimboFreeSnapshotVersion):ll.min();let r;var i;return void 0!==e.query.documents?(Ha(1===(i=e.query).documents.length),r=Ic(pc(Gu(i.documents[0])))):r=function(e){return Ic(rh(e))}(e.query),new Zh(r,e.targetId,0,e.lastListenSequenceNumber,t,n,yl.fromBase64String(e.resumeToken))}function ld(e,t){const n=id(t.snapshotVersion),r=id(t.lastLimboFreeSnapshotVersion);let i;i=Jl(t.target)?th(e.Wt,t.target):nh(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Nh(t.targetId,Gl(t.target),n,s,t.sequenceNumber,r,i)}function cd(e){const t=rh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ec(t,t.limit,"L"):t}class ud{getBundleMetadata(e,t){return hd(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:sd(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return hd(e).put({bundleId:(n=t).id,createTime:id(zu(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return dd(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:cd(t.bundledQuery),readTime:sd(t.readTime)};var t})}saveNamedQuery(e,t){return dd(e).put(function(e){return{name:e.name,readTime:id(zu(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function hd(e){return Yh(e,Dh.store)}function dd(e){return Yh(e,Rh.store)}class fd{constructor(){this.Gt=new pd}addToCollectionParentIndex(e,t){return this.Gt.add(t),Uh.resolve()}getCollectionParents(e,t){return Uh.resolve(this.Gt.getEntries(t))}}class pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mu(fl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mu(fl.comparator)).toArray()}}class md{constructor(){this.zt=new pd}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:mh(r)};return gd(e).put(i)}return Uh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ol(t),""],!1,!0);return gd(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(vh(r.parent))}return n})}}function gd(e){return Yh(e,Oh.store)}const yd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vd(e,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wd(e,t,n){const r=e.store(Eh.store),i=e.store(_h.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{Ha(1===a)}));const c=[];for(const u of n.mutations){const e=_h.key(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Uh.waitFor(s).next(()=>c)}function bd(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qa();t=e.noDocument}return JSON.stringify(t).length}vd.DEFAULT_COLLECTION_PERCENTILE=10,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vd.DEFAULT=new vd(41943040,vd.DEFAULT_COLLECTION_PERCENTILE,vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vd.DISABLED=new vd(-1,0,0);class Id{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Ha(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Id(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _d(e).Kt({index:Eh.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=kd(e),s=_d(e);return s.add({}).next(o=>{Ha("number"==typeof o);const a=new Jh(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>$u(e.Wt,t)),i=n.mutations.map(t=>$u(e.Wt,t));return new Eh(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let u=new mu((e,t)=>il(e.canonicalString(),t.canonicalString()));for(const e of r){const t=_h.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,_h.PLACEHOLDER))}return u.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Uh.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return _d(e).get(t).next(e=>e?(Ha(e.userId===this.userId),od(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Uh.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return _d(e).Kt({index:Eh.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Ha(t.batchId>=n),i=od(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return _d(e).Kt({index:Eh.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _d(e).Lt(Eh.userMutationsIndex,t).next(e=>e.map(e=>od(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=_h.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return kd(e).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,c=vh(a);if(o===this.userId&&t.path.isEqual(c))return _d(e).get(l).next(e=>{if(!e)throw qa();Ha(e.userId===this.userId),i.push(od(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mu(il);const r=[];return t.forEach(t=>{const i=_h.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=kd(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,l=vh(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Uh.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=_h.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new mu(il);return kd(e).Kt({range:s},(e,t,i)=>{const[s,a,l]=e,c=vh(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(_d(e).get(t).next(e=>{if(null===e)throw qa();Ha(e.userId===this.userId),n.push(od(this.N,e))}))}),Uh.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return wd(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Uh.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Uh.resolve();const n=IDBKeyRange.lowerBound(_h.prefixForUser(this.userId)),r=[];return kd(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=vh(e[1]);r.push(t)}else n.done()}).next(()=>{Ha(0===r.length)})})}containsKey(e,t){return Ed(e,this.userId,t)}ee(e){return Td(e).get(this.userId).next(e=>e||new Ih(this.userId,-1,""))}}function Ed(e,t,n){const r=_h.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return kd(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function _d(e){return Yh(e,Eh.store)}function kd(e){return Yh(e,_h.store)}function Td(e){return Yh(e,Ih.store)}class Sd{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Sd(0)}static ie(){return new Sd(-1)}}class Ad{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Sd(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>ll.fromTimestamp(new al(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ae(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nd(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Ha(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Nd(e).Kt((s,o)=>{const a=ad(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Uh.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Nd(e).Kt((e,n)=>{const r=ad(n);t(r)})}re(e){return Cd(e).get(xh.key).next(e=>(Ha(null!==e),e))}oe(e,t){return Cd(e).put(xh.key,t)}ce(e,t){return Nd(e).put(ld(this.N,t))}ae(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Gl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Nd(e).Kt({range:r,index:Nh.queryTargetsIndexName},(e,n,r)=>{const s=ad(n);Yl(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=xd(e);return t.forEach(t=>{const s=mh(t.path);r.push(i.put(new Ch(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Uh.waitFor(r)}removeMatchingKeys(e,t,n){const r=xd(e);return Uh.forEach(t,t=>{const i=mh(t.path);return Uh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=xd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xd(e);let i=ku();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=vh(e[1]),s=new Nl(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=mh(t.path),r=IDBKeyRange.bound([n],[ol(n)],!1,!0);let i=0;return xd(e).Kt({index:Ch.documentTargetsIndex,qt:!0,range:r},(e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}Tt(e,t){return Nd(e).get(t).next(e=>e?ad(e):null)}}function Nd(e){return Yh(e,Nh.store)}function Cd(e){return Yh(e,xh.store)}function xd(e){return Yh(e,Ch.store)}async function Od(e){if(e.code!==Wa.FAILED_PRECONDITION||e.message!==Mh)throw e;ja("LocalStore","Unexpectedly lost primary lease")}function Pd(e,t){let[n,r]=e,[i,s]=t;const o=il(n,i);return 0===o?il(r,s):o}class Dd{constructor(e){this.ue=e,this.buffer=new mu(Pd),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Pd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rd{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;ja("LruGarbageCollector","Garbage collection scheduled in ".concat(t,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){qh(e)?ja("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Od(e)}await this._e(e)})}}class Ld{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Uh.resolve(tl.T);const n=new Dd(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ja("LruGarbageCollector","Garbage collection skipped; disabled"),Uh.resolve(yd)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ja("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),yd):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ja("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ua()<=mn.DEBUG&&ja("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Uh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Md{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ld(e,t)}(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return Fd(e,n)}removeReference(e,t,n){return Fd(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Fd(e,t)}Ie(e,t){return function(e,t){let n=!1;return Td(e).jt(r=>Ed(e,r,t).next(e=>(e&&(n=!0),Uh.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),xd(e).delete([0,mh(s.path)])))});r.push(t)}}).next(()=>Uh.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Fd(e,t)}Ee(e,t){const n=xd(e);let r,i=tl.T;return n.Kt({index:Ch.documentTargetsIndex},(e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==tl.T&&t(new Nl(vh(r)),i),i=l,r=a):i=tl.T}).next(()=>{i!==tl.T&&t(new Nl(vh(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fd(e,t){return xd(e).put(function(e,t){return new Ch(0,mh(e.path),t)}(t,e.currentSequenceNumber))}class Ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){ul(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return hl(this.inner)}}class jd{constructor(){this.changes=new Ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ll.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Kl.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Uh.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vd{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return qd(e).put(Hd(t),n)}removeEntry(e,t){const n=qd(e),r=Hd(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return qd(e).get(Hd(t)).next(e=>this.Re(t,e))}be(e,t){return qd(e).get(Hd(t)).next(e=>({document:this.Re(t,e),size:bd(e)}))}getEntries(e,t){let n=vu();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=vu(),r=new du(Nl.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,bd(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Uh.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return qd(e).Kt({range:r},(e,t,r)=>{const o=Nl.fromSegments(e);for(;s&&Nl.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=vu();const i=t.path.length+1,s={};if(n.isEqual(ll.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=nd(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Sh.collectionReadTimeIndex}return qd(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=ed(this.N,n);t.path.isPrefixOf(o.key.path)?Sc(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Bd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return zd(e).get(Ah.key).next(e=>(Ha(!!e),e))}Ae(e,t){return zd(e).put(Ah.key,t)}Re(e,t){if(t){const e=ed(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(ll.min()))return e}return Kl.newInvalidDocument(e)}}class Bd extends jd{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Ud(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new mu((e,t)=>il(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=td(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=bd(a);n+=l-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=td(this.Se.N,Kl.newNoDocument(i,ll.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Uh.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(e=>{let{documents:t,Ve:n}=e;return n.forEach((e,t)=>{this.De.set(e,t)}),t})}}function zd(e){return Yh(e,Ah.store)}function qd(e){return Yh(e,Sh.store)}function Hd(e){return e.path.toArray()}class Kd{constructor(e){this.N=e}Ct(e,t,n,r){Ha(n<r&&n>=0&&r<=11);const i=new jh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(bh.store)}(e),function(e){e.createObjectStore(Ih.store,{keyPath:Ih.keyPath}),e.createObjectStore(Eh.store,{keyPath:Eh.keyPath,autoIncrement:!0}).createIndex(Eh.userMutationsIndex,Eh.userMutationsKeyPath,{unique:!0}),e.createObjectStore(_h.store)}(e),Wd(e),function(e){e.createObjectStore(Sh.store)}(e));let s=Uh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ch.store),e.deleteObjectStore(Nh.store),e.deleteObjectStore(xh.store)}(e),Wd(e)),s=s.next(()=>function(e){const t=e.store(xh.store),n=new xh(0,0,ll.min().toTimestamp(),0);return t.put(xh.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Eh.store).Lt().next(n=>{e.deleteObjectStore(Eh.store),e.createObjectStore(Eh.store,{keyPath:Eh.keyPath,autoIncrement:!0}).createIndex(Eh.userMutationsIndex,Eh.userMutationsKeyPath,{unique:!0});const r=t.store(Eh.store),i=n.map(e=>r.put(e));return Uh.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Ph.store,{keyPath:Ph.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Ah.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Sh.store);t.createIndex(Sh.readTimeIndex,Sh.readTimeIndexPath,{unique:!1}),t.createIndex(Sh.collectionReadTimeIndex,Sh.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Dh.store,{keyPath:Dh.keyPath})}(e),function(e){e.createObjectStore(Rh.store,{keyPath:Rh.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(Sh.store).Kt((e,n)=>{t+=bd(n)}).next(()=>{const n=new Ah(t);return e.store(Ah.store).put(Ah.key,n)})}Ce(e){const t=e.store(Ih.store),n=e.store(Eh.store);return t.Lt().next(t=>Uh.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Eh.userMutationsIndex,r).next(n=>Uh.forEach(n,n=>{Ha(n.userId===t.userId);const r=od(this.N,n);return wd(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Ch.store),n=e.store(Sh.store);return e.store(xh.store).get(xh.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new fl(n),o=function(e){return[0,mh(e)]}(s);r.push(t.get(o).next(n=>n?Uh.resolve():(n=>t.put(new Ch(0,mh(n),e.highestListenSequenceNumber)))(s)))}).next(()=>Uh.waitFor(r))})}ke(e,t){e.createObjectStore(Oh.store,{keyPath:Oh.keyPath});const n=t.store(Oh.store),r=new pd,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:mh(r)})}};return t.store(Sh.store).Kt({qt:!0},(e,t)=>{const n=new fl(e);return i(n.popLast())}).next(()=>t.store(_h.store).Kt({qt:!0},(e,t)=>{let[n,r,s]=e;const o=vh(r);return i(o.popLast())}))}$e(e){const t=e.store(Nh.store);return t.Kt((e,n)=>{const r=ad(n),i=ld(this.N,r);return t.put(i)})}}function Wd(e){e.createObjectStore(Ch.store,{keyPath:Ch.keyPath}).createIndex(Ch.documentTargetsIndex,Ch.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Nh.store,{keyPath:Nh.keyPath}).createIndex(Nh.queryTargetsIndexName,Nh.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xh.store)}const Qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gd{constructor(e,t,n,r,i,s,o,a,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Gd.bt())throw new Qa(Wa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Md(this,r),this.We=t+"main",this.N=new $h(a),this.Ge=new Vh(this.We,11,new Kd(this.N)),this.ze=new Ad(this.referenceDelegate,this.N),this.Ht=new md,this.He=function(e,t){return new Vd(e,t)}(this.N,this.Ht),this.Je=new ud,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Va("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qa(Wa.FAILED_PRECONDITION,Qd);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new tl(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put(new Ph(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(qh(e))return ja("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ja("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Yd(e).get(bh.key).next(e=>Uh.resolve(this.an(e)))}un(e){return Jd(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Yh(e,Ph.store);return t.Lt().next(e=>{const n=this.fn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Uh.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Uh.resolve(!0):Yd(e).get(bh.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Qa(Wa.FAILED_PRECONDITION,Qd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ja("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[bh.store,Ph.store],e=>{const t=new Gh(e,tl.T);return this.on(t).next(()=>this.un(t))}),this.Ge.close(),this.yn()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Id.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){ja("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.Ge.runTransaction(e,r,Lh,r=>(i=new Gh(r,this.Le?this.Le.next():tl.T),"readwrite-primary"===t?this.sn(i).next(e=>!!e||this.rn(i)).next(t=>{if(!t)throw Va("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Qa(Wa.FAILED_PRECONDITION,Mh);return n(i)}).next(e=>this.cn(i).next(()=>e)):this.Tn(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Tn(e){return Yd(e).get(bh.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Qa(Wa.FAILED_PRECONDITION,Qd)})}cn(e){const t=new bh(this.clientId,this.allowTabSynchronization,Date.now());return Yd(e).put(bh.key,t)}static bt(){return Vh.bt()}on(e){const t=Yd(e);return t.get(bh.key).next(e=>this.an(e)?(ja("IndexedDbPersistence","Releasing primary lease."),t.delete(bh.key)):Uh.resolve())}ln(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Va("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),!zt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return ja("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Va("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Lr){Va("Failed to set zombie client id.",Lr)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Lr){}}dn(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Yd(e){return Yh(e,bh.store)}function Jd(e){return Yh(e,Ph.store)}function Xd(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Zd{constructor(e,t){this.progress=e,this.En=t}}class $d{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):wc(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Nl(t)).next(e=>{let t=bu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=bu();return this.Ht.getCollectionParents(e,r).next(s=>Uh.forEach(s,s=>{const o=function(e,t){return new dc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Kl.newInvalidDocument(n),r=r.insert(n,i)),Jc(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Sc(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=ku();for(const s of t)for(const e of s.mutations)e instanceof tu&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class ef{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=ku(),r=ku();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ef(e,t.fromCache,n,r)}}class tf{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ll.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(mc(t)||gc(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Ua()<=mn.DEBUG&&ja("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tc(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new mu(Ac(e));return t.forEach((t,r)=>{Sc(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Ua()<=mn.DEBUG&&ja("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.On.getDocumentsMatchingQuery(e,t,ll.min())}}class nf{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new du(il),this.qn=new Ud(e=>Gl(e),Yl),this.Kn=ll.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new $d(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function rf(e,t,n,r){return new nf(e,t,n,r)}async function sf(e,t){const n=Ka(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new $d(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=ku();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function of(e){const t=Ka(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function af(e,t,n,r,i){let s=ku();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=vu();return n.forEach((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ll.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):ja("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function lf(e,t){const n=Ka(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function cf(e,t){const n=Ka(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,Uh.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Zh(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}async function uf(e,t,n){const r=Ka(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!qh(e))throw e;ja("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function hf(e,t,n){const r=Ka(e);let i=ll.min(),s=ku();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ka(e),i=r.qn.get(n);return void 0!==i?Uh.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Ic(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:ll.min(),n?s:ku())).next(e=>({documents:e,Gn:s})))}function df(e,t){const n=Ka(e),r=Ka(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function ff(e){const t=Ka(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Ka(e);let i=vu(),s=nd(n);const o=qd(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Sh.readTimeIndex,range:a},(e,t)=>{const n=ed(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:rd(s)}))}(t.jn,e,t.Kn)).then(e=>{let{En:n,readTime:r}=e;return t.Kn=r,n})}async function pf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ku();const r=await cf(e,Ic(cd(t.bundledQuery))),i=Ka(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=zu(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(yl.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})}class mf{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Uh.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:zu(n.createTime)}),Uh.resolve()}getNamedQuery(e,t){return Uh.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:cd(e.bundledQuery),readTime:zu(e.readTime)}}(t)),Uh.resolve()}}class gf{constructor(){this.Zn=new mu(yf.ts),this.es=new mu(yf.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new yf(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new yf(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Nl(new fl([])),n=new yf(t,e),r=new yf(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Nl(new fl([])),n=new yf(t,e),r=new yf(t,e+1);let i=ku();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new yf(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class yf{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Nl.comparator(e.key,t.key)||il(e.ls,t.ls)}static ns(e,t){return il(e.ls,t.ls)||Nl.comparator(e.key,t.key)}}class vf{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new mu(yf.ts)}checkEmpty(e){return Uh.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new Jh(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new yf(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Uh.resolve(s)}lookupMutationBatch(e,t){return Uh.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this._s(n),i=r<0?0:r;return Uh.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return Uh.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Uh.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new yf(t,0),r=new yf(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),Uh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mu(il);return t.forEach(e=>{const t=new yf(e,0),r=new yf(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Uh.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Nl.isDocumentKey(i)||(i=i.child(""));const s=new yf(new Nl(i),0);let o=new mu(il);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Uh.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ha(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Uh.forEach(t.mutations,r=>{const i=new yf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new yf(t,0),r=this.ds.firstAfterOrEqual(n);return Uh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,Uh.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class wf{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new du(Nl.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Uh.resolve(n?n.document.clone():Kl.newInvalidDocument(t))}getEntries(e,t){let n=vu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Kl.newInvalidDocument(e))}),Uh.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=vu();const i=new Nl(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Sc(t,i)&&(r=r.insert(i.key,i.clone()))}return Uh.resolve(r)}Ts(e,t){return Uh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new bf(this)}getSize(e){return Uh.resolve(this.size)}}class bf extends jd{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Uh.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class If{constructor(e){this.persistence=e,this.Es=new Ud(e=>Gl(e),Yl),this.lastRemoteSnapshotVersion=ll.min(),this.highestTargetId=0,this.Is=0,this.As=new gf,this.targetCount=0,this.Rs=Sd.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),Uh.resolve()}getLastRemoteSnapshotVersion(e){return Uh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Uh.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Uh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Uh.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Sd(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Uh.resolve()}updateTargetData(e,t){return this.ce(t),Uh.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Uh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Uh.waitFor(i).next(()=>r)}getTargetCount(e){return Uh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return Uh.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Uh.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Uh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Uh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Uh.resolve(n)}containsKey(e,t){return Uh.resolve(this.As.containsKey(t))}}class Ef{constructor(e,t){this.bs={},this.Le=new tl(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new If(this),this.Ht=new fd,this.He=function(e,t){return new wf(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new $h(t),this.Je=new mf(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new vf(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){ja("MemoryPersistence","Starting transaction:",e);const r=new _f(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Uh.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class _f extends Fh{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Ds=new gf,this.Cs=null}static Ns(e){return new kf(e)}get xs(){if(this.Cs)return this.Cs;throw qa()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Uh.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Uh.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Uh.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uh.forEach(this.xs,n=>{const r=Nl.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Uh.or([()=>Uh.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Tf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Sf(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Af(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Nf{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Qa(r.error.code,r.error.message))),s?new Nf(e,t,r.state,i):(Va("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cf{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Qa(n.error.code,n.error.message))),i?new Cf(e,n.state,r):(Va("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Su();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Al(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new xf(e,i):(Va("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Of{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Of(t.clientId,t.onlineState):(Va("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Pf{constructor(){this.activeTargetIds=Su()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Df{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new du(il),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Tf(this.persistenceKey,this.Ls),this.Qs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Pf),this.Ws=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Hs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const n of e){if(n===this.Ls)continue;const e=this.getItem(Tf(this.persistenceKey,n));if(e){const t=xf.$s(n,e);t&&(this.qs=this.qs.insert(t.clientId,t))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const n of this.Ks)this.Us(n);this.Ks=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Af(this.persistenceKey,e));if(n){const r=Cf.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Af(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ja("SharedClientState","READ",e,t),t}setItem(e,t){ja("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ja("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(ja("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Va("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ai(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ai(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=tl.T;if(null!=e)try{const n=JSON.parse(e);Ha("number"==typeof n),t=n}catch(e){Va("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==tl.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)})}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Nf(this.currentUser,e,t,n),i=Sf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Sf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){const t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}ii(e,t,n){const r=Af(this.persistenceKey,e),i=new Cf(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ci(e);return xf.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nf.$s(new La(i),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Cf.$s(r,t)}Xs(e){return Of.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);ja("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Su();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Rf{constructor(){this.yi=new Pf,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Pf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Lf{Ti(e){}shutdown(){}}class Mf{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){ja("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){ja("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Uf{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class jf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);ja("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(ja("RestConnection","Received: ",e),e),t=>{throw Ba("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){const n=Ff[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Da;o.listenOnce(Na.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Aa.NO_ERROR:const t=o.getResponseJson();ja("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Aa.TIMEOUT:ja("Connection",'RPC "'+e+'" timed out'),s(new Qa(Wa.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const n=o.getStatus();if(ja("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wa).indexOf(t)>=0?t:Wa.UNKNOWN}(e.status);s(new Qa(t,e.message))}else s(new Qa(Wa.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Qa(Wa.UNAVAILABLE,"Connection failed."));break;default:qa()}}finally{ja("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ta(),i=Sa(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Oa({})),this.Ui(s.initMessageHeaders,t),Bt()||Ht()||Vt().indexOf("Electron/")>=0||Kt()||Vt().indexOf("MSAppHost/")>=0||qt()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");ja("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,c=!1;const u=new Uf({vi:e=>{c?ja("Connection","Not sending because WebChannel is closed:",e):(l||(ja("Connection","Opening WebChannel transport."),a.open(),l=!0),ja("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Pa.EventType.OPEN,()=>{c||ja("Connection","WebChannel transport opened.")}),h(a,Pa.EventType.CLOSE,()=>{c||(c=!0,ja("Connection","WebChannel transport closed"),u.$i())}),h(a,Pa.EventType.ERROR,e=>{c||(c=!0,Ba("Connection","WebChannel transport errored:",e),u.$i(new Qa(Wa.UNAVAILABLE,"The operation could not be completed")))}),h(a,Pa.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];Ha(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ja("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=lu[e];if(void 0!==t)return hu(t)}(e),n=i.message;void 0===t&&(t=Wa.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,u.$i(new Qa(t,n)),a.close()}else ja("Connection","WebChannel received:",n),u.Oi(n)}}),h(i,Ca.STAT_EVENT,e=>{e.stat===xa.PROXY?ja("Connection","Detected buffering proxy"):e.stat===xa.NOPROXY&&ja("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function Vf(){return"undefined"!=typeof window?window:null}function Bf(){return"undefined"!=typeof document?document:null}function zf(e){return new Uu(e,!0)}class qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&ja("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Hf{constructor(e,t,n,r,i,s,o){this.Oe=e,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new qf(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}async stop(){this.ur()&&await this.close(0)}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}async _r(){if(this.hr())return this.close(0)}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.gr(),this.yr(),this.ar.cancel(),this.ir++,4!==e?this.ar.reset():t&&t.code===Wa.RESOURCE_EXHAUSTED?(Va(t.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.ar.Yi()):t&&t.code===Wa.UNAUTHENTICATED&&3!==this.state&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.pr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(e=>{this.ir===t&&this.Er(e)},t=>{e(()=>{const e=new Qa(Wa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ir(e)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.Ir(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}lr(){this.state=5,this.ar.Xi(async()=>{this.state=0,this.start()})}Ir(e){return ja("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(ja("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kf extends Hf{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i),this.N=r}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Ha(void 0===t||"string"==typeof t),yl.fromBase64String(t||"")):(Ha(void 0===t||t instanceof Uint8Array),yl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Wa.UNKNOWN:hu(e.code);return new Qa(t,e.message||"")}(o);n=new Ou(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wu(e,r.document.name),s=zu(r.document.updateTime),o=new ql({mapValue:{fields:r.document.fields}}),a=Kl.newFoundDocument(i,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Cu(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wu(e,r.document),s=r.readTime?zu(r.readTime):ll.min(),o=Kl.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wu(e,r.document),s=r.removedTargetIds||[];n=new Cu([],s,i,null)}else{if(!("filter"in t))return qa();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new au(r),s=e.targetId;n=new xu(s,i)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return ll.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ll.min():t.readTime?zu(t.readTime):ll.min()}(e);return this.listener.Rr(t,n)}br(e){const t={};t.database=Yu(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Jl(r)?{documents:th(e,r)}:{query:nh(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vu(e,t.resumeToken):t.snapshotVersion.compareTo(ll.min())>0&&(n.readTime=ju(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qa()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.mr(t)}Pr(e){const t={};t.database=Yu(this.N),t.removeTarget=e,this.mr(t)}}class Wf extends Hf{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Ha(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(e,t){return e&&e.length>0?(Ha(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?zu(e.updateTime):zu(t);return n.isEqual(ll.min())&&(n=zu(t)),new Kc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zu(e.commitTime);return this.listener.Dr(n,t)}return Ha(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Yu(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>$u(this.N,e))};this.mr(t)}}class Qf extends class{}{constructor(e,t,n){super(),this.credentials=e,this.sr=t,this.N=n,this.kr=!1}$r(){if(this.kr)throw new Qa(Wa.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Wa.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Qa(Wa.UNKNOWN,e.toString())})}Ki(e,t,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Wa.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Qa(Wa.UNKNOWN,e.toString())})}terminate(){this.kr=!0}}class Gf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Mr?(Va(t),this.Mr=!1):ja("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Yf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(e=>{n.enqueueAndForget(async()=>{ip(this)&&(ja("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ka(e);t.Wr.add(4),await Xf(t),t.Hr.set("Unknown"),t.Wr.delete(4),await Jf(t)}(this))})}),this.Hr=new Gf(n,r)}}async function Jf(e){if(ip(e))for(const t of e.Gr)await t(!0)}async function Xf(e){for(const t of e.Gr)await t(!1)}function Zf(e,t){const n=Ka(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),rp(n)?np(n):Ip(n).hr()&&ep(n,t))}function $f(e,t){const n=Ka(e),r=Ip(n);n.Qr.delete(t),r.hr()&&tp(n,t),0===n.Qr.size&&(r.hr()?r.wr():ip(n)&&n.Hr.set("Unknown"))}function ep(e,t){e.Jr.Y(t.targetId),Ip(e).br(t)}function tp(e,t){e.Jr.Y(t),Ip(e).Pr(t)}function np(e){e.Jr=new Du({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.Qr.get(t)||null}),Ip(e).start(),e.Hr.Lr()}function rp(e){return ip(e)&&!Ip(e).ur()&&e.Qr.size>0}function ip(e){return 0===Ka(e).Wr.size}function sp(e){e.Jr=void 0}async function op(e){e.Qr.forEach((t,n)=>{ep(e,t)})}async function ap(e,t){sp(e),rp(e)?(e.Hr.qr(t),np(e)):e.Hr.set("Unknown")}async function lp(e,t,n){if(e.Hr.set("Online"),t instanceof Ou&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Qr.delete(r),e.Jr.removeTarget(r))}(e,t)}catch(n){ja("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cp(e,n)}else if(t instanceof Cu?e.Jr.rt(t):t instanceof xu?e.Jr.ft(t):e.Jr.at(t),!n.isEqual(ll.min()))try{const t=await of(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Jr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Qr.get(t);if(!n)return;e.Qr.set(t,n.withResumeToken(yl.EMPTY_BYTE_STRING,n.snapshotVersion)),tp(e,t);const r=new Zh(n.target,t,1,n.sequenceNumber);ep(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ja("RemoteStore","Failed to raise snapshot:",t),await cp(e,t)}}async function cp(e,t,n){if(!qh(t))throw t;e.Wr.add(1),await Xf(e),e.Hr.set("Offline"),n||(n=()=>of(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ja("RemoteStore","Retrying IndexedDB access"),await n(),e.Wr.delete(1),await Jf(e)})}function up(e,t){return t().catch(n=>cp(e,n,t))}async function hp(e){const t=Ka(e),n=Ep(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;dp(t);)try{const e=await lf(t.localStore,r);if(null===e){0===t.jr.length&&n.wr();break}r=e.batchId,fp(t,e)}catch(e){await cp(t,e)}pp(t)&&mp(t)}function dp(e){return ip(e)&&e.jr.length<10}function fp(e,t){e.jr.push(t);const n=Ep(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function pp(e){return ip(e)&&!Ep(e).ur()&&e.jr.length>0}function mp(e){Ep(e).start()}async function gp(e){Ep(e).Nr()}async function yp(e){const t=Ep(e);for(const n of e.jr)t.Sr(n.mutations)}async function vp(e,t,n){const r=e.jr.shift(),i=Xh.from(r,t,n);await up(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hp(e)}async function wp(e,t){t&&Ep(e).Vr&&await async function(e,t){if(uu(n=t.code)&&n!==Wa.ABORTED){const n=e.jr.shift();Ep(e).dr(),await up(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await hp(e)}var n}(e,t),pp(e)&&mp(e)}async function bp(e,t){const n=Ka(e);t?(n.Wr.delete(2),await Jf(n)):t||(n.Wr.add(2),await Xf(n),n.Hr.set("Unknown"))}function Ip(e){return e.Yr||(e.Yr=function(e,t,n){const r=Ka(e);return r.$r(),new Kf(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:op.bind(null,e),Ci:ap.bind(null,e),Rr:lp.bind(null,e)}),e.Gr.push(async t=>{t?(e.Yr.dr(),rp(e)?np(e):e.Hr.set("Unknown")):(await e.Yr.stop(),sp(e))})),e.Yr}function Ep(e){return e.Xr||(e.Xr=function(e,t,n){const r=Ka(e);return r.$r(),new Wf(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:gp.bind(null,e),Ci:wp.bind(null,e),Cr:yp.bind(null,e),Dr:vp.bind(null,e)}),e.Gr.push(async t=>{t?(e.Xr.dr(),await hp(e)):(await e.Xr.stop(),e.jr.length>0&&(ja("RemoteStore","Stopping write stream with ".concat(e.jr.length," pending writes")),e.jr=[]))})),e.Xr}class _p{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new _p(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qa(Wa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(e,t){if(Va("AsyncQueue","".concat(t,": ").concat(e)),qh(e))return new Qa(Wa.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Nl.comparator(t.key,n.key):(e,t)=>Nl.comparator(e.key,t.key),this.keyedMap=bu(),this.sortedSet=new du(this.comparator)}static emptySet(e){return new Tp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sp{constructor(){this.Zr=new du(Nl.comparator)}track(e){const t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):qa():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ap{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Ap(e,t,Tp.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Np{constructor(){this.no=void 0,this.listeners=[]}}class Cp{constructor(){this.queries=new Ud(e=>kc(e),_c),this.onlineState="Unknown",this.so=new Set}}async function xp(e,t){const n=Ka(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Np),i)try{s.no=await n.onListen(r)}catch(e){const n=kp(e,"Initialization of query '".concat(Tc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.io(n.onlineState),s.no&&t.ro(s.no)&&Rp(n)}async function Op(e,t){const n=Ka(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pp(e,t){const n=Ka(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.ro(i)&&(r=!0);t.no=i}}r&&Rp(n)}function Dp(e,t,n){const r=Ka(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Rp(e){e.so.forEach(e=>{e.next()})}class Lp{constructor(e,t,n){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ap(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.fo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}uo(e){if(e.docChanges.length>0)return!0;const t=this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}lo(e){e=Ap.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class Mp{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class Fp{constructor(e){this.N=e}zn(e){return Wu(this.N,e)}Hn(e){return e.metadata.exists?Zu(this.N,e.document,!1):Kl.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return zu(e)}}class Up{constructor(e,t,n){this._o=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=jp(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,n=new Fp(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ku()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ka(e);let s=ku(),o=vu(),a=Eu();for(const u of n){const e=t.zn(u.metadata.name);u.document&&(s=s.add(e)),o=o.insert(e,t.Hn(u)),a=a.insert(e,t.Jn(u.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),c=await cf(i,function(e){return Ic(pc(fl.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>af(e,l,o,ll.min(),a).next(t=>(l.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))}(this.localStore,new Fp(this.N),this.documents,this._o.id),t=this.yo(this.documents);for(const n of this.queries)await pf(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new Zd(Object.assign({},this.progress),e)}}function jp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Vp{constructor(e){this.key=e}}class Bp{constructor(e){this.key=e}}class zp{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=ku(),this.mutatedKeys=ku(),this.Io=Ac(e),this.Ao=new Tp(this.Io)}get Ro(){return this.po}bo(e,t){const n=t?t.Po:new Sp,r=t?t.Ao:this.Ao;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=mc(this.query)&&r.size===this.query.limit?r.last():null,l=gc(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Sc(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.vo(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Io(u,a)>0||l&&this.Io(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),mc(this.query)||gc(this.query))for(;s.size>this.query.limit;){const e=mc(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const i=e.Po.eo();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qa()}};return n(e)-n(t)}(e.type,t.type)||this.Io(e.doc,t.doc)),this.Vo(n);const s=t?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new Ap(this.query,e.Ao,r,i,e.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Sp,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(e=>this.po=this.po.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=ku(),this.Ao.forEach(e=>{this.Co(e.key)&&(this.Eo=this.Eo.add(e.key))});const t=[];return e.forEach(e=>{this.Eo.has(e)||t.push(new Bp(e))}),this.Eo.forEach(n=>{e.has(n)||t.push(new Vp(n))}),t}No(e){this.po=e.Gn,this.Eo=ku();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Ap.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class qp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Hp{constructor(e){this.key=e,this.ko=!1}}class Kp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new Ud(e=>kc(e),_c),this.Fo=new Map,this.Mo=new Set,this.Lo=new du(Nl.comparator),this.Bo=new Map,this.Uo=new gf,this.qo={},this.Ko=new Map,this.jo=Sd.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}async function Wp(e,t){const n=vm(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await cf(n.localStore,Ic(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Qp(n,t,r,"current"===s),n.isPrimaryClient&&Zf(n.remoteStore,e)}return i}async function Qp(e,t,n,r){e.Wo=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Ln&&(i=await hf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.bo(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return im(e,t.targetId,o.Do),o.snapshot}(e,t,n,r);const i=await hf(e.localStore,t,!0),s=new zp(t,i.Gn),o=s.bo(i.documents),a=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);im(e,n,l.Do);const c=new qp(t,n,s);return e.Oo.set(t,c),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),l.snapshot}async function Gp(e,t){const n=Ka(e),r=n.Oo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(e=>!_c(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await uf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$f(n.remoteStore,r.targetId),nm(n,r.targetId)}).catch(Od)):(nm(n,r.targetId),await uf(n.localStore,r.targetId,!0))}async function Yp(e,t){const n=Ka(e);try{const e=await function(e,t){const n=Ka(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const l=t.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return Ha(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=vu();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(af(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(ll.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Uh.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Bo.get(t);r&&(Ha(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ko=!0:e.modifiedDocuments.size>0?Ha(r.ko):e.removedDocuments.size>0&&(Ha(r.ko),r.ko=!1))}),await am(n,e,t)}catch(e){await Od(e)}}function Jp(e,t,n){const r=Ka(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.io(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ka(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.io(t)&&(r=!0)}),r&&Rp(n)}(r.eventManager,t),e.length&&r.$o.Rr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xp(e,t,n){const r=Ka(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Bo.get(t),s=i&&i.key;if(s){let e=new du(Nl.comparator);e=e.insert(s,Kl.newNoDocument(s,ll.min()));const n=ku().add(s),i=new Au(ll.min(),new Map,new mu(il),e,n);await Yp(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(t),om(r)}else await uf(r.localStore,t,!1).then(()=>nm(r,t,n)).catch(Od)}async function Zp(e,t){const n=Ka(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ka(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Uh.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Ha(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(n.localStore,t);tm(n,r,null),em(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await am(n,e)}catch(e){await Od(e)}}async function $p(e,t,n){const r=Ka(e);try{const e=await function(e,t){const n=Ka(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Ha(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);tm(r,t,n),em(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await am(r,e)}catch(n){await Od(n)}}function em(e,t){(e.Ko.get(t)||[]).forEach(e=>{e.resolve()}),e.Ko.delete(t)}function tm(e,t,n){const r=Ka(e);let i=r.qo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Oo.delete(r),n&&e.$o.Go(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach(t=>{e.Uo.containsKey(t)||rm(e,t)})}function rm(e,t){e.Mo.delete(t.path.canonicalString());const n=e.Lo.get(t);null!==n&&($f(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),om(e))}function im(e,t,n){for(const r of n)r instanceof Vp?(e.Uo.addReference(r.key,t),sm(e,r)):r instanceof Bp?(ja("SyncEngine","Document no longer in limbo: "+r.key),e.Uo.removeReference(r.key,t),e.Uo.containsKey(r.key)||rm(e,r.key)):qa()}function sm(e,t){const n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(ja("SyncEngine","New document in limbo: "+n),e.Mo.add(r),om(e))}function om(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){const t=e.Mo.values().next().value;e.Mo.delete(t);const n=new Nl(fl.fromString(t)),r=e.jo.next();e.Bo.set(r,new Hp(n)),e.Lo=e.Lo.insert(n,r),Zf(e.remoteStore,new Zh(Ic(pc(n.path)),r,2,tl.T))}}async function am(e,t,n){const r=Ka(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Wo(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=ef.kn(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.$o.Rr(i),await async function(e,t){const n=Ka(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Uh.forEach(t,t=>Uh.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Uh.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!qh(e))throw e;ja("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(e,i)}}}(r.localStore,s))}async function lm(e,t){const n=Ka(e);if(!n.currentUser.isEqual(t)){ja("SyncEngine","User change. New user:",t.toKey());const e=await sf(n.localStore,t);n.currentUser=t,function(e){e.Ko.forEach(e=>{e.forEach(e=>{e.reject(new Qa(Wa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ko.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await am(n,e.Wn)}}function cm(e,t){const n=Ka(e),r=n.Bo.get(t);if(r&&r.ko)return ku().add(r.key);{let e=ku();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Ro)}return e}}async function um(e,t){const n=Ka(e),r=await hf(n.localStore,t.query,!0),i=t.view.No(r);return n.isPrimaryClient&&im(n,t.targetId,i.Do),i}async function hm(e){const t=Ka(e);return ff(t.localStore).then(e=>am(t,e))}async function dm(e,t,n,r){const i=Ka(e),s=await function(e,t){const n=Ka(e),r=Ka(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Uh.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?await hp(i.remoteStore):"acknowledged"===n||"rejected"===n?(tm(i,t,r||null),em(i,t),function(e,t){Ka(Ka(e).In).te(t)}(i.localStore,t)):qa(),await am(i,s)):ja("SyncEngine","Cannot apply mutation batch with id: "+t)}async function fm(e,t,n){const r=Ka(e),i=[],s=[];for(const o of t){let e;const t=r.Fo.get(o);if(t&&0!==t.length){e=await cf(r.localStore,Ic(t[0]));for(const e of t){const t=r.Oo.get(e),n=await um(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await df(r.localStore,o);e=await cf(r.localStore,t),await Qp(r,pm(t),o,!1)}i.push(e)}return r.$o.Rr(s),i}function pm(e){return fc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mm(e){const t=Ka(e);return Ka(Ka(t.localStore).persistence).pn()}async function gm(e,t,n,r){const i=Ka(e);if(i.Qo)ja("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=await ff(i.localStore),r=Au.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await am(i,e,r);break}case"rejected":await uf(i.localStore,t,!0),nm(i,t,r);break;default:qa()}}async function ym(e,t,n){const r=vm(e);if(r.Qo){for(const e of t){if(r.Fo.has(e)){ja("SyncEngine","Adding an already active target "+e);continue}const t=await df(r.localStore,e),n=await cf(r.localStore,t);await Qp(r,pm(t),n.targetId,!1),Zf(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&await uf(r.localStore,e,!1).then(()=>{$f(r.remoteStore,e),nm(r,e)}).catch(Od)}}function vm(e){const t=Ka(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xp.bind(null,t),t.$o.Rr=Pp.bind(null,t.eventManager),t.$o.Go=Dp.bind(null,t.eventManager),t}function wm(e){const t=Ka(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$p.bind(null,t),t}class bm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Ho(e),this.persistence=this.Jo(e),await this.persistence.start(),this.gcScheduler=this.Yo(e),this.localStore=this.Xo(e)}Yo(e){return null}Xo(e){return rf(this.persistence,new tf,e.initialUser,this.N)}Jo(e){return new Ef(kf.Ns,this.N)}Ho(e){return new Rf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Im extends bm{constructor(e,t,n){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Ka(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=qd(e);let n=ll.min();return t.Kt({index:Sh.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=rd(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})}(this.localStore),await this.Zo.initialize(this,e),await wm(this.Zo.syncEngine),await hp(this.Zo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Xo(e){return rf(this.persistence,new tf,e.initialUser,this.N)}Yo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Rd(t,e.asyncQueue)}Jo(e){const t=Xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vd.withCacheSize(this.cacheSizeBytes):vd.DEFAULT;return new Gd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vf(),Bf(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new Rf}}class Em extends Im{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Zo.syncEngine;this.sharedClientState instanceof Df&&(this.sharedClientState.syncEngine={_i:dm.bind(null,t),mi:gm.bind(null,t),gi:ym.bind(null,t),pn:mm.bind(null,t),wi:hm.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn(async e=>{await async function(e,t){const n=Ka(e);if(vm(n),wm(n),!0===t&&!0!==n.Qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await fm(n,e.toArray());n.Qo=!0,await bp(n.remoteStore,!0);for(const r of t)Zf(n.remoteStore,r)}else if(!1===t&&!1!==n.Qo){const e=[];let t=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(nm(n,i),uf(n.localStore,i,!0))),$f(n.remoteStore,i)}),await t,await fm(n,e),function(e){const t=Ka(e);t.Bo.forEach((e,n)=>{$f(t.remoteStore,n)}),t.Uo.us(),t.Bo=new Map,t.Lo=new du(Nl.comparator)}(n),n.Qo=!1,await bp(n.remoteStore,!1)}}(this.Zo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Ho(e){const t=Vf();if(!Df.bt(t))throw new Qa(Wa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Df(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lm.bind(null,this.syncEngine),await bp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cp}createDatastore(e){const t=zf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new jf(r));var r;return function(e,t,n){return new Qf(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Jp(this.syncEngine,e,0),s=Mf.bt()?new Mf:new Lf,new Yf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Kp(e,t,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ka(e);ja("RemoteStore","RemoteStore shutting down."),t.Wr.add(5),await Xf(t),t.zr.shutdown(),t.Hr.set("Unknown")}(this.remoteStore)}}function km(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Sm{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Ga,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(e=>{e&&e.wo()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},e=>this.metadata.reject(e))}close(){return this.nc.cancel()}async getMetadata(){return this.metadata.promise}async zo(){return await this.getMetadata(),this.ic()}async ic(){const e=await this.rc();if(null===e)return null;const t=this.sc.decode(e),n=Number(t);isNaN(n)&&this.oc("length string (".concat(t,") is not valid number"));const r=await this.cc(n);return new Mp(JSON.parse(r),e.length+n)}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async rc(){for(;this.ac()<0&&!await this.uc(););if(0===this.buffer.length)return null;const e=this.ac();e<0&&this.oc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async cc(e){for(;this.buffer.length<e;)await this.uc()&&this.oc("Reached the end of bundle when more is expected.");const t=this.sc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}oc(e){throw this.nc.cancel(),new Error("Invalid bundle format: ".concat(e))}async uc(){const e=await this.nc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Am{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qa(Wa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ka(e),r=Yu(n.N)+"/documents",i={documents:t.map(e=>Ku(n.N,e))},s=await n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Ha(!!t.found),t.found.name,t.found.updateTime;const n=Wu(e,t.found.name),r=zu(t.found.updateTime),i=new ql({mapValue:{fields:t.found.fields}});return Kl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ha(!!t.missing),Ha(!!t.readTime);const n=Wu(e,t.missing),r=zu(t.readTime);return Kl.newNoDocument(n,r)}(e,t):qa()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Ha(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new su(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Nl.fromPath(t);this.mutations.push(new ou(n,this.precondition(n)))}),await async function(e,t){const n=Ka(e),r=Yu(n.N)+"/documents",i={writes:t.map(e=>$u(n.N,e))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qa();t=ll.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Qa(Wa.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wc.updateTime(t):Wc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ll.min()))throw new Qa(Wa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wc.updateTime(t)}return Wc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nm{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new qf(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){this.ar.Xi(async()=>{const e=new Am(this.datastore),t=this.fc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.dc(e)}))}).catch(e=>{this.dc(e)})})}fc(e){try{const t=this.updateFunction(e);return!Tl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!uu(t)}return!1}}class Cm{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=La.UNAUTHENTICATED,this.clientId=rl.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,async e=>{ja("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qa(Wa.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=kp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xm(e,t){e.asyncQueue.verifyOperationInProgress(),ja("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await sf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function Om(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Pm(e);ja("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=Ka(e);n.asyncQueue.verifyOperationInProgress(),ja("RemoteStore","RemoteStore received new credentials");const r=ip(n);n.Wr.add(3),await Xf(n),r&&n.Hr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Wr.delete(3),await Jf(n)}(t.remoteStore,e)),e.onlineComponents=t}async function Pm(e){return e.offlineComponents||(ja("FirestoreClient","Using default OfflineComponentProvider"),await xm(e,new bm)),e.offlineComponents}async function Dm(e){return e.onlineComponents||(ja("FirestoreClient","Using default OnlineComponentProvider"),await Om(e,new _m)),e.onlineComponents}function Rm(e){return Pm(e).then(e=>e.persistence)}function Lm(e){return Pm(e).then(e=>e.localStore)}function Mm(e){return Dm(e).then(e=>e.remoteStore)}function Fm(e){return Dm(e).then(e=>e.syncEngine)}async function Um(e){const t=await Dm(e),n=t.eventManager;return n.onListen=Wp.bind(null,t.syncEngine),n.onUnlisten=Gp.bind(null,t.syncEngine),n}function jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ga;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Tm({next:s=>{t.enqueueAndForget(()=>Op(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Qa(Wa.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Qa(Wa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Lp(pc(n.path),s,{includeMetadataChanges:!0,fo:!0});return xp(e,o)}(await Um(e),e.asyncQueue,t,n,r)),r.promise}function Vm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ga;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Tm({next:n=>{t.enqueueAndForget(()=>Op(e,o)),n.fromCache&&"server"===r.source?i.reject(new Qa(Wa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Lp(n,s,{includeMetadataChanges:!0,fo:!0});return xp(e,o)}(await Um(e),e.asyncQueue,t,n,r)),r.promise}function Bm(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Sm(e,t)}(function(e,t){if(e instanceof Uint8Array)return km(e,t);if(e instanceof ArrayBuffer)return km(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,zf(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Ka(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ka(e),r=zu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(jp(r));const i=new Up(r,e.localStore,t.N);let s=await t.zo();for(;s;){const e=await i.mo(s);e&&n._updateProgress(e),s=await t.zo()}const o=await i.complete();await am(e,o.En,void 0),await function(e,t){const n=Ka(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Ba("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await Fm(e),i,r)})}class zm{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class qm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qm&&e.projectId===this.projectId&&e.database===this.database}}const Hm=new Map;function Km(e,t,n){if(!n)throw new Qa(Wa.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Wm(e,t,n,r){if(!0===t&&!0===r)throw new Qa(Wa.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Qm(e){if(!Nl.isDocumentKey(e))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Gm(e){if(Nl.isDocumentKey(e))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ym(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":qa()}function Jm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qa(Wa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ym(e);throw new Qa(Wa.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Xm(e,t){if(t<=0)throw new Qa(Wa.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Zm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qa(Wa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qa(Wa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Wm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zm({}),this._settingsFrozen=!1,e instanceof qm?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qa(Wa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qm(e.options.projectId)}(e))}get app(){if(!this._app)throw new Qa(Wa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qa(Wa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zm(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ja;switch(e.type){case"gapi":const t=e.client;return Ha(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new el(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qa(Wa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hm.get(e);t&&(ja("ComponentProvider","Removing Datastore"),Hm.delete(e),t.terminate())}(this),Promise.resolve()}}function eg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Jm(e,$m))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ba("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:"".concat(t,":").concat(n),ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=La.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Lt(JSON.stringify({alg:"none",type:"JWT"})),Lt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Qa(Wa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new La(s)}e._credentials=new Xa(new Ya(t,n))}}class tg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tg(this.firestore,e,this._key)}}class ng{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ng(this.firestore,e,this._query)}}class rg extends ng{constructor(e,t,n){super(e,t,pc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tg(this.firestore,null,new Nl(e))}withConverter(e){return new rg(this.firestore,e,this._path)}}function ig(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=cn(e),Km("collection","path",t),e instanceof $m){const n=fl.fromString(t,...r);return Gm(n),new rg(e,null,n)}{if(!(e instanceof tg||e instanceof rg))throw new Qa(Wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fl.fromString(t,...r));return Gm(n),new rg(e.firestore,null,n)}}function sg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=cn(e),1===arguments.length&&(t=rl.I()),Km("doc","path",t),e instanceof $m){const n=fl.fromString(t,...r);return Qm(n),new tg(e,null,new Nl(n))}{if(!(e instanceof tg||e instanceof rg))throw new Qa(Wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fl.fromString(t,...r));return Qm(n),new tg(e.firestore,e instanceof rg?e.converter:null,new Nl(n))}}function og(e,t){return e=cn(e),t=cn(t),(e instanceof tg||e instanceof rg)&&(t instanceof tg||t instanceof rg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ag(e,t){return e=cn(e),t=cn(t),e instanceof ng&&t instanceof ng&&e.firestore===t.firestore&&_c(e._query,t._query)&&e.converter===t.converter}class lg{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new qf(this,"async_queue_retry"),this.Rc=()=>{const e=Bf();e&&ja("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const e=Bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Ga;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}async vc(){if(0!==this.mc.length){try{await this.mc[0](),this.mc.shift(),this.ar.reset()}catch(Lr){if(!qh(Lr))throw Lr;ja("AsyncQueue","Operation failed with retryable error: "+Lr)}this.mc.length>0&&this.ar.Xi(()=>this.vc())}}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(e=>{this.Tc=e,this.Ec=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Va("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Ec=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const r=_p.createAndSchedule(this,e,t,n,e=>this.Vc(e));return this.yc.push(r),r}bc(){this.Tc&&qa()}verifyOperationInProgress(){}async Sc(){let e;do{e=this._c,await e}while(e!==this._c)}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function cg(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class ug{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ga,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hg extends $m{constructor(e,t){super(e,t),this.type="firestore",this._queue=new lg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fg(this),this._firestoreClient.terminate()}}function dg(e){return e._firestoreClient||fg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fg(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new zm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Cm(e._credentials,e._queue,r)}function pg(e,t,n){const r=new Ga;return e.asyncQueue.enqueue(async()=>{try{await xm(e,n),await Om(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Wa.FAILED_PRECONDITION||e.code===Wa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function mg(e){return function(e){const t=new Ga;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Ka(e);ip(n.remoteStore)||ja("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ka(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ko.get(e)||[];r.push(t),n.Ko.set(e,r)}catch(e){const n=kp(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Fm(e),t)),t.promise}(dg(e=Jm(e,hg)))}function gg(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rm(e),n=await Mm(e);return t.setNetworkEnabled(!0),function(e){const t=Ka(e);return t.Wr.delete(0),Jf(t)}(n)})}(dg(e=Jm(e,hg)))}function yg(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rm(e),n=await Mm(e);return t.setNetworkEnabled(!1),async function(e){const t=Ka(e);t.Wr.add(0),await Xf(t),t.Hr.set("Offline")}(n)})}(dg(e=Jm(e,hg)))}function vg(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Ka(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(await Lm(e),t))}(dg(e=Jm(e,hg)),t).then(t=>t?new ng(e,null,t.query):null)}function wg(e){if(e._initialized||e._terminated)throw new Qa(Wa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ml(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ig{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ig(yl.fromBase64String(e))}catch(e){throw new Qa(Wa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ig(yl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Eg{constructor(e){this._methodName=e}}class _g{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qa(Wa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qa(Wa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return il(this._lat,e._lat)||il(this._long,e._long)}}const kg=/^__.*__$/;class Tg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class Sg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ag(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qa()}}class Ng{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}Lc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return Gg(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Ag(this.kc)&&kg.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class Cg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||zf(e)}jc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ng({kc:e,methodName:t,Kc:n,path:ml.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function xg(e){const t=e._freezeSettings(),n=zf(e._databaseId);return new Cg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Og(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.jc(s.merge||s.mergeFields?2:0,t,n,i);Hg("Data must be an object, but it was:",o,r);const a=zg(r,o);let l,c;if(s.merge)l=new gl(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Kg(t,r,n);if(!o.contains(i))throw new Qa(Wa.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Yg(e,i)||e.push(i)}l=new gl(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Tg(new ql(a),l,c)}class Pg extends Eg{_toFieldTransform(e){if(2!==e.kc)throw 1===e.kc?e.Uc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Uc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pg}}function Dg(e,t,n){return new Ng({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Rg extends Eg{_toFieldTransform(e){return new Hc(e.path,new Mc)}isEqual(e){return e instanceof Rg}}class Lg extends Eg{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Dg(this,e,!0),n=this.Qc.map(e=>Bg(e,t)),r=new Fc(n);return new Hc(e.path,r)}isEqual(e){return this===e}}class Mg extends Eg{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Dg(this,e,!0),n=this.Qc.map(e=>Bg(e,t)),r=new jc(n);return new Hc(e.path,r)}isEqual(e){return this===e}}class Fg extends Eg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new Bc(e.N,Oc(e.N,this.Wc));return new Hc(e.path,t)}isEqual(e){return this===e}}function Ug(e,t,n,r){const i=e.jc(1,t,n);Hg("Data must be an object, but it was:",i,r);const s=[],o=ql.empty();ul(r,(e,r)=>{const a=Qg(t,e,n);r=cn(r);const l=i.Lc(a);if(r instanceof Pg)s.push(a);else{const e=Bg(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new gl(s);return new Sg(o,a,i.fieldTransforms)}function jg(e,t,n,r,i,s){const o=e.jc(1,t,n),a=[Kg(t,r,n)],l=[i];if(s.length%2!=0)throw new Qa(Wa.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Kg(t,s[d])),l.push(s[d+1]);const c=[],u=ql.empty();for(let d=a.length-1;d>=0;--d)if(!Yg(c,a[d])){const e=a[d];let t=l[d];t=cn(t);const n=o.Lc(e);if(t instanceof Pg)c.push(e);else{const r=Bg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new gl(c);return new Sg(u,h,o.fieldTransforms)}function Vg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bg(n,e.jc(r?4:3,t))}function Bg(e,t){if(qg(e=cn(e)))return Hg("Unsupported field value:",t,e),zg(e,t);if(e instanceof Eg)return function(e,t){if(!Ag(t.kc))throw t.Uc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Uc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Bg(i,t.Bc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=cn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Oc(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=al.fromDate(e);return{timestampValue:ju(t.N,n)}}if(e instanceof al){const n=new al(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ju(t.N,n)}}if(e instanceof _g)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ig)return{bytesValue:Vu(t.N,e._byteString)};if(e instanceof tg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:qu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: ".concat(Ym(e)))}(e,t)}function zg(e,t){const n={};return hl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ul(e,(e,r)=>{const i=Bg(r,t.Oc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function qg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof al||e instanceof _g||e instanceof Ig||e instanceof tg||e instanceof Eg)}function Hg(e,t,n){if(!qg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ym(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function Kg(e,t,n){if((t=cn(t))instanceof bg)return t._internalPath;if("string"==typeof t)return Qg(e,t);throw Gg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Wg=new RegExp("[~\\*/\\[\\]]");function Qg(e,t,n){if(t.search(Wg)>=0)throw Gg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bg(...t.split("."))._internalPath}catch(r){throw Gg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Gg(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Qa(Wa.INVALID_ARGUMENT,a+e+l)}function Yg(e,t){return e.some(e=>e.isEqual(t))}class Jg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xg extends Jg{data(){return super.data()}}function Zg(e,t){return"string"==typeof t?Qg(e,t):t instanceof bg?t._internalPath:t._delegate._internalPath}class $g{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ey extends Jg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ty(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ty extends ey{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ny{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $g(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ty(this._firestore,this._userDataWriter,n.key,n,new $g(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qa(Wa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new ty(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $g(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ty(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $g(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ry(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ry(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qa()}}function iy(e,t){return e instanceof ey&&t instanceof ey?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ny&&t instanceof ny&&e._firestore===t._firestore&&ag(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function sy(e){if(gc(e)&&0===e.explicitOrderBy.length)throw new Qa(Wa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}function ay(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e=i._apply(e);return e}class ly extends oy{constructor(e,t,n){super(),this.Gc=e,this.zc=t,this.Hc=n,this.type="where"}_apply(e){const t=xg(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on FieldPath.documentId()."));if("in"===s||"not-in"===s){my(o,s);const t=[];for(const n of o)t.push(py(r,e,n));a={arrayValue:{values:t}}}else a=py(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||my(o,s),a=Vg(n,"where",o,"in"===s||"not-in"===s);const l=Xl.create(i,s,a);return function(e,t){if(t.v()){const n=vc(e);if(null!==n&&!n.isEqual(t.field))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));const r=yc(e);null!==r&&gy(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ng(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class cy extends oy{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new lc(t,n);return function(e,t){if(null===yc(e)){const n=vc(e);null!==n&&gy(e,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new ng(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new dc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class uy extends oy{constructor(e,t,n){super(),this.type=e,this.Yc=t,this.Xc=n}_apply(e){return new ng(e.firestore,e.converter,Ec(e._query,this.Yc,this.Xc))}}class hy extends oy{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=fy(e,this.type,this.Zc,this.ta);return new ng(e.firestore,e.converter,function(e,t){return new dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class dy extends oy{constructor(e,t,n){super(),this.type=e,this.Zc=t,this.ta=n}_apply(e){const t=fy(e,this.type,this.Zc,this.ta);return new ng(e.firestore,e.converter,function(e,t){return new dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function fy(e,t,n,r){if(n[0]=cn(n[0]),n[0]instanceof Jg)return function(e,t,n,r,i){if(!r)throw new Qa(Wa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of bc(e))if(o.field.isKeyField())s.push(Ml(t,r.key));else{const e=r.data.field(o.field);if(El(e))throw new Qa(Wa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new oc(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xg(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Qa(Wa.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!wc(e)&&-1!==s.indexOf("/"))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(fl.fromString(s));if(!Nl.isDocumentKey(n))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Nl(n);a.push(Ml(t,i))}else{const e=Vg(n,r,s);a.push(e)}}return new oc(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function py(e,t,n){if("string"==typeof(n=cn(n))){if(""===n)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wc(t)&&-1!==n.indexOf("/"))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(fl.fromString(n));if(!Nl.isDocumentKey(r))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ml(e,new Nl(r))}if(n instanceof tg)return Ml(e,n._key);throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ym(n),"."))}function my(e,t){if(!Array.isArray(e)||0===e.length)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gy(e,t,n){if(!n.isEqual(t))throw new Qa(Wa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class yy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qa()}}convertObject(e,t){const n={};return ul(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new _g(bl(e.latitude),bl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_l(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const t=wl(e);return new al(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fl.fromString(e);Ha(ph(n));const r=new qm(n.get(1),n.get(3)),i=new Nl(n.popFirst(5));return r.isEqual(t)||Va("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wy extends yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ig(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tg(this.firestore,null,t)}}class by{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xg(e)}set(e,t,n){this._verifyNotCommitted();const r=Iy(e,this._firestore),i=vy(r.converter,t,n),s=Og(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Wc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Iy(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=cn(t))||t instanceof bg?jg(this._dataReader,"WriteBatch.update",r._key,t,n,o):Ug(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Wc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Iy(e,this._firestore);return this._mutations=this._mutations.concat(new su(t._key,Wc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qa(Wa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iy(e,t){if((e=cn(e)).firestore!==t)throw new Qa(Wa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ey extends yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ig(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tg(this.firestore,null,t)}}function _y(e){e=Jm(e,tg);const t=Jm(e.firestore,hg),n=dg(t),r=new Ey(t);return function(e,t){const n=new Ga;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ka(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Qa(Wa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=kp(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Lm(e),t,n)),n.promise}(n,e._key).then(n=>new ey(t,r,e._key,n,new $g(null!==n&&n.hasLocalMutations,!0),e.converter))}function ky(e){e=Jm(e,ng);const t=Jm(e.firestore,hg),n=dg(t),r=new Ey(t);return sy(e._query),Vm(n,e._query).then(n=>new ny(t,r,e,n))}function Ty(e){e=Jm(e,ng);const t=Jm(e.firestore,hg),n=dg(t),r=new Ey(t);return function(e,t){const n=new Ga;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await hf(e,t,!0),i=new zp(t,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=kp(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Lm(e),t,n)),n.promise}(n,e._query).then(n=>new ny(t,r,e,n))}function Sy(e){e=Jm(e,ng);const t=Jm(e.firestore,hg),n=dg(t),r=new Ey(t);return Vm(n,e._query,{source:"server"}).then(n=>new ny(t,r,e,n))}function Ay(e,t,n){e=Jm(e,tg);const r=Jm(e.firestore,hg),i=vy(e.converter,t,n);return Oy(r,[Og(xg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wc.none())])}function Ny(e,t,n){e=Jm(e,tg);const r=Jm(e.firestore,hg),i=xg(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=cn(t))||t instanceof bg?jg(i,"updateDoc",e._key,t,n,a):Ug(i,"updateDoc",e._key,t),Oy(r,[s.toMutation(e._key,Wc.exists(!0))])}function Cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=cn(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||cg(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(cg(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof tg)h=Jm(e.firestore,hg),d=pc(e._key.path),u={next:t=>{n[l]&&n[l](Py(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Jm(e,ng);h=Jm(t.firestore,hg),d=t._query;const r=new Ey(h);u={next:e=>{n[l]&&n[l](new ny(h,r,t,e))},error:n[l+1],complete:n[l+2]},sy(e._query)}return function(e,t,n,r){const i=new Tm(r),s=new Lp(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>xp(await Um(e),s)),()=>{i.ec(),e.asyncQueue.enqueueAndForget(async()=>Op(await Um(e),s))}}(dg(h),d,c,u)}function xy(e,t){return function(e,t){const n=new Tm(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Ka(e).so.add(t),t.next()}(await Um(e),n)),()=>{n.ec(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Ka(e).so.delete(t)}(await Um(e),n))}}(dg(e=Jm(e,hg)),cg(t)?t:{next:t})}function Oy(e,t){return function(e,t){const n=new Ga;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=wm(e);try{const e=await function(e,t){const n=Ka(e),r=al.now(),i=t.reduce((e,t)=>e.add(t.key),ku());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Xc(e,s.get(e.key));null!=t&&o.push(new tu(e.key,t,Hl(t.value.mapValue),Wc.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qo[e.currentUser.toKey()];r||(r=new du(il)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(r,e.batchId,n),await am(r,e.changes),await hp(r.remoteStore)}catch(e){const t=kp(e,"Failed to persist write");n.reject(t)}}(await Fm(e),t,n)),n.promise}(dg(e),t)}function Py(e,t,n){const r=n.docs.get(t._key),i=new Ey(e);return new ey(e,i,t._key,r,new $g(n.hasPendingWrites,n.fromCache),t.converter)}class Dy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xg(e)}get(e){const t=Iy(e,this._firestore),n=new wy(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return qa();const r=e[0];if(r.isFoundDocument())return new Jg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Jg(this._firestore,n,t._key,null,t.converter);throw qa()})}set(e,t,n){const r=Iy(e,this._firestore),i=vy(r.converter,t,n),s=Og(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Iy(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=cn(t))||t instanceof bg?jg(this._dataReader,"Transaction.update",r._key,t,n,o):Ug(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Iy(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Iy(e,this._firestore),n=new Ey(this._firestore);return super.get(e).then(e=>new ey(this._firestore,n,t._key,e._document,new $g(!1,!1),t.converter))}}function Ry(e,t){return function(e,t){const n=new Ga;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return Dm(e).then(e=>e.datastore)}(e);new Nm(e.asyncQueue,r,t,n).run()}),n.promise}(dg(e=Jm(e,hg)),n=>t(new Dy(e,n)))}function Ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lg("arrayUnion",t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ma=e}(ar),tr(new un("firestore",(e,n)=>{let{options:r}=n;const i=e.getProvider("app").getImmediate(),s=new hg(i,new Za(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC")),dr(Ra,"3.3.0",e),dr(Ra,"3.3.0","esm2017")}();function My(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Qa("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Fy(){if("undefined"===typeof Uint8Array)throw new Qa("unimplemented","Uint8Arrays are not available in this environment.")}function Uy(){if("undefined"==typeof atob)throw new Qa("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jy{constructor(e){this._delegate=e}static fromBase64String(e){return Uy(),new jy(Ig.fromBase64String(e))}static fromUint8Array(e){return Fy(),new jy(Ig.fromUint8Array(e))}toBase64(){return Uy(),this._delegate.toBase64()}toUint8Array(){return Fy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vy(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class By{enableIndexedDbPersistence(e,t){return function(e,t){wg(e=Jm(e,hg));const n=dg(e),r=e._freezeSettings(),i=new _m;return pg(n,i,new Im(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){wg(e=Jm(e,hg));const t=dg(e),n=e._freezeSettings(),r=new _m;return pg(t,r,new Em(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Qa(Wa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ga;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!Vh.bt())return Promise.resolve();const t=e+"main";await Vh.delete(t)}(Xd(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class zy{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eg(this._delegate,e,t,n)}enableNetwork(){return gg(this._delegate)}disableNetwork(){return yg(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Wm("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mg(this._delegate)}onSnapshotsInSync(e){return xy(this._delegate,e)}get app(){if(!this._appCompat)throw new Qa("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nv(this,ig(this._delegate,e))}catch(t){throw Gy(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qy(this,sg(this._delegate,e))}catch(t){throw Gy(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $y(this,function(e,t){if(e=Jm(e,$m),Km("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qa(Wa.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ng(e,null,function(e){return new dc(fl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Gy(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Ry(this._delegate,t=>e(new Hy(this,t)))}batch(){return dg(this._delegate),new Ky(new by(this._delegate,e=>Oy(this._delegate,e)))}loadBundle(e){return function(e,t){const n=dg(e=Jm(e,hg)),r=new ug;return Bm(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return vg(this._delegate,e).then(e=>e?new $y(this,e):null)}}class qy extends yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new jy(new Ig(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qy.forKey(t,this.firestore,null)}}class Hy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qy(e)}get(e){const t=rv(e);return this._delegate.get(t).then(e=>new Xy(this._firestore,new ey(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=rv(e);return n?(My("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=rv(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=rv(e);return this._delegate.delete(t),this}}class Ky{constructor(e){this._delegate=e}set(e,t,n){const r=rv(e);return n?(My("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=rv(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=rv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wy{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ty(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zy(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Wy.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Wy(e,new qy(e),t),r.set(t,i)),i}}Wy.INSTANCES=new WeakMap;class Qy{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qy(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Qa("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Qy(t,new tg(t._delegate,n,new Nl(e)))}static forKey(e,t,n){return new Qy(t,new tg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nv(this.firestore,ig(this._delegate,e))}catch(t){throw Gy(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=cn(e))instanceof tg&&og(this._delegate,e)}set(e,t){t=My("DocumentReference.set",t);try{return t?Ay(this._delegate,e,t):Ay(this._delegate,e)}catch(n){throw Gy(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ny(this._delegate,e):Ny(this._delegate,e,t,...r)}catch(s){throw Gy(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Oy(Jm(e.firestore,hg),[new su(e._key,Wc.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Yy(t),i=Jy(t,e=>new Xy(this.firestore,new ey(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Cy(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_y(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jm(e,tg);const t=Jm(e.firestore,hg);return jm(dg(t),e._key,{source:"server"}).then(n=>Py(t,e,n))}(this._delegate):function(e){e=Jm(e,tg);const t=Jm(e.firestore,hg);return jm(dg(t),e._key).then(n=>Py(t,e,n))}(this._delegate),t.then(e=>new Xy(this.firestore,new ey(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Qy(this.firestore,e?this._delegate.withConverter(Wy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gy(e,t,n){return e.message=e.message.replace(t,n),e}function Yy(e){for(const t of e)if("object"===typeof t&&!Vy(t))return t;return{}}function Jy(e,t){var n,r;let i;return i=Vy(e[0])?e[0]:Vy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qy(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iy(this._delegate,e._delegate)}}class Zy extends Xy{data(e){const t=this._delegate.data(e);return function(e){e||qa()}(void 0!==t),t}}class $y{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qy(e)}where(e,t,n){try{return new $y(this.firestore,ay(this._delegate,function(e,t,n){const r=t,i=Zg("where",e);return new ly(i,r,n)}(e,t,n)))}catch(r){throw Gy(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $y(this.firestore,ay(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zg("orderBy",e);return new cy(n,t)}(e,t)))}catch(n){throw Gy(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $y(this.firestore,ay(this._delegate,function(e){return Xm("limit",e),new uy("limit",e,"F")}(e)))}catch(t){throw Gy(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $y(this.firestore,ay(this._delegate,function(e){return Xm("limitToLast",e),new uy("limitToLast",e,"L")}(e)))}catch(t){throw Gy(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new $y(this.firestore,ay(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hy("startAt",t,!0)}(...arguments)))}catch(e){throw Gy(e,"startAt()","Query.startAt()")}}startAfter(){try{return new $y(this.firestore,ay(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hy("startAfter",t,!1)}(...arguments)))}catch(e){throw Gy(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new $y(this.firestore,ay(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dy("endBefore",t,!0)}(...arguments)))}catch(e){throw Gy(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new $y(this.firestore,ay(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dy("endAt",t,!1)}(...arguments)))}catch(e){throw Gy(e,"endAt()","Query.endAt()")}}isEqual(e){return ag(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ty(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Sy(this._delegate):ky(this._delegate),t.then(e=>new tv(this.firestore,new ny(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Yy(t),i=Jy(t,e=>new tv(this.firestore,new ny(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Cy(this._delegate,r,i)}withConverter(e){return new $y(this.firestore,e?this._delegate.withConverter(Wy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ev{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $y(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new ev(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Zy(this._firestore,n))})}isEqual(e){return iy(this._delegate,e._delegate)}}class nv extends $y{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qy(this.firestore,e):null}doc(e){try{return new Qy(this.firestore,void 0===e?sg(this._delegate):sg(this._delegate,e))}catch(t){throw Gy(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Jm(e.firestore,hg),r=sg(e),i=vy(e.converter,t);return Oy(n,[Og(xg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wc.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Qy(this.firestore,e))}isEqual(e){return og(this._delegate,e._delegate)}withConverter(e){return new nv(this.firestore,e?this._delegate.withConverter(Wy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rv(e){return Jm(e,tg)}class iv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new bg(...t)}static documentId(){return new iv(ml.keyField().canonicalString())}isEqual(e){return(e=cn(e))instanceof bg&&this._delegate._internalPath.isEqual(e._internalPath)}}class sv{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Rg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new sv(e)}static delete(){const e=new Pg("deleteField");return e._methodName="FieldValue.delete",new sv(e)}static arrayUnion(){const e=Ly(...arguments);return e._methodName="FieldValue.arrayUnion",new sv(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mg("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new sv(e)}static increment(e){const t=function(e){return new Fg("increment",e)}(e);return t._methodName="FieldValue.increment",new sv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ov={Firestore:zy,GeoPoint:_g,Timestamp:al,Blob:jy,Transaction:Hy,WriteBatch:Ky,DocumentReference:Qy,DocumentSnapshot:Xy,Query:$y,QueryDocumentSnapshot:Zy,QuerySnapshot:tv,CollectionReference:nv,FieldPath:iv,FieldValue:sv,setLogLevel:function(e){!function(e){Fa.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var av;(function(e,t){e.INTERNAL.registerComponent(new un("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},ov)))})(av=br,(e,t)=>new zy(e,t,new By)),av.registerVersion("@firebase/firestore-compat","0.1.7");function lv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const cv="facebook.com",uv="github.com",hv="google.com",dv="password",fv="twitter.com",pv="EMAIL_SIGNIN",mv="PASSWORD_RESET",gv="RECOVER_EMAIL",yv="REVERT_SECOND_FACTOR_ADDITION",vv="VERIFY_AND_CHANGE_EMAIL",wv="VERIFY_EMAIL";function bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Iv=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ev=bv,_v=new Jt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kv=new bn("@firebase/auth");function Tv(e){if(kv.logLevel<=mn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kv.error("Auth (".concat(ar,"): ").concat(e),...n)}}function Sv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xv(e,...n)}function Av(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xv(e,...n)}function Nv(e,t,n){const r=Object.assign(Object.assign({},Ev()),{[t]:n});return new Jt("auth","Firebase",r).create(t,{appName:e.name})}function Cv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sv(e,"argument-error"),Nv(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return _v.create(e,...n)}function Ov(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xv(t,...r)}}function Pv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tv(t),new Error(t)}function Dv(e,t){e||Pv(t)}const Rv=new Map;function Lv(e){Dv(e instanceof Function,"Expected a class definition");let t=Rv.get(e);return t?(Dv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rv.set(e,t),t)}function Mv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fv(){return"http:"===Uv()||"https:"===Uv()}function Uv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class jv{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dv(t>e,"Short delay should be less than long delay!"),this.isMobile=Bt()||Ht()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fv()||qt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Vv(e,t){Dv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Bv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Pv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Pv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Pv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qv=new jv(3e4,6e4);function Hv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Kv(e,t,n,r){return Wv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=tn(Object.assign({key:e.config.apiKey},s)).slice(1),a=new(Bv.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),Bv.fetch()(Gv(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Wv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zv),t);try{const t=new Yv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jv(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jv(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Jv(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Nv(e,a,o);Sv(e,a)}}catch(i){if(i instanceof Yt)throw i;Sv(e,"network-request-failed")}}async function Qv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Kv(e,t,n,r,i);return"mfaPendingCredential"in s&&Sv(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Gv(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Yv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Av(this.auth,"timeout")),qv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Av(e,t,r);return i.customData._tokenResponse=n,i}function Xv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Zv(e){return 1e3*Number(e)}function $v(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tv("JWT malformed, contained fewer than 3 sections"),null;try{const e=Mt(n);return e?JSON.parse(e):(Tv("Failed to decode base64 JWT payload"),null)}catch(i){return Tv("Caught error parsing JWT payload as JSON",i),null}}async function ew(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Yt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void(e.code==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class nw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xv(this.lastLoginAt),this.creationTime=Xv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rw(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ew(e,async function(e,t){return Kv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ov(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=lv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class iw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ov(e.idToken,"internal-error"),Ov("undefined"!==typeof e.idToken,"internal-error"),Ov("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=$v(e);return Ov(t,"internal-error"),Ov("undefined"!==typeof t.exp,"internal-error"),Ov("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ov(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Wv(e,{},()=>{const n=tn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Gv(e,r,"/v1/token","key=".concat(i));return Bv.fetch()(s,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new iw;return n&&(Ov("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ov("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ov("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iw,this.toJSON())}_performRefresh(){return Pv("not implemented")}}function sw(e,t){Ov("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ow{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new nw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ew(this,this.stsTokenManager.getToken(this.auth,e));return Ov(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=cn(e),r=await n.getIdToken(t),i=$v(r);Ov(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xv(Zv(i.auth_time)),issuedAtTime:Xv(Zv(i.iat)),expirationTime:Xv(Zv(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=cn(e);await rw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ov(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ow(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ov(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ew(this,async function(e,t){return Kv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:I,stsTokenManager:E}=t;Ov(v&&E,e,"internal-error");const _=iw.fromJSON(this.name,E);Ov("string"===typeof v,e,"internal-error"),sw(u,e.name),sw(h,e.name),Ov("boolean"===typeof w,e,"internal-error"),Ov("boolean"===typeof b,e,"internal-error"),sw(d,e.name),sw(f,e.name),sw(p,e.name),sw(m,e.name),sw(g,e.name),sw(y,e.name);const k=new ow({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(k.providerData=I.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new iw;r.updateFromServerResponse(t);const i=new ow({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rw(i),i}}class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aw.type="NONE";const lw=aw;function cw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class uw{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=cw(this.userKey,r.apiKey,i),this.fullPersistenceKey=cw("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ow._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new uw(Lv(lw),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Lv(lw);const s=cw(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=ow._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(Gm){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(Gm){}})),new uw(i,e,n)):new uw(i,e,n)}}function hw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yw(t))return"Blackberry";if(vw(t))return"Webos";if(fw(t))return"Safari";if((t.includes("chrome/")||pw(t))&&!t.includes("edge/"))return"Chrome";if(gw(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/firefox\//i.test(e)}function fw(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/crios\//i.test(e)}function mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iemobile/i.test(e)}function gw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/android/i.test(e)}function yw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/blackberry/i.test(e)}function vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/webos/i.test(e)}function ww(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/iphone|ipad|ipod/i.test(e)}function bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return ww(e)||gw(e)||vw(e)||yw(e)||/windows phone/i.test(e)||mw(e)}function Iw(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hw(Vt());break;case"Worker":t="".concat(hw(Vt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ar,"/").concat(r)}class Ew{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_v,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lv(t)),this._initializationPromise=this.queue(async()=>{var n,r;this._deleted||(this.persistenceManager=await uw.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(Ov(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rw(e)}catch(t){if(t.code!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?cn(e):null;return t&&Ov(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ov(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Lv(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lv(e)||this._popupRedirectResolver;Ov(t,this,"argument-error"),this.redirectPersistenceManager=await uw.create(this,[Lv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ov(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ov(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function _w(e){return cn(e)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=sn(e=>this.observer=e)}get next(){return Ov(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tw(e,t,n){const r=_w(e);Ov(r._canInitEmulator,r,"emulator-config-failed"),Ov(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Sw(t),{host:o,port:a}=function(e){const t=Sw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Aw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Aw(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Sw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Aw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Nw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pv("not implemented")}_getIdTokenResponse(e){return Pv("not implemented")}_linkToIdToken(e,t){return Pv("not implemented")}_getReauthenticationResolver(e){return Pv("not implemented")}}async function Cw(e,t){return Kv(e,"POST","/v1/accounts:resetPassword",Hv(e,t))}async function xw(e,t){return Kv(e,"POST","/v1/accounts:update",t)}async function Ow(e,t){return Kv(e,"POST","/v1/accounts:sendOobCode",Hv(e,t))}class Pw extends Nw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pw(e,t,"password")}static _fromEmailAndCode(e,t){return new Pw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithPassword",Hv(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithEmailLink",Hv(e,t))}(e,{email:this._email,oobCode:this._password});default:Sv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return xw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithEmailLink",Hv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dw(e,t){return Qv(e,"POST","/v1/accounts:signInWithIdp",Hv(e,t))}class Rw extends Nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=lv(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Rw(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Dw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tn(t)}return e}}const Lw={USER_NOT_FOUND:"user-not-found"};class Mw extends Nw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Mw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Mw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithPhoneNumber",Hv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qv(e,"POST","/v1/accounts:signInWithPhoneNumber",Hv(e,t));if(n.temporaryProof)throw Jv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithPhoneNumber",Hv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Lw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Mw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fw{constructor(e){var t,n,r,i,s,o;const a=nn(rn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ov(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=nn(rn(e)).link,n=t?nn(rn(t)).deep_link_id:null,r=nn(rn(e)).deep_link_id;return(r?nn(rn(r)).link:null)||r||n||t||e}(e);try{return new Fw(t)}catch(Gm){return null}}}class Uw{constructor(){this.providerId=Uw.PROVIDER_ID}static credential(e,t){return Pw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fw.parseLink(t);return Ov(n,"argument-error"),Pw._fromEmailAndCode(e,n.code,n.tenantId)}}Uw.PROVIDER_ID="password",Uw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Uw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vw extends jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bw extends Vw{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ov("providerId"in t&&"signInMethod"in t,"argument-error"),Rw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ov(e.idToken||e.accessToken,"argument-error"),Rw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Bw(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class zw extends Vw{constructor(){super("facebook.com")}static credential(e){return Rw._fromParams({providerId:zw.PROVIDER_ID,signInMethod:zw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zw.credentialFromTaggedObject(e)}static credentialFromError(e){return zw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zw.credential(t.oauthAccessToken)}catch(Gm){return null}}}zw.FACEBOOK_SIGN_IN_METHOD="facebook.com",zw.PROVIDER_ID="facebook.com";class qw extends Vw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rw._fromParams({providerId:qw.PROVIDER_ID,signInMethod:qw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qw.credentialFromTaggedObject(e)}static credentialFromError(e){return qw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qw.credential(n,r)}catch(Gm){return null}}}qw.GOOGLE_SIGN_IN_METHOD="google.com",qw.PROVIDER_ID="google.com";class Hw extends Vw{constructor(){super("github.com")}static credential(e){return Rw._fromParams({providerId:Hw.PROVIDER_ID,signInMethod:Hw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hw.credentialFromTaggedObject(e)}static credentialFromError(e){return Hw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hw.credential(t.oauthAccessToken)}catch(Gm){return null}}}Hw.GITHUB_SIGN_IN_METHOD="github.com",Hw.PROVIDER_ID="github.com";class Kw extends Nw{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Dw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Kw(n,i):null}static _create(e,t){return new Kw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ww extends jw{constructor(e){Ov(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ww.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ww.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Kw.fromJSON(e);return Ov(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Kw._create(r,n)}catch(i){return null}}}class Qw extends Vw{constructor(){super("twitter.com")}static credential(e,t){return Rw._fromParams({providerId:Qw.PROVIDER_ID,signInMethod:Qw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qw.credentialFromTaggedObject(e)}static credentialFromError(e){return Qw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qw.credential(n,r)}catch(Gm){return null}}}async function Gw(e,t){return Qv(e,"POST","/v1/accounts:signUp",Hv(e,t))}Qw.TWITTER_SIGN_IN_METHOD="twitter.com",Qw.PROVIDER_ID="twitter.com";class Yw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ow._fromIdTokenResponse(e,n,r),s=Jw(n);return new Yw({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Jw(n);return new Yw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Jw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Xw(e){var t;const n=_w(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Yw({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Gw(n,{returnSecureToken:!0}),i=await Yw._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class Zw extends Yt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zw(e,t,n,r)}}function $w(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zw._fromErrorAndOperation(e,n,t,r);throw n})}function eb(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function tb(e,t){const n=cn(e);await rb(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Kv(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=eb(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function nb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ew(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yw._forOperation(e,"link",r)}async function rb(e,t,n){await rw(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ov(eb(t.providerData).has(n)===e,t.auth,r)}async function ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ew(e,$w(r,i,t,e),n);Ov(s.idToken,r,"internal-error");const o=$v(s.idToken);Ov(o,r,"internal-error");const{sub:a}=o;return Ov(e.uid===a,r,"user-mismatch"),Yw._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Sv(r,"user-mismatch"),s}}async function sb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await $w(e,r,t),s=await Yw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ob(e,t){return sb(_w(e),t)}async function ab(e,t){const n=cn(e);return await rb(!1,n,t.providerId),nb(n,t)}async function lb(e,t){return ib(cn(e),t)}async function cb(e,t){const n=_w(e),r=await async function(e,t){return Qv(e,"POST","/v1/accounts:signInWithCustomToken",Hv(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Yw._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ub{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?hb._fromServerResponse(e,t):Sv(e,"internal-error")}}class hb extends ub{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new hb(t)}}function db(e,t,n){var r;Ov((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ov("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ov(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ov(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function fb(e,t,n){const r=cn(e),i={requestType:"PASSWORD_RESET",email:t};n&&db(r,i,n),await async function(e,t){return Ow(e,t)}(r,i)}async function pb(e,t){await async function(e,t){return Kv(e,"POST","/v1/accounts:update",Hv(e,t))}(cn(e),{oobCode:t})}async function mb(e,t){const n=cn(e),r=await Cw(n,{oobCode:t}),i=r.requestType;switch(Ov(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ov(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ov(r.mfaInfo,n,"internal-error");default:Ov(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=ub._fromServerResponse(_w(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function gb(e,t,n){const r=cn(e),i={requestType:"EMAIL_SIGNIN",email:t};Ov(n.handleCodeInApp,r,"argument-error"),n&&db(r,i,n),await async function(e,t){return Ow(e,t)}(r,i)}async function yb(e,t){const n={identifier:t,continueUri:Fv()?Mv():"http://localhost"},{signinMethods:r}=await async function(e,t){return Kv(e,"POST","/v1/accounts:createAuthUri",Hv(e,t))}(cn(e),n);return r||[]}async function vb(e,t){const n=cn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&db(n.auth,r,t);const{email:i}=await async function(e,t){return Ow(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function wb(e,t,n){const r=cn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&db(r.auth,i,n);const{email:s}=await async function(e,t){return Ow(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function bb(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=cn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ew(i,async function(e,t){return Kv(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ib(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ew(e,xw(r,i));await e._updateTokensIfNecessary(s,!0)}class Eb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class _b extends Eb{constructor(e,t,n,r){super(e,t,n),this.username=r}}class kb extends Eb{constructor(e,t){super(e,"facebook.com",t)}}class Tb extends _b{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Sb extends Eb{constructor(e,t){super(e,"google.com",t)}}class Ab extends _b{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Nb(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=$v(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Eb(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new kb(s,i);case"github.com":return new Tb(s,i);case"google.com":return new Sb(s,i);case"twitter.com":return new Ab(s,i,e.screenName||null);case"custom":case"anonymous":return new Eb(s,null);default:return new Eb(s,r,i)}}(n)}class Cb{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Cb("enroll",e)}static _fromMfaPendingCredential(e){return new Cb("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Cb._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Cb._fromIdtoken(e.multiFactorSession.idToken)}return null}}class xb{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=_w(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>ub._fromServerResponse(n,e));Ov(r.mfaPendingCredential,n,"internal-error");const s=Cb._fromMfaPendingCredential(r.mfaPendingCredential);return new xb(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Yw._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ov(t.user,n,"internal-error"),Yw._forOperation(t.user,t.operationType,o);default:Sv(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ob{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>ub._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Ob(e)}async getSession(){return Cb._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await ew(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),r=await ew(this.user,function(e,t){return Kv(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Hv(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(i){if(i.code!=="auth/".concat("user-token-expired"))throw i}}}const Pb=new WeakMap;const Db="__sak";class Rb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Db,"1"),this.storage.removeItem(Db),Promise.resolve(!0)):Promise.resolve(!1)}catch(Gm){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Vt();return fw(e)||ww(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Kt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const Mb=Lb;class Fb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fb.type="SESSION";const Ub=Fb;class jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new jb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Vb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jb.receivers=[];class Bb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=Vb("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function zb(){return window}function qb(){return"undefined"!==typeof zb().WorkerGlobalScope&&"function"===typeof zb().importScripts}const Hb="firebaseLocalStorageDb",Kb="firebaseLocalStorage",Wb="fbase_key";class Qb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gb(e,t){return e.transaction([Kb],t?"readwrite":"readonly").objectStore(Kb)}function Yb(){const e=indexedDB.open(Hb,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Kb,{keyPath:Wb})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Kb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Hb);return new Qb(e).toPromise()}(),t(await Yb()))})})}async function Jb(e,t,n){const r=Gb(e,!0).put({[Wb]:t,value:n});return new Qb(r).toPromise()}function Xb(e,t){const n=Gb(e,!0).delete(t);return new Qb(n).toPromise()}class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Yb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jb._getInstance(qb()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Bb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Gm){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yb();return await Jb(e,Db,"1"),await Xb(e,Db),!0}catch(Gm){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Gb(e,!1).get(t),r=await new Qb(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Gb(e,!1).getAll();return new Qb(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zb.type="LOCAL";const $b=Zb;function eI(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Av("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function tI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const nI=1e12;class rI{constructor(e){this.auth=e,this.counter=nI,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new iI(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||nI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||nI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||nI;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class iI{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ov(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sI=tI("rcb"),oI=new jv(3e4,6e4);class aI{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zb().grecaptcha}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ov(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(zb().grecaptcha):new Promise((n,r)=>{const i=zb().setTimeout(()=>{r(Av(e,"network-request-failed"))},oI.get());zb()[sI]=()=>{zb().clearTimeout(i),delete zb()[sI];const s=zb().grecaptcha;if(!s)return void r(Av(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};eI("".concat("https://www.google.com/recaptcha/api.js?","?").concat(tn({onload:sI,render:"explicit",hl:t}))).catch(()=>{clearTimeout(i),r(Av(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!zb().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lI{async load(e){return new rI(e)}clearedOneInstance(){}}const cI="recaptcha",uI={theme:"light",type:"image"};class hI{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},uI),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=cI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_w(n),this.isInvisible="invisible"===this.parameters.size,Ov("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;Ov(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lI:new aI,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ov(!this.parameters.sitekey,this.auth,"argument-error"),Ov(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ov("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=zb()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ov(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ov(Fv()&&!qb(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Kv(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ov(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ov(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Mw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function fI(e,t,n){var r;const i=await n.verify();try{let s;if(Ov("string"===typeof i,e,"argument-error"),Ov(n.type===cI,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ov("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Kv(e,"POST","/v2/accounts/mfaEnrollment:start",Hv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ov("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ov(n,e,"missing-multi-factor-info");const o=await function(e,t){return Kv(e,"POST","/v2/accounts/mfaSignIn:start",Hv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Kv(e,"POST","/v1/accounts:sendVerificationCode",Hv(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class pI{constructor(e){this.providerId=pI.PROVIDER_ID,this.auth=_w(e)}verifyPhoneNumber(e,t){return fI(this.auth,e,cn(t))}static credential(e,t){return Mw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pI.credentialFromTaggedObject(t)}static credentialFromError(e){return pI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Mw._fromTokenResponse(n,r):null}}function mI(e,t){return t?Lv(t):(Ov(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pI.PROVIDER_ID="phone",pI.PHONE_SIGN_IN_METHOD="phone";class gI extends Nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yI(e){return sb(e.auth,new gI(e),e.bypassAuthState)}function vI(e){const{auth:t,user:n}=e;return Ov(n,t,"internal-error"),ib(n,new gI(e),e.bypassAuthState)}async function wI(e){const{auth:t,user:n}=e;return Ov(n,t,"internal-error"),nb(n,new gI(e),e.bypassAuthState)}class bI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:Sv(this.auth,"internal-error")}}resolve(e){Dv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const II=new jv(2e3,1e4);class EI extends bI{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,EI.currentPopupAction&&EI.currentPopupAction.cancel(),EI.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ov(e,this.auth,"internal-error"),e}async onExecution(){Dv(1===this.filter.length,"Popup operations only handle one event");const e=Vb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Av(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Av(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,EI.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Av(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,II.get())};e()}}EI.currentPopupAction=null;const _I=new Map;class kI extends bI{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=_I.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=AI(t),r=SI(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}_I.set(this.auth._key(),e)}return this.bypassAuthState||_I.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function TI(e,t){return SI(e)._set(AI(t),"true")}function SI(e){return Lv(e._redirectPersistence)}function AI(e){return cw("pendingRedirect",e.config.apiKey,e.name)}function NI(e,t,n){return async function(e,t,n){const r=_w(e);Cv(e,t,jw);const i=mI(r,n);return await TI(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function CI(e,t,n){return async function(e,t,n){const r=cn(e);Cv(r.auth,t,jw);const i=mI(r.auth,n);await TI(i,r.auth);const s=await PI(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function xI(e,t,n){return async function(e,t,n){const r=cn(e);Cv(r.auth,t,jw);const i=mI(r.auth,n);await rb(!1,r,t.providerId),await TI(i,r.auth);const s=await PI(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function OI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=_w(e),i=mI(r,t),s=new kI(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function PI(e){const t=Vb("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class DI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!LI(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Av(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(RI(e))}saveEventToCache(e){this.cachedEventUids.add(RI(e)),this.lastProcessedEventTime=Date.now()}}function RI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function LI(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function MI(e){return Kv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const FI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;function jI(e){const t=Mv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!UI.test(n))return!1;if(FI.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const VI=new jv(3e4,6e4);function BI(){const e=zb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let zI=null;function qI(e){return zI=zI||function(e){return new Promise((t,n)=>{var r,i,s;function o(){BI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BI(),n(Av(e,"network-request-failed"))},timeout:VI.get()})}if(null===(i=null===(r=zb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=zb().gapi)||void 0===s?void 0:s.load)){const t=tI("iframefcb");return zb()[t]=()=>{gapi.load?o():n(Av(e,"network-request-failed"))},eI("https://apis.google.com/js/api.js?onload=".concat(t))}o()}}).catch(e=>{throw zI=null,e})}(e),zI}const HI=new jv(5e3,15e3),KI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QI(e){const t=e.config;Ov(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ar},i=WI.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(tn(r).slice(1))}const GI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class YI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function JI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},GI),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();n&&(a=pw(c)?"_blank":n),dw(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ww(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new YI(null);const h=window.open(t||"",a,u);Ov(h,e,"popup-blocked");try{h.focus()}catch(d){}return new YI(h)}const XI="__/auth/handler",ZI="emulator/auth/handler";function $I(e,t,n,r,i,s){Ov(e.config.authDomain,e,"auth-domain-config-required"),Ov(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ar,eventId:i};if(t instanceof jw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Vw){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(XI);return Vv(t,ZI)}(e),"?").concat(tn(a).slice(1))}const eE="webStorageSupport";const tE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=OI}async _openPopup(e,t,n,r){var i;Dv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return JI(e,$I(e,t,n,Mv(),r),Vb())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=$I(e,t,n,Mv(),r),zb().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Dv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await qI(e),n=zb().gapi;return Ov(n,e,"internal-error"),t.open({where:document.body,url:QI(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KI,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Av(e,"network-request-failed"),s=zb().setTimeout(()=>{r(i)},HI.get());function o(){zb().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new DI(e);return t.register("authEvent",t=>{Ov(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eE,{type:eE},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[eE];void 0!==i&&t(!!i),Sv(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await MI(e);for(const n of t)try{if(jI(n))return}catch(Gm){}Sv(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bw()||fw()||ww()}};class nE{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pv("unexpected MultiFactorSessionType")}}}class rE extends nE{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rE(e)}_finalizeEnroll(e,t,n){return function(e,t){return Kv(e,"POST","/v2/accounts/mfaEnrollment:finalize",Hv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Kv(e,"POST","/v2/accounts/mfaSignIn:finalize",Hv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class iE{constructor(){}static assertion(e){return rE._fromCredential(e)}}iE.FACTOR_ID="phone";var sE,oE="@firebase/auth",aE="0.19.3";class lE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ov(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cE(){return window}sE="Browser",tr(new un("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(e=>{Ov(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),Ov(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const t={apiKey:i,authDomain:s,clientPlatform:sE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(sE)},r=new Ew(e,t);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),tr(new un("auth-internal",e=>(e=>new lE(e))(_w(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),dr(oE,aE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sE)),dr(oE,aE,"esm2017");async function uE(e,t,n){var r;const{BuildInfo:i}=cE();Dv(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Dv(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return ww()?o.ibi=i.packageName:gw()?o.apn=i.packageName:Sv(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,$I(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function hE(e){const{cordova:t}=cE();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}class dE extends DI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function fE(e){const t=await gE()._get(yE(e));return t&&await gE()._remove(yE(e)),t}function pE(e,t){var n,r;const i=function(e){const t=vE(e),n=t.link?decodeURIComponent(t.link):void 0,r=vE(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return vE(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=vE(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Av(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function mE(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function gE(){return Lv(Mb)}function yE(e){return cw("authEvent",e.config.apiKey,e.name)}function vE(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return nn(n.join("?"))}const wE=class{constructor(){this._redirectPersistence=Ub,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=OI}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new dE(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Sv(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=cE();Ov("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ov("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ov("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ov("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ov("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),_I.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:mE(),postBody:null,tenantId:e.tenantId,error:Av(e,"no-auth-event")}}(e,n,r);await function(e,t){return gE()._set(yE(e),t)}(e,s);const o=await uE(e,s,t);return async function(e,t,n){const{cordova:r}=cE();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(Av(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),gw()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,i,await hE(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=cE(),n={};ww()?n.iosBundleId=t.packageName:gw()?n.androidPackageName=t.packageName:Sv(e,"operation-not-supported-in-this-environment"),await MI(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=cE(),s=setTimeout(async()=>{await fE(e),t.onEvent(bE())},500),o=async n=>{clearTimeout(s);const r=await fE(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=pE(r,n.url)),t.onEvent(i||bE())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");cE().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function bE(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Av("no-auth-event")}}function IE(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function EE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return!("file:"!==IE()&&"ionic:"!==IE()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return Kt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt();return/Edge\/\d+/.test(e)}(e)}function kE(){try{const e=self.localStorage,t=Vb();if(e)return e.setItem(t,"1"),e.removeItem(t),!_E()||Wt()}catch(e){return TE()&&Wt()}return!1}function TE(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function SE(){return("http:"===IE()||"https:"===IE()||qt()||EE())&&!(Ht()||zt())&&kE()&&!TE()}function AE(){return EE()&&"undefined"!==typeof document}const NE={LOCAL:"local",NONE:"none",SESSION:"session"},CE=Ov,xE="persistence";async function OE(e){await e._initializationPromise;const t=PE(),n=cw(xE,e.config.apiKey,e.name);(null===t||void 0===t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function PE(){return"undefined"!==typeof window?window:null}const DE=Ov;class RE{constructor(){this.browserResolver=Lv(tE),this.cordovaResolver=Lv(wE),this.underlyingResolver=null,this._redirectPersistence=Ub,this._completeRedirectFn=OI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return AE()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return DE(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!AE()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function LE(e){return e.unwrap()}function ME(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){t.resolver=new VE(e,function(e,t){var n;const r=cn(e),i=t;return Ov(t.customData.operationType,r,"argument-error"),Ov(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),xb._fromError(r,i)}(e,t))}else if(r){const e=FE(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function FE(e){const{_tokenResponse:t}=e instanceof Yt?e.customData:e;if(!t)return null;if(!(e instanceof Yt)&&"temporaryProof"in t&&"phoneNumber"in t)return pI.credentialFromResult(e);const n=t.providerId;if(!n||n===dv)return null;let r;switch(n){case hv:r=qw;break;case cv:r=zw;break;case uv:r=Hw;break;case fv:r=Qw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Kw._create(n,o):Rw._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Bw(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Yt?r.credentialFromError(e):r.credentialFromResult(e)}function UE(e,t){return t.catch(t=>{throw t instanceof Yt&&ME(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,FE(r)),additionalUserInfo:Nb(e),user:BE.getOrCreate(n)};var r})}async function jE(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>UE(e,n.confirm(t))}}class VE{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return UE(LE(this.auth),this.resolver.resolveSignIn(e))}}class BE{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=cn(e);return Pb.has(t)||Pb.set(t,Ob._fromUser(t)),Pb.get(t)}(e)}static getOrCreate(e){return BE.USER_MAP.has(e)||BE.USER_MAP.set(e,new BE(e)),BE.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return UE(this.auth,ab(this._delegate,e))}async linkWithPhoneNumber(e,t){return jE(this.auth,async function(e,t,n){const r=cn(e);await rb(!1,r,"phone");const i=await fI(r.auth,t,cn(n));return new dI(i,e=>ab(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return UE(this.auth,async function(e,t,n){const r=cn(e);Cv(r.auth,t,jw);const i=mI(r.auth,n);return new EI(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,RE))}async linkWithRedirect(e){return await OE(_w(this.auth)),xI(this._delegate,e,RE)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return UE(this.auth,lb(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return jE(this.auth,async function(e,t,n){const r=cn(e),i=await fI(r.auth,t,cn(n));return new dI(i,e=>lb(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return UE(this.auth,async function(e,t,n){const r=cn(e);Cv(r.auth,t,jw);const i=mI(r.auth,n);return new EI(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,RE))}async reauthenticateWithRedirect(e){return await OE(_w(this.auth)),CI(this._delegate,e,RE)}sendEmailVerification(e){return vb(this._delegate,e)}async unlink(e){return await tb(this._delegate,e),this}updateEmail(e){return function(e,t){return Ib(cn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ib(cn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await nb(cn(e),t)}(this._delegate,e)}updateProfile(e){return bb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return wb(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}BE.USER_MAP=new WeakMap;const zE=Ov;class qE{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;zE(n,"invalid-api-key",{appName:e.name});let r=[lw];if("undefined"!==typeof window){r=function(e,t){const n=PE();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];const r=cw(xE,e,t);switch(n.sessionStorage.getItem(r)){case NE.NONE:return[lw];case NE.LOCAL:return[$b,Ub];case NE.SESSION:return[Ub];default:return[]}}(n,e.name);for(const e of[$b,Mb,Ub])r.includes(e)||r.push(e)}zE(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?RE:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(Iv),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?BE.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Tw(this._delegate,e,t)}applyActionCode(e){return pb(this._delegate,e)}checkActionCode(e){return mb(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Cw(cn(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return UE(this._delegate,async function(e,t,n){const r=_w(e),i=await Gw(r,{returnSecureToken:!0,email:t,password:n}),s=await Yw._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return yb(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Fw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){zE(SE(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await _w(e)._initializationPromise,OI(e,t,!1)}(this._delegate,RE);return e?UE(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){_w(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=HE(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=HE(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return gb(this._delegate,e,t)}sendPasswordResetEmail(e,t){return fb(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){CE(Object.values(NE).includes(t),e,"invalid-persistence-type"),Ht()?CE(t!==NE.SESSION,e,"unsupported-persistence-type"):zt()?CE(t===NE.NONE,e,"unsupported-persistence-type"):TE()?CE(t===NE.NONE||t===NE.LOCAL&&Wt(),e,"unsupported-persistence-type"):CE(t===NE.NONE||kE(),e,"unsupported-persistence-type")}(this._delegate,e),e){case NE.SESSION:t=Ub;break;case NE.LOCAL:t=await Lv($b)._isAvailable()?$b:Mb;break;case NE.NONE:t=lw;break;default:return Sv("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return UE(this._delegate,Xw(this._delegate))}signInWithCredential(e){return UE(this._delegate,ob(this._delegate,e))}signInWithCustomToken(e){return UE(this._delegate,cb(this._delegate,e))}signInWithEmailAndPassword(e,t){return UE(this._delegate,function(e,t,n){return ob(cn(e),Uw.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return UE(this._delegate,async function(e,t,n){const r=cn(e),i=Uw.credentialWithLink(t,n||Mv());return Ov(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ob(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return jE(this._delegate,async function(e,t,n){const r=_w(e),i=await fI(r,t,cn(n));return new dI(i,e=>ob(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return zE(SE(),this._delegate,"operation-not-supported-in-this-environment"),UE(this._delegate,async function(e,t,n){const r=_w(e);Cv(e,t,jw);const i=mI(r,n);return new EI(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,RE))}async signInWithRedirect(e){return zE(SE(),this._delegate,"operation-not-supported-in-this-environment"),await OE(this._delegate),NI(this._delegate,e,RE)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await mb(cn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function HE(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&BE.getOrCreate(e)),error:t,complete:n}}qE.Persistence=NE;class KE{constructor(){this.providerId="phone",this._delegate=new pI(LE(br.auth()))}static credential(e,t){return pI.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}KE.PHONE_SIGN_IN_METHOD=pI.PHONE_SIGN_IN_METHOD,KE.PROVIDER_ID=pI.PROVIDER_ID;const WE=Ov;class QE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:br.app();var r;WE(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new hI(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new un("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new qE(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pv,PASSWORD_RESET:mv,RECOVER_EMAIL:gv,REVERT_SECOND_FACTOR_ADDITION:yv,VERIFY_AND_CHANGE_EMAIL:vv,VERIFY_EMAIL:wv}},EmailAuthProvider:Uw,FacebookAuthProvider:zw,GithubAuthProvider:Hw,GoogleAuthProvider:qw,OAuthProvider:Bw,SAMLAuthProvider:Ww,PhoneAuthProvider:KE,PhoneMultiFactorGenerator:iE,RecaptchaVerifier:QE,TwitterAuthProvider:Qw,Auth:qE,AuthCredential:Nw,Error:Yt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.3")}(br);var GE=n(171);const YE="@firebase/installations",JE="0.5.4",XE=1e4,ZE="w:".concat(JE),$E="FIS_v2",e_=36e5,t_=new Jt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function n_(e){return e instanceof Yt&&e.code.includes("request-failed")}function r_(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function i_(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function s_(e,t){const n=(await t.json()).error;return t_.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function o_(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a_(e,t){let{refreshToken:n}=t;const r=o_(e);return r.append("Authorization",function(e){return"".concat($E," ").concat(e)}(n)),r}async function l_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function c_(e){return new Promise(t=>{setTimeout(t,e)})}const u_=/^[cdef][\w-]{21}$/;function h_(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return u_.test(t)?t:""}catch(Gm){return""}}function d_(e){return"".concat(e.appName,"!").concat(e.appId)}const f_=new Map;function p_(e,t){const n=d_(e);m_(n,t),function(e,t){const n=y_();n&&n.postMessage({key:e,fid:t});v_()}(n,t)}function m_(e,t){const n=f_.get(e);if(n)for(const r of n)r(t)}let g_=null;function y_(){return!g_&&"BroadcastChannel"in self&&(g_=new BroadcastChannel("[Firebase] FID Change"),g_.onmessage=e=>{m_(e.data.key,e.data.fid)}),g_}function v_(){0===f_.size&&g_&&(g_.close(),g_=null)}const w_="firebase-installations-store";let b_=null;function I_(){return b_||(b_=(0,GE.openDb)("firebase-installations-database",1,e=>{if(0===e.oldVersion)e.createObjectStore(w_)})),b_}async function E_(e,t){const n=d_(e),r=(await I_()).transaction(w_,"readwrite"),i=r.objectStore(w_),s=await i.get(n);return await i.put(t,n),await r.complete,s&&s.fid===t.fid||p_(e,t.fid),t}async function __(e){const t=d_(e),n=(await I_()).transaction(w_,"readwrite");await n.objectStore(w_).delete(t),await n.complete}async function k_(e,t){const n=d_(e),r=(await I_()).transaction(w_,"readwrite"),i=r.objectStore(w_),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||p_(e,o.fid),o}async function T_(e){let t;const n=await k_(e,n=>{const r=function(e){const t=e||{fid:h_(),registrationStatus:0};return N_(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(t_.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{fid:n}=t;const r=r_(e),i=o_(e),s={fid:n,authVersion:$E,appId:e.appId,sdkVersion:ZE},o={method:"POST",headers:i,body:JSON.stringify(s)},a=await l_(()=>fetch(r,o));if(a.ok){const e=await a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:i_(e.authToken)}}throw await s_("Create Installation",a)}(e,t);return E_(e,n)}catch(n){throw n_(n)&&409===n.customData.serverCode?await __(e):await E_(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:S_(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function S_(e){let t=await A_(e);for(;1===t.registrationStatus;)await c_(100),t=await A_(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await T_(e);return n||t}return t}function A_(e){return k_(e,e=>{if(!e)throw t_.create("installation-not-found");return N_(e)})}function N_(e){return 1===(t=e).registrationStatus&&t.registrationTime+XE<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function C_(e,t){let{appConfig:n,platformLoggerProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(r_(e),"/").concat(n,"/authTokens:generate")}(n,t),s=a_(n,t),o=r.getImmediate({optional:!0});o&&s.append("x-firebase-client",o.getPlatformInfoString());const a={installation:{sdkVersion:ZE}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await l_(()=>fetch(i,l));if(c.ok){return i_(await c.json())}throw await s_("Generate Auth Token",c)}async function x_(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await k_(e.appConfig,r=>{if(!P_(r))throw t_.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+e_}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await O_(e.appConfig);for(;1===n.authToken.requestStatus;)await c_(100),n=await O_(e.appConfig);const r=n.authToken;return 0===r.requestStatus?x_(e,t):r}(e,n),r;{if(!navigator.onLine)throw t_.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await C_(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await E_(e.appConfig,r),n}catch(n){if(!n_(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await E_(e.appConfig,n)}else await __(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function O_(e){return k_(e,e=>{if(!P_(e))throw t_.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+XE<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function P_(e){return void 0!==e&&2===e.registrationStatus}async function D_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await T_(e);t&&await t}(n.appConfig);return(await x_(n,t)).token}function R_(e){return t_.create("missing-app-config-values",{valueName:e})}const L_="installations",M_=e=>{const t=nr(e.getProvider("app").getImmediate(),L_).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await T_(t.appConfig);return r?r.catch(console.error):x_(t).catch(console.error),n.fid}(t),getToken:e=>D_(t,e)}};tr(new un(L_,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw R_("App Configuration");if(!e.name)throw R_("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw R_(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:nr(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),tr(new un("installations-internal",M_,"PRIVATE")),dr(YE,JE),dr(YE,JE,"esm2017");const F_="analytics",U_="https://www.googletagmanager.com/gtag/js",j_=new bn("@firebase/analytics");function V_(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function B_(e,t,n,r){return async function(i,s,o){try{"event"===i?await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await V_(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){j_.error(s)}}(e,t,n,s,o):"config"===i?await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await V_(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(a){j_.error(a)}e("config",i,s)}(e,t,n,r,s,o):e("set",s)}catch(a){j_.error(a)}}}const z_=new Jt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const q_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function H_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function K_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw z_.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw z_.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Q_;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),W_({appId:r,apiKey:i,measurementId:s},o,a,t)}async function W_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q_;const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(z_.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(l){if(a)return j_.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(l.message,"]")),{appId:o,measurementId:a};throw l}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:H_(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw z_.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(o),t}catch(l){if(!function(e){if(!(e instanceof Yt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(s.deleteThrottleMetadata(o),a)return j_.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(l.message,"]")),{appId:o,measurementId:a};throw l}const t=503===Number(l.customData.httpStatus)?ln(i,s.intervalMillis,30):ln(i,s.intervalMillis),r={throttleEndTimeMillis:Date.now()+t,backoffCount:i+1};return s.setThrottleMetadata(o,r),j_.debug("Calling attemptFetch again in ".concat(t," millis")),W_(e,r,n,s)}}class Q_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function G_(e,t,n,r,i,s,o){var a;const l=K_(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&j_.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>j_.error(e)),t.push(l);const c=async function(){if(!Wt())return j_.warn(z_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Qt()}catch(e){return j_.warn(z_.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,h]=await Promise.all([l,c]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(U_))return t;return null})()||function(e,t){const n=document.createElement("script");n.src="".concat(U_,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}(s,u.measurementId),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId}class Y_{constructor(e){this.app=e}_delete(){return delete J_[this.app.options.appId],Promise.resolve()}}let J_={},X_=[];const Z_={};let $_,ek,tk="dataLayer",nk="gtag",rk=!1;function ik(e){if(rk)throw z_.create("already-initialized");e.dataLayerName&&(tk=e.dataLayerName),e.gtagName&&(nk=e.gtagName)}function sk(e,t,n){!function(){const e=[];if(qt()&&e.push("This is a browser extension environment."),Gt()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=z_.create("invalid-analytics-context",{errorInfo:t});j_.warn(n.message)}}();const r=e.options.appId;if(!r)throw z_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw z_.create("no-api-key");j_.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=J_[r])throw z_.create("already-exists",{id:r});if(!rk){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(tk);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=B_(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(J_,X_,Z_,tk,nk);ek=e,$_=t,rk=!0}J_[r]=G_(e,X_,Z_,t,$_,tk,n);return new Y_(e)}async function ok(){if(qt())return!1;if(!Gt())return!1;if(!Wt())return!1;try{return await Qt()}catch(e){return!1}}function ak(e,t,n){e=cn(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(ek,J_[e.app.options.appId],t,n).catch(e=>j_.error(e))}function lk(e,t,n){e=cn(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(ek,J_[e.app.options.appId],t,n).catch(e=>j_.error(e))}function ck(e,t,n){e=cn(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(ek,J_[e.app.options.appId],t,n).catch(e=>j_.error(e))}function uk(e,t){e=cn(e),async function(e,t){const n=await e;window["ga-disable-".concat(n)]=!t}(J_[e.app.options.appId],t).catch(e=>j_.error(e))}function hk(e,t,n,r){e=cn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(ek,J_[e.app.options.appId],t,n,r).catch(e=>j_.error(e))}const dk="@firebase/analytics",fk="0.7.4";tr(new un(F_,(e,t)=>{let{options:n}=t;return sk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),tr(new un("analytics-internal",function(e){try{const t=e.getProvider(F_).getImmediate();return{logEvent:(e,n,r)=>hk(t,e,n,r)}}catch(t){throw z_.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),dr(dk,fk),dr(dk,fk,"esm2017");class pk{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,n){hk(this._delegate,e,t,n)}setCurrentScreen(e,t){ak(this._delegate,e,t)}setUserId(e,t){lk(this._delegate,e,t)}setUserProperties(e,t){ck(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){uk(this._delegate,e)}}var mk;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(mk||(mk={}));const gk=e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new pk(t,n)};!function(){const e={Analytics:pk,settings:ik,isSupported:ok,EventName:mk};br.INTERNAL.registerComponent(new un("analytics-compat",gk,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),br.registerVersion("@firebase/analytics-compat","0.1.5");var yk=function(){return yk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yk.apply(this,arguments)};var vk=function(e){return{loading:void 0===e||null===e,value:e}},wk=function(e){var n=e?e():void 0,r=(0,t.useReducer)(function(e,t){switch(t.type){case"error":return yk({},e,{error:t.error,loading:!1,value:void 0});case"reset":return vk(t.defaultValue);case"value":return yk({},e,{error:void 0,loading:!1,value:t.value});default:return e}},vk(n)),i=r[0],s=r[1],o=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},a=function(e){s({type:"error",error:e})},l=function(e){s({type:"value",value:e})};return(0,t.useMemo)(function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:l,value:i.value}},[i.error,i.loading,o,a,l,i.value])},bk=function(e){var n=wk(function(){return e.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;(0,t.useEffect)(function(){return function(e,t,n,r){return cn(e).onAuthStateChanged(t,n,r)}(e,o,s)},[e]);var l=[a,i,r];return(0,t.useMemo)(function(){return l},l)},Ik=function(){return Ik=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ik.apply(this,arguments)},Ek=function(e){return{loading:void 0===e||null===e,value:e}},_k=function(e){var n=e?e():void 0,r=(0,t.useReducer)(function(e,t){switch(t.type){case"error":return Ik({},e,{error:t.error,loading:!1,value:void 0});case"reset":return Ek(t.defaultValue);case"value":return Ik({},e,{error:void 0,loading:!1,value:t.value});default:return e}},Ek(n)),i=r[0],s=r[1],o=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},a=function(e){s({type:"error",error:e})},l=function(e){s({type:"value",value:e})};return(0,t.useMemo)(function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:l,value:i.value}},[i.error,i.loading,o,a,l,i.value])},kk=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)(function(){n(e,i.current)||(i.current=e,r&&r())}),i},Tk=function(e,t,n,r,i){if(e.exists()){var s=e.data(t);return i&&(s=i(s)),n&&(s[n]=e.id),r&&(s[r]=e.ref),s}},Sk=function(e,t){var n=!e&&!t,r=!!e&&!!t&&ag(e,t);return n||r},Ak=function(e,n,r){var i=_k(),s=i.error,o=i.loading,a=i.reset,l=i.setError,c=i.setValue,u=i.value,h=function(e,t){return kk(e,Sk,t)}(n,a);(0,t.useEffect)(function(){if(h.current){if(e){var t=r&&r.snapshotListenOptions?Cy(h.current,r.snapshotListenOptions,c,l):Cy(h.current,c,l);return function(){t()}}var n=function(e){switch((void 0===e?{source:"default"}:e).source){default:case"default":return ky;case"cache":return Ty;case"server":return Sy}}(r?r.getOptions:void 0);n(h.current).then(c).catch(l)}else c(void 0)},[h.current]);var d=[u,o,s];return(0,t.useMemo)(function(){return d},d)},Nk=function(e,n,r){var i=r?r.idField:void 0,s=r?r.refField:void 0,o=r?r.snapshotOptions:void 0,a=r?r.transform:void 0,l=Ak(e,n,r),c=l[0],u=l[1],h=l[2],d=[(0,t.useMemo)(function(){return c?c.docs.map(function(e){return Tk(e,o,i,s,a)}):void 0},[c,o,i,s,a]),u,h];return(0,t.useMemo)(function(){return d},d)};br.initializeApp({apiKey:"AIzaSyCwZKvNHtNsjNO_aeXCdeFeXn4-YOM1xw8",authDomain:"facebook-clone-a72c0.firebaseapp.com",projectId:"facebook-clone-a72c0",storageBucket:"facebook-clone-a72c0.appspot.com",messagingSenderId:"964855994482",appId:"1:964855994482:web:e93ffafcc1bc961c524aeb",measurementId:"G-2DNZTHXNZ1"});const Ck=br.auth(),xk=br.firestore(),Ok=xk.collection("posts"),Pk=Ok,Dk=new br.auth.GoogleAuthProvider,Rk=async()=>{const e=(await Ck.signInWithPopup(Dk)).user;0===(await xk.collection("users").where("uid","==",e.uid).get()).docs.length&&await xk.collection("users").doc(e.uid).set({uid:e.uid,name:e.displayName,authProvider:"google",email:e.email})},Lk=async()=>{await Xw(Ck).then(()=>{Ck.currentUser.updateProfile({displayName:"Anonymous"})})};const Mk=function(){return Ck.currentUser&&(0,Ze.jsx)("button",{className:"signOut",onClick:()=>Ck.signOut(),children:"Sign Out"})};var Fk;const Uk=["title","titleId"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}function Vk(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Uk);return t.createElement("svg",jk({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#1877f2",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,Fk||(Fk=t.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z"})))}const Bk=t.forwardRef(Vk);n.p;var zk;const qk=["title","titleId"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hk.apply(null,arguments)}function Kk(e,n){let{title:r,titleId:i}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qk);return t.createElement("svg",Hk({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#1877f2",ref:n,"aria-labelledby":i},s),r?t.createElement("title",{id:i},r):null,zk||(zk=t.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14l4-4 3 3 5-5 4 4z"})))}const Wk=t.forwardRef(Kk);n.p;function Qk(e){let{username:n,changeUsername:r}=e;const[i,s]=(0,t.useState)(""),[o]=(0,t.useState)([{id:1,time:"Just now",content:"Coming soon for users logged in with their Google account!"}]);return(0,Ze.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Ze.jsx)(tt,{username:n}),(0,Ze.jsxs)("div",{className:"max-w-5xl mx-auto mt-20 grid grid-cols-1 lg:grid-cols-3 gap-6 px-4",children:[(0,Ze.jsxs)("aside",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[(0,Ze.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ze.jsx)(Wk,{className:"w-24 h-24 text-gray-400"}),(0,Ze.jsx)("h2",{className:"mt-4 text-2xl font-semibold text-gray-800",children:n}),(0,Ze.jsxs)("button",{className:"mt-2 flex items-center text-[#1877f2] hover:underline",children:[(0,Ze.jsx)(Bk,{className:"w-5 h-5 mr-1"}),"Edit Profile"]})]}),(0,Ze.jsxs)("div",{className:"mt-6",children:[(0,Ze.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Change Username"}),(0,Ze.jsxs)("form",{onSubmit:e=>{r(e),s("")},className:"flex flex-wrap gap-2",children:[(0,Ze.jsx)("input",{type:"text",className:"flex-grow min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1877f2]",placeholder:"New username",value:i,onChange:e=>s(e.target.value),required:!0}),(0,Ze.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#1877f2] text-white rounded-lg hover:bg-blue-600 transition",children:"Change"})]})]}),(0,Ze.jsx)("div",{className:"mt-6",children:(0,Ze.jsx)(Mk,{})})]}),(0,Ze.jsx)("section",{className:"lg:col-span-2 space-y-6",children:(0,Ze.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[(0,Ze.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Recent Posts"}),(0,Ze.jsx)("ul",{className:"space-y-4",children:o.map(e=>(0,Ze.jsxs)("li",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,Ze.jsx)("p",{className:"text-gray-700",children:e.content}),(0,Ze.jsx)("span",{className:"text-sm text-gray-500",children:e.time})]},e.id))})]})})]})]})}const Gk=function(){return(0,Ze.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-100 p-4",children:[(0,Ze.jsxs)("div",{className:"flex-grow max-w-4xl w-full flex flex-col md:flex-row items-center space-y-12 md:space-y-0 md:space-x-12 mx-auto",children:[(0,Ze.jsxs)("div",{className:"flex flex-col space-y-4 md:w-1/2",children:[(0,Ze.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/9/93/Facebook_logo_%282023%29.svg",alt:"Facebook",className:"w-48"}),(0,Ze.jsx)("p",{className:"text-2xl text-gray-800 leading-snug",children:"Connect with friends and the world around you on Facebook."})]}),(0,Ze.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 md:w-1/2 w-full",children:[(0,Ze.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Ze.jsx)("button",{onClick:Rk,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-md transition",children:"Log In with Google"}),(0,Ze.jsx)("button",{onClick:Lk,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-4 rounded-md transition",children:"Use Guest Account"})]}),(0,Ze.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-600 space-x-2",children:[(0,Ze.jsx)("a",{href:"https://github.com/skeanster",target:"_blank",rel:"noreferrer",className:"hover:underline hover:text-blue-600",children:"GitHub"}),(0,Ze.jsx)("span",{children:"-"}),(0,Ze.jsx)("a",{href:"https://www.linkedin.com/in/ryanskeans/",target:"_blank",rel:"noreferrer",className:"hover:underline hover:text-blue-600",children:"LinkedIn"}),(0,Ze.jsx)("span",{children:"-"}),(0,Ze.jsx)("a",{href:"https://skeanster.github.io/",target:"_blank",rel:"noreferrer",className:"hover:underline hover:text-blue-600",children:"Ryan Inc."})]})]})]}),(0,Ze.jsx)("footer",{className:"mt-auto w-full border-t border-gray-300 pt-6 bg-white",children:(0,Ze.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,Ze.jsx)("div",{className:"flex flex-wrap justify-center gap-4 text-xs text-gray-500 mb-4",children:["English (US)","Espa\xf1ol","Fran\xe7ais (France)","\u4e2d\u6587(\u7b80\u4f53)","\u0627\u0644\u0639\u0631\u0628\u064a\u0629","Portugu\xeas (Brasil)","Italiano","Deutsch","\u65e5\u672c\u8a9e","\ud55c\uad6d\uc5b4"].map(e=>(0,Ze.jsx)("button",{className:"hover:underline focus:outline-none","aria-label":"Change language to ".concat(e),children:e},e))}),(0,Ze.jsx)("div",{className:"flex flex-wrap justify-center gap-6 text-xs text-gray-600",children:[{label:"Instagram",href:"#"},{label:"Twitter",href:"#"},{label:"About",href:"#"},{label:"Help",href:"#"},{label:"Privacy",href:"#"},{label:"Terms",href:"#"},{label:"Contact",href:"#"}].map(e=>{let{label:t,href:n}=e;return(0,Ze.jsx)("a",{href:n,className:"hover:underline",onClick:e=>e.preventDefault(),children:t},t)})}),(0,Ze.jsx)("p",{className:"mt-4 text-center text-gray-400 text-xs select-none",children:"\xa9 2025 Fakebook from Ryan Inc."})]})})]})},Yk=()=>{const[e,n]=(0,t.useState)("Anonymous");(0,t.useEffect)(()=>{Ck.onAuthStateChanged(e=>{null!==e.displayName?n(e.displayName):n("Anonymous")})},[]);const[r]=bk(Ck),[i]=function(e,t){return Nk(!0,e,t)}(Pk);return(0,Ze.jsx)(Y,{children:(0,Ze.jsxs)(I,{children:[(0,Ze.jsx)(w,{path:"/facebook-clone-react",element:r?(0,Ze.jsx)(Pt,{username:e,posts:i,newPost:async t=>{t.preventDefault();let n=wt()();await Ok.doc(n).set({id:n,poster:e,post:t.target.childNodes[0].value,likes:[],comments:[]}),t.target.childNodes[0].value=""},like:async e=>{let t=await Ok.doc(e.target.parentNode.parentNode.id);return await(await t.get()).data().likes.find(e=>e===r.uid)?(await t.update({likes:br.firestore.FieldValue.arrayRemove(r.uid)}),!1):(await t.update({likes:Ly(r.uid)}),!0)},newComment:async t=>{t.preventDefault();let n=await Ok.doc(t.target.parentNode.parentNode.id);await n.update({comments:Ly({commenter:e,comment:t.target.childNodes[0].value})}),t.target.childNodes[0].value=""},checkLike:e=>!!e.likes.find(e=>e===r.uid)}):(0,Ze.jsx)(Gk,{})}),(0,Ze.jsx)(w,{path:"/facebook-clone-react/ProfilePage",element:r?(0,Ze.jsx)(Qk,{username:e,changeUsername:async e=>{e.preventDefault(),await Ck.currentUser.updateProfile({displayName:e.target.childNodes[0].value}),n(Ck.currentUser.displayName),e.target.childNodes[0].value=""}}):(0,Ze.jsx)(Gk,{})}),(0,Ze.jsx)(w,{path:"/facebook-clone-react/LogIn",element:(0,Ze.jsx)(Gk,{})})]})})};r.render((0,Ze.jsx)(t.StrictMode,{children:(0,Ze.jsx)(Yk,{})}),document.getElementById("root")),i()})()})();
//# sourceMappingURL=main.1a220547.js.map